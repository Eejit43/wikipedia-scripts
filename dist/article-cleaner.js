// <nowiki>
// Note: This script was compiled and minified from TypeScript. For a more readable version, see https://github.com/Eejit43/wikipedia-scripts/blob/main/scripts/article-cleaner.ts

"use strict";(()=>{mw.config.get("wgNamespaceNumber")<0||mw.config.get("wgIsProbablyEditable")&&mw.loader.using(["mediawiki.util","jquery.textSelection"],()=>{mw.util.addCSS(`
#article-cleaner {
    display: none;
}

#content:has(#wpTextbox1) #article-cleaner {
    display: unset;
}`);let e=mw.util.addPortletLink(mw.config.get("skin")==="minerva"?"p-navigation":"p-cactions","#","Perform article cleanup","article-cleaner"),c=!1,g="Cleaned up article content (via [[User:Eejit43/scripts/article-cleaner|article-cleaner]])";mw.hook("ve.saveDialog.stateChanged").add(()=>{if(c){let p=document.querySelector(".ve-ui-mwSaveDialog-summary textarea");p.value.includes(g.slice(1))||(p.value&&!p.value.startsWith("/* ")&&!p.value.endsWith(" */ ")?p.value+=`; ${g.charAt(0).toLowerCase()+g.slice(1)}`:p.value=`${p.value}${g}`),c=!1}}),e.addEventListener("click",async p=>{p.preventDefault();let n=$("#wpTextbox1");if(n.length===0)return mw.notify("Edit box not found!",{type:"error",autoHideSeconds:"short"});let f=n.textSelection("getContents"),a=f;if(a=E(a),a=C(a),a=N(a),a=L(a),a=R(a),a=I(a,[F,M]),a=O(a),a=v(a),a=P(a),a=await D(a),a=U(a),a=v(a,!0),a=W(a),f===a)mw.notify("No changes to be made to the article!",{type:"warn",autoHideSeconds:"short"});else{if(ve.init){let m=ve.init.target.getSurface().getModel();m.getLinearFragment(m.getRangeFromSourceOffsets(0,f.length)).insertContent(a),m.setSelection(new ve.dm.LinearSelection(new ve.Range(0,0)))}else n.textSelection("setContents",a),n.textSelection("setSelection",{start:0});mw.notify("Article cleanup complete!",{type:"success",autoHideSeconds:"short"});let d=document.querySelector("#wpSummary");d?d.value.includes(g.slice(1))||(d.value?d.value+=`; ${g.charAt(0).toLowerCase()+g.slice(1)}`:d.value=g):c=!0}})});function A(e){return e.replaceAll(/[$()*+.?[\\\]^{|}]/g,"\\$&")}function E(e){let c=/[\u0000-\u0009\u000B\u000C\u000E-\u001F\u007F\u00AD\u200B-\u200F\u202A-\u202E\u2060\u2063\uFEFF]/g;return c.test(e)&&(e=e.replaceAll(c,"")),e}function C(e){let c={"See also":["also see"],References:["reference","source","sources","citation","citations"],"Further reading":["further reading"],"External links":["external link","weblink","weblinks"]},g=["and","birth","career","death","education","life","of","or"],p=Object.fromEntries(Object.entries(c).flatMap(([m,r])=>[[m.toLowerCase(),m],...r.map(s=>[s,m])])),f=[...e.matchAll(/(?<=^|\n)\n*(?<startMarkup>=+) *(?<name>.*?) *(?<endMarkup>=+)(\n+|$)/g)].map(m=>{let{name:r}=m.groups,{startMarkup:s,endMarkup:o}=m.groups;r=r.replaceAll(/'{3}/g,"");let b=r.matchAll(/\[\[(.+?)]]/g).toArray();for(let t of b)r=r.replace(t[0],t[1].split("|").at(-1));let T=Math.max(s.length,o.length,2);return{name:r,depth:T,original:m[0]}}),a=new Set(f.map(m=>m.name)),d=f.length>0&&/^\n*=+ | =+\n+$/.test(f[0].original)?" ":"";for(let m of f){let r=m.name.toLowerCase(),o=r in p&&!a.has(p[r])?p[r]:m.name;for(let T of g)o=o.replaceAll(new RegExp(`\\b${T}\\b`,"gi"),T);o=o.charAt(0).toUpperCase()+o.slice(1);let b=`${"=".repeat(m.depth)}${d}${o}${d}${"=".repeat(m.depth)}`;m.original!==b&&(e=e.replace(m.original,`

${b}
`))}return e}function N(e){return e.replaceAll(/__(INDEX|NOINDEX|NEWSECTIONLINK|NONEWSECTIONLINK|NOEDITSECTION|DISAMBIG|STATICREDIRECT|FORCETOC)__\n*/g,"")}function L(e){let g=[...e.matchAll(/{{(displaytitle|defaultsort)[:|](.*?)}}/gi)].map(n=>{let[f,a,d]=n;return{type:a.toUpperCase(),value:d,original:f}}),p=mw.Title.newFromText(mw.config.get("wgPageName"));for(let n of g){let f=new RegExp(`${A(n.original)}
*`,"g"),a=mw.Title.newFromText(n.value);if(!a)continue;let d=mw.Title.makeTitle(p.getNamespaceId(),a.getMainText());if(!d)continue;let m=n.type==="DISPLAYTITLE"?p.toText():p.getMainText(),r=n.type==="DISPLAYTITLE"?d.toText():d.getMainText();if(m===r){e=e.replace(f,"");continue}let s=`{{${n.type}:${r}}}
`;e=e.replace(f,s)}return e}function R(e){return e.replaceAll(/(\[\[|}}):?category:(.*?)(]]|}})/gi,`[[${mw.config.get("wgCanonicalNamespace")==="Draft"?":":""}Category:$2]]`)}function I(e,c){let g=[],p=[],n=!1,f=!1,a=0;function d(s,o=!0){let b=e.slice(a,a+s.length)===s;return b&&o&&(a+=s.length),b}for(;a<e.length;)if(d("<nowiki>"))n=!0;else if(d("</nowiki>"))n=!1;else if(d("<!--"))f=!0;else if(d("-->"))f=!1;else if(!n&&!f)if(d("[["))p.push({start:a-2,end:-1,isNested:p.length>0});else if(d("]]")){let s=p.pop();if(!s)continue;s.end=a,g.push(s)}else a++;else a++;let m=[],r=Object.values(mw.config.get("wgFormattedNamespaces"));for(let s of g){let o=e.slice(s.start+2,s.end-2),[b,...T]=o.split("|");e=e.slice(0,s.start+2)+"\0".repeat(b.length)+e.slice(s.start+2+b.length);let t=b.replaceAll("_"," ").trim(),i=T.join("|");i=i===" "?" ":i.trim();let h=t.startsWith(":");h&&(t=t.slice(1));let l=!1,w=t.charAt(0).toUpperCase()+t.slice(1),x=t.charAt(0).toLowerCase()+t.slice(1),u=t.split(":")[0];u=u.charAt(0).toUpperCase()+u.slice(1),t.includes(":")&&(w.startsWith("Image:")&&(t=`${t.startsWith("Image:")?"F":"f"}ile:${t.slice(6)}`),h&&(["Image","File","Category"].includes(w.split(":")[0])||!r.includes(u))&&(l=!0));let k="";if(/[!',.:;?]$/.test(i)){let S=i.slice(-1);t.endsWith(S)||(k=S,i=i.slice(0,-1))}t===i?i="":new RegExp(`^${A(t)}[a-z]+$`).test(i)&&(k=i.slice(t.length)+k,i="");for(let S of[w,x])S===i?(t=S,i=""):new RegExp(`^${A(S)}[a-z]+$`).test(i)&&(t=S,k=i.slice(S.length)+k,i="");(i&&t.includes(":")&&r.includes(u)||t.startsWith("file:")||t.startsWith("category:"))&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t=`${l?":":""}${t}`,t=t.padStart(b.length,"\0");let y=`[[${t}${i?`|${i}`:""}]]${k}`;m.push([s,y])}for(let s of c)e=s(e,1);for(let s=0;s<2;s++)for(let[o,b]of m)s===0&&o.isNested||s===1&&!o.isNested||(e=e.slice(0,o.start)+b.padEnd(o.end-o.start,"\0")+e.slice(o.end));for(let s of c)e=s(e,2);return e.replaceAll("\0","")}function F(e,c){let g="\x7F",p="\x9F";return c===1?(e=e.replaceAll(/[“”„‟]/g,'"'),e=e.replaceAll(/[‘’‚‛]/g,"'"),e=e.replaceAll("\u2026",g),e=e.replaceAll("\xA0",p)):(e=e.replaceAll(g,"..."),e=e.replaceAll(p,"&nbsp;")),e}function M(e,c){return c===1&&(e=e.replaceAll(/(\(\d{3,4}) ?[‒–−-] ?(\d{3,4}\))/g,(g,p,n)=>`${p}\u2013${n}`.padEnd(g.length,"\0"))),e}function O(e){let c=[/'+(Bold|Italic)( text)?'+ */g,/(<big>)+Big( text)?(<\/big>)+ */g,/(<small>)+Small( text)?(<\/small>)+ */g,/(<sup>)+Superscript( text)?(<\/sup>)+ */g,/(<sub>)+Subscript( text)?(<\/sub>)+ */g,/(<s>)+Strikethrough(<\/s>)+ */g,/(<u>)+Underline(<\/u>)+ */g,/(<code>)+Computer code(<\/code>)+ */g,/(<nowiki>)+Insert non-formatted text here(<\/nowiki>)+ */g,/=+ Heading text =+ */g,/\* Bulleted list item */g,/# Numbered list item */g,/<gallery>\nExample.jpg\|Caption1\nExample.jpg\|Caption2\n<\/gallery> */g,/#REDIRECT \[\[Target page name]] */g,/<!-- Invisible comment --> */g,/<\s*(big|small|sup|sub|s|u|code|nowiki|noinclude|onlyinclude|includeonly|center|blockquote|gallery)\s*(\s+[^<>]*)?>\s*<\s*\/\s*\1\s*>/gi];for(let g of c)for(;g.test(e);)e=e.replace(g,"");return e}function v(e,c=!1){return e=e.replaceAll(/(\b|\p{Punctuation}|\]\]|\}\}|\w>) {2,}(\b|\p{Punctuation}|\[\[|\{\{|<\w)/gu,"$1 $2"),c||(e=e.replaceAll(/^ +| +$/gm,"")),e=e.replaceAll(/\n{3,}/g,`

`),e=e.replace(/\s*({{[^}]*stub}})/i,`

$1`),e=e.replaceAll(/\s+$/g,""),e=e.replaceAll(/^([#*]+) */gm,"$1 "),e=e.replaceAll(/^([#*]+ .*)\n+(?=[#*]+ )/gm,`$1
`),c||(e=e.replaceAll(/(?<!\|)\s+(?=<ref(?!erences))/g,"")),e=e.replaceAll(/<\/([A-Za-z]+) +>/g,"</$1>"),e=e.replaceAll(/^(=+.*?=+)$\n{2,}(?=^=+.*?=+$)/gm,`$1
`),e=e.trim(),e}function P(e){e=e.replaceAll(/((?:<ref(?!erences)[^/]*?>.*?<\/ref>|<ref(?!erences).*?\/>)+)([!,.;?])?/g,(r,s,o)=>(o??"")+s);let c=[],g=!1,p=!1,n=0;function f(r){let s=e.slice(n,n+r.length)===r;return s&&(n+=r.length),s}function a(r){for(;n<e.length&&!f(r);)n++}for(;n<e.length;)if(f("<nowiki>"))g=!0;else if(f("</nowiki>"))g=!1;else if(f("<!--"))p=!0;else if(f("-->"))p=!1;else if(!g&&!p)if(!f("<references")&&f("<ref")){let r=n-4;a(">");let s=e.slice(r,n-1).trim().endsWith("/");c.push(s?{start:r,end:n,isSelfClosing:s}:{start:r,end:-1})}else f("</ref>")?c.at(-1).end=n:n++;else n++;let d=new DOMParser,m=[];for(let r of c){let s=e.slice(r.start,r.end),o=/<ref(?!erences).*?>/is.exec(s)[0],T=d.parseFromString(r.isSelfClosing?o.replace(/ *\/ *>/," />"):o+"</ref>","text/html").body.firstChild.outerHTML.replaceAll("&amp;","&"),t=s.slice(o.length,-6).trim().replaceAll(/^\[ *([^ \]]*) *]$/gm,"$1").trim();T=r.isSelfClosing||t.length===0?T.replace(/>\s*<\/ref>/," />"):`${T.slice(0,-6)}${t}</ref>`,s!==T&&m.push([s,T])}for(let[r,s]of m)e=e.replace(r,s);return e}async function D(e){let c;(w=>(w[w.Expanded=0]="Expanded",w[w.ExpandedAligned=1]="ExpandedAligned",w[w.Minimized=2]="Minimized",w[w.MinimizedSpaced=3]="MinimizedSpaced"))(c||={});let g;(l=>(l[l.User=2]="User",l[l.Template=10]="Template",l[l.Draft=118]="Draft"))(g||={});let p=JSON.parse((await new mw.Api().get({action:"query",formatversion:"2",prop:"revisions",rvprop:"content",rvslots:"main",titles:"User:Eejit43/scripts/article-cleaner.json"})).query.pages[0]?.revisions?.[0]?.slots?.main?.content||"[]"),n=Object.fromEntries(p.flatMap(t=>t.from.map(i=>[i.charAt(0).toLowerCase()+i.slice(1),t.to])));class f{location;isNested=!1;fullText;fullTextEscaped;rawName;name;parameters=[];subTemplates=[];placeholderStrings=["\u{F0000}","\u{10FFFF}","\u{FFFFE}"];pipeEscapeRegexes=[/(\[\[[^\]]*?)\|(.*?]])/g,/(<!--.*?)\|(.*?-->)/g,/(<nowiki>.*?)\|(.*?<\/nowiki>)/g];templateAliases=n;defaultTemplateStyles={1:["album rating","album reviews","american football uniform","australian rules football kit","automatic taxobox","baseball uniform","basketball kit","beachhandball kit","blockquote","chembox","cricket uniform","election box","episode list","external music video","extra album cover","field hockey kit","football box","football kit","footballbox","handball kit","hybridbox","icehockey kit","ichnobox","infobox","infraspeciesbox","judo bracket","judo repechage","listen","location map","medical resources","motorsport season","multiple image","music ratings","mycomorphbox","navbox","oobox","orbitbox","osm location map","quote box","repechage","rugbybox","sidebar","single ratings","singles","song ratings","speciesbox","starbox","succession box","taxobox","team bracket","track listing","tweet","virusbox","volleyball kit","nteambracket","2nteam-nteambracket","2teambracket","3teambracket","3teamrr","4teambracket","4teamrr","5teambracket","5teamrr","6teambracket","6teamrr","7teambracket","7teamrr","8teambracket","8teamroundrobin","8teamrr","9teambracket","10teambracket","11teambracket","12teambracket","13teambracket","14teambracket","15teambracket","16teambracket","18teambracket","20teambracket","24teambracket","27teambracket","32teambracket","40teambracket","48teambracket","64teambracket","128teambracket"],2:["birth date","coord","death date","end date","lang","start date"],3:["infobox mapframe"]};namespaceSpecificTemplates={118:["afc comment","afc submission","afc submission/draft","afc topic","draft article","draft categories","draft topics","draft","drafts moved from mainspace","preloaddraft submit"],2:["dashboard.wikiedu.org sandbox","user sandbox","userspace draft"]};templatesToKeepContent=["draft categories"];templatesToSubst=["articlepagename","articlespace","basepagename","fullpagename","namespace","namespacenumber","pagename","rootpagename","subjectpagename","subjectspace","subpagename","talkpagename","talkspace","pagenamebase"];constructor(i){this.location={start:i}}parse(){this.fullText=e.slice(this.location.start,this.location.end),this.fullTextEscaped=this.fullText;for(let u of this.subTemplates)u.parse(),this.fullTextEscaped=this.fullTextEscaped.replace(u.fullText,this.placeholderStrings[0]);let i=this.fullTextEscaped.slice(2,-2).trim();for(let u of this.pipeEscapeRegexes)for(;u.test(i);)i=i.replaceAll(u,`$1${this.placeholderStrings[1]}$2`);let h=[/<(\w+)( [^<>]+?)(?<!\/)>.*?<\/\1>/g,/<(\w+)( [^<>]+?)\/>/g];for(let u of h)i=i.replaceAll(u,(k,y,S)=>k.replace(S,S.replaceAll("=",this.placeholderStrings[2])));let l=i.split("|").map(u=>u.replaceAll(this.placeholderStrings[1],"|").trim());this.rawName=l.shift(),this.name=this.rawName.replaceAll("_"," "),this.name.toLowerCase().startsWith("template:")&&(this.name=this.name.slice(9));let w=this.name.charAt(0).toLowerCase()+this.name.slice(1);this.name=w in this.templateAliases?this.templateAliases[w]:this.name;let x=l.map(u=>{let k=u.indexOf("=");if(k===-1)return{key:null,value:u.replaceAll(this.placeholderStrings[2],"=").trim()};let y=u.slice(k+1).replaceAll(this.placeholderStrings[2],"=");return{key:u.slice(0,k).trim(),value:`${y.startsWith(`
`)?`
`:""}${y.trim()}`}});this.parameters=x}shouldBeRemoved(){for(let[i,h]of Object.entries(this.namespaceSpecificTemplates))if(mw.config.get("wgNamespaceNumber")!==Number.parseInt(i)&&h.includes(this.name.toLowerCase()))return!0;return!1}getStyle(){let i=0,h;for(let[l,w]of Object.entries(this.defaultTemplateStyles))for(let x of w)this.name.toLowerCase().startsWith(x)&&x.length>=i&&(i=x.length,h=Number.parseInt(l));return h}cleanupParameters(){let i=new Set(["cover","image_flag","image","logo","map_image"]);for(let h=1;h<=10;h++)i.add(`image${h}`);this.parameters=this.parameters.map(({key:h,value:l})=>(h&&i.has(h)&&(l=l.trim(),l.startsWith("[[")&&l.endsWith("]]")&&(l=/\[\[(.*?)]]/g.exec(l)[1].split("|")[0]),l=l.replace(/^(File|Image):/,"").replaceAll("_"," ")),{key:h,value:l}))}format(){if(this.fullText||this.parse(),this.shouldBeRemoved())return this.templatesToKeepContent.includes(this.name.toLowerCase())?this.parameters[0].value:"";let i=mw.config.get("wgNamespaceNumber")!==10&&this.templatesToSubst.some(x=>x===this.name.toLowerCase()||this.name.toLowerCase().startsWith(`${x}:`)),h=this.getStyle();if(h===void 0){let x=this.name;this.name.toLowerCase().startsWith("template:")&&(x=this.name.slice(9)),i&&(x=`subst:${x}`),x!==this.rawName&&(this.fullTextEscaped=this.fullTextEscaped.replace(this.rawName,x));for(let u of this.subTemplates)this.fullTextEscaped=this.fullTextEscaped.replace(this.placeholderStrings[0],u.format());return this.fullTextEscaped}let l=[`{{${i?"subst:":""}${this.name}`];if(this.cleanupParameters(),h===0||h===1){let x=0;h===1&&(x=Math.max(...this.parameters.map(u=>u.key?.length??0)));for(let[u,k]of this.parameters.entries())!k.key&&!k.value&&this.parameters.slice(u+1).every(y=>y.key??!y.value)||l.push(`| ${k.key?`${k.key.padEnd(x)} = `:""}${k.value}`)}else for(let[x,u]of this.parameters.entries())!u.value&&(u.key||this.parameters.slice(x+1).every(k=>k.key??!k.value))||l.push(`|${u.key?`${u.key}=`:""}${u.value}`);l.push("}}"),l.length===2?(l[0]+="}}",l.pop()):h===3&&(l[l.length-2]+="}}",l.pop());let w=l.join(h===0||h===1?`
`:h===3?" ":"");for(let x of this.subTemplates)w=w.replace(this.placeholderStrings[0],x.format());return w}}let a=[],d=[],m=!1,r=!1,s=!1,o=0;function b(t){let i=e.slice(o,o+t.length)===t;return i&&(o+=t.length),i}for(;o<e.length;)if(b("<nowiki>"))r=!0;else if(b("</nowiki>"))r=!1;else if(b("<!--"))s=!0;else if(b("-->"))s=!1;else if(!r&&!s)if(b("[["))m=!0;else if(m&&b("]]"))m=!1;else if(b("{{")){let t=new f(o-2);d.length>0&&(t.isNested=!0,d.at(-1)?.subTemplates.push(t)),d.push(t)}else if(b("}}")){let t=d.pop();if(!t)continue;t.location.end=o,a.push(t)}else o++;else o++;let T=e;for(let t of a)t.isNested||(t.parse(),T=T.replace(t.fullText,t.format()));return T}function U(e){if(mw.config.get("wgNamespaceNumber")!==0)return e;let c=["Do not remove this line","EDIT BELOW THIS LINE","Important, do not remove anything above this line before article has been created","Important, do not remove this line before article has been created","Inline citations added to your article will automatically display here","Note: The following pages were redirects to "];for(let g of c)e=e.replaceAll(new RegExp(` *<!-- ?${A(g)}.*?--> *
?`,"gs"),"");return e}function W(e){let c=[...e.matchAll(/\[\[Category:/g)].length;return e=e.replaceAll(/\n*{{(uncategorized|improve categories)(\|.+?)?}}\n*/gi,""),c===0&&!/{{uncategorized/i.test(e)?e+=`

{{Uncategorized|{{subst:CURRENTMONTHNAME}} {{subst:CURRENTYEAR}}}}`:c===1&&!/{{improve categories/i.test(e)&&(e+=`

{{Improve categories|{{subst:CURRENTMONTHNAME}} {{subst:CURRENTYEAR}}}}`),e}})();

// </nowiki>
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc2NyaXB0cy9hcnRpY2xlLWNsZWFuZXIudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB0eXBlIHsgQXBpUXVlcnlSZXZpc2lvbnNQYXJhbXMgfSBmcm9tICd0eXBlcy1tZWRpYXdpa2kvYXBpX3BhcmFtcyc7XG5pbXBvcnQgdHlwZSB7IFBhZ2VSZXZpc2lvbnNSZXN1bHQgfSBmcm9tICcuLi9nbG9iYWwtdHlwZXMnO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHRyYW5lb3VzLWNsYXNzXG4gICAgY2xhc3MgVmVSYW5nZSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKTtcbiAgICB9XG5cbiAgICBjbGFzcyBWZUZyYWdtZW50IHtcbiAgICAgICAgaW5zZXJ0Q29udGVudChjb250ZW50OiBzdHJpbmcpOiB2b2lkO1xuICAgIH1cblxuICAgIGNsYXNzIFZlU3VyZmFjZU1vZGVsIHtcbiAgICAgICAgZ2V0TGluZWFyRnJhZ21lbnQocmFuZ2U6IFZlUmFuZ2UpOiBWZUZyYWdtZW50O1xuICAgICAgICBnZXRSYW5nZUZyb21Tb3VyY2VPZmZzZXRzKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKTogVmVSYW5nZTtcbiAgICAgICAgc2V0U2VsZWN0aW9uKHNlbGVjdGlvbjogVmVMaW5lYXJTZWxlY3Rpb24pOiB2b2lkO1xuICAgIH1cblxuICAgIGNsYXNzIFZlVGFyZ2V0IHtcbiAgICAgICAgZ2V0U3VyZmFjZSgpOiB7IGdldE1vZGVsKCk6IFZlU3VyZmFjZU1vZGVsIH07XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHRyYW5lb3VzLWNsYXNzXG4gICAgY2xhc3MgVmVMaW5lYXJTZWxlY3Rpb24ge1xuICAgICAgICBjb25zdHJ1Y3RvcihyYW5nZTogVmVSYW5nZSk7XG4gICAgfVxuXG4gICAgY29uc3QgdmU6IHtcbiAgICAgICAgUmFuZ2U6IHR5cGVvZiBWZVJhbmdlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuICAgICAgICBkbTogeyBMaW5lYXJTZWxlY3Rpb246IHR5cGVvZiBWZUxpbmVhclNlbGVjdGlvbiB9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuICAgICAgICBpbml0PzogeyB0YXJnZXQ6IFZlVGFyZ2V0IH07XG4gICAgfTtcbn1cblxuZXhwb3J0IHt9O1xuXG4oKCkgPT4ge1xuICAgIGlmIChtdy5jb25maWcuZ2V0KCd3Z05hbWVzcGFjZU51bWJlcicpIDwgMCkgcmV0dXJuOyAvLyBEb24ndCBydW4gaW4gdmlydHVhbCBuYW1lc3BhY2VzXG4gICAgaWYgKCFtdy5jb25maWcuZ2V0KCd3Z0lzUHJvYmFibHlFZGl0YWJsZScpKSByZXR1cm47IC8vIERvbid0IHJ1biBpZiB1c2VyIGNhbid0IGVkaXQgcGFnZVxuXG4gICAgbXcubG9hZGVyLnVzaW5nKFsnbWVkaWF3aWtpLnV0aWwnLCAnanF1ZXJ5LnRleHRTZWxlY3Rpb24nXSwgKCkgPT4ge1xuICAgICAgICBtdy51dGlsLmFkZENTUyhgXG4jYXJ0aWNsZS1jbGVhbmVyIHtcbiAgICBkaXNwbGF5OiBub25lO1xufVxuXG4jY29udGVudDpoYXMoI3dwVGV4dGJveDEpICNhcnRpY2xlLWNsZWFuZXIge1xuICAgIGRpc3BsYXk6IHVuc2V0O1xufWApO1xuXG4gICAgICAgIGNvbnN0IGxpbmsgPSBtdy51dGlsLmFkZFBvcnRsZXRMaW5rKFxuICAgICAgICAgICAgbXcuY29uZmlnLmdldCgnc2tpbicpID09PSAnbWluZXJ2YScgPyAncC1uYXZpZ2F0aW9uJyA6ICdwLWNhY3Rpb25zJyxcbiAgICAgICAgICAgICcjJyxcbiAgICAgICAgICAgICdQZXJmb3JtIGFydGljbGUgY2xlYW51cCcsXG4gICAgICAgICAgICAnYXJ0aWNsZS1jbGVhbmVyJyxcbiAgICAgICAgKSE7XG5cbiAgICAgICAgbGV0IHNob3VsZEFkZFNjcmlwdE1lc3NhZ2UgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBzY3JpcHRNZXNzYWdlID0gJ0NsZWFuZWQgdXAgYXJ0aWNsZSBjb250ZW50ICh2aWEgW1tVc2VyOkVlaml0NDMvc2NyaXB0cy9hcnRpY2xlLWNsZWFuZXJ8YXJ0aWNsZS1jbGVhbmVyXV0pJztcblxuICAgICAgICBtdy5ob29rKCd2ZS5zYXZlRGlhbG9nLnN0YXRlQ2hhbmdlZCcpLmFkZCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkQWRkU2NyaXB0TWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1bW1hcnlJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTFRleHRBcmVhRWxlbWVudD4oJy52ZS11aS1td1NhdmVEaWFsb2ctc3VtbWFyeSB0ZXh0YXJlYScpITtcblxuICAgICAgICAgICAgICAgIGlmICghc3VtbWFyeUlucHV0LnZhbHVlLmluY2x1ZGVzKHNjcmlwdE1lc3NhZ2Uuc2xpY2UoMSkpKVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3VtbWFyeUlucHV0LnZhbHVlICYmICFzdW1tYXJ5SW5wdXQudmFsdWUuc3RhcnRzV2l0aCgnLyogJykgJiYgIXN1bW1hcnlJbnB1dC52YWx1ZS5lbmRzV2l0aCgnICovICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeUlucHV0LnZhbHVlICs9IGA7ICR7c2NyaXB0TWVzc2FnZS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHNjcmlwdE1lc3NhZ2Uuc2xpY2UoMSl9YDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBzdW1tYXJ5SW5wdXQudmFsdWUgPSBgJHtzdW1tYXJ5SW5wdXQudmFsdWV9JHtzY3JpcHRNZXNzYWdlfWA7XG5cbiAgICAgICAgICAgICAgICBzaG91bGRBZGRTY3JpcHRNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGVkaXRCb3ggPSAkKCcjd3BUZXh0Ym94MScpO1xuICAgICAgICAgICAgaWYgKGVkaXRCb3gubGVuZ3RoID09PSAwKSByZXR1cm4gbXcubm90aWZ5KCdFZGl0IGJveCBub3QgZm91bmQhJywgeyB0eXBlOiAnZXJyb3InLCBhdXRvSGlkZVNlY29uZHM6ICdzaG9ydCcgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IGVkaXRCb3gudGV4dFNlbGVjdGlvbignZ2V0Q29udGVudHMnKTtcblxuICAgICAgICAgICAgbGV0IGZpbmFsVGV4dCA9IG9yaWdpbmFsVGV4dDtcblxuICAgICAgICAgICAgZmluYWxUZXh0ID0gY2xlYW51cFN0cmF5VW5pY29kZUNoYXJhY3RlcnMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBTZWN0aW9uSGVhZGVycyhmaW5hbFRleHQpO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gY2xlYW51cE1hZ2ljV29yZHMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBEaXNwbGF5dGl0bGVzQW5kRGVmYXVsdHNvcnRzKGZpbmFsVGV4dCk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwQ2F0ZWdvcmllcyhmaW5hbFRleHQpO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gY2xlYW51cExpbmtzKGZpbmFsVGV4dCwgW2NsZWFudXBJbXByb3BlckNoYXJhY3RlcnMsIGNsZWFudXBZZWFyUmFuZ2VzXSk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwU3RyYXlNYXJrdXAoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBTcGFjaW5nKGZpbmFsVGV4dCk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwUmVmZXJlbmNlcyhmaW5hbFRleHQpO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gYXdhaXQgZm9ybWF0VGVtcGxhdGVzKGZpbmFsVGV4dCk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSByZW1vdmVDb21tZW50cyhmaW5hbFRleHQpO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gY2xlYW51cFNwYWNpbmcoZmluYWxUZXh0LCB0cnVlKTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGF1dG9UYWdQYWdlKGZpbmFsVGV4dCk7XG5cbiAgICAgICAgICAgIGlmIChvcmlnaW5hbFRleHQgPT09IGZpbmFsVGV4dCkgbXcubm90aWZ5KCdObyBjaGFuZ2VzIHRvIGJlIG1hZGUgdG8gdGhlIGFydGljbGUhJywgeyB0eXBlOiAnd2FybicsIGF1dG9IaWRlU2Vjb25kczogJ3Nob3J0JyB9KTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh2ZS5pbml0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1cmZhY2VNb2RlbCA9IHZlLmluaXQudGFyZ2V0LmdldFN1cmZhY2UoKS5nZXRNb2RlbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcmFnbWVudCA9IHN1cmZhY2VNb2RlbC5nZXRMaW5lYXJGcmFnbWVudChzdXJmYWNlTW9kZWwuZ2V0UmFuZ2VGcm9tU291cmNlT2Zmc2V0cygwLCBvcmlnaW5hbFRleHQubGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgICAgIGZyYWdtZW50Lmluc2VydENvbnRlbnQoZmluYWxUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgc3VyZmFjZU1vZGVsLnNldFNlbGVjdGlvbihuZXcgdmUuZG0uTGluZWFyU2VsZWN0aW9uKG5ldyB2ZS5SYW5nZSgwLCAwKSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRCb3gudGV4dFNlbGVjdGlvbignc2V0Q29udGVudHMnLCBmaW5hbFRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGVkaXRCb3gudGV4dFNlbGVjdGlvbignc2V0U2VsZWN0aW9uJywgeyBzdGFydDogMCB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBtdy5ub3RpZnkoJ0FydGljbGUgY2xlYW51cCBjb21wbGV0ZSEnLCB7IHR5cGU6ICdzdWNjZXNzJywgYXV0b0hpZGVTZWNvbmRzOiAnc2hvcnQnIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3VtbWFyeUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI3dwU3VtbWFyeScpO1xuICAgICAgICAgICAgICAgIGlmIChzdW1tYXJ5SW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdW1tYXJ5SW5wdXQudmFsdWUuaW5jbHVkZXMoc2NyaXB0TWVzc2FnZS5zbGljZSgxKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VtbWFyeUlucHV0LnZhbHVlKSBzdW1tYXJ5SW5wdXQudmFsdWUgKz0gYDsgJHtzY3JpcHRNZXNzYWdlLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc2NyaXB0TWVzc2FnZS5zbGljZSgxKX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBzdW1tYXJ5SW5wdXQudmFsdWUgPSBzY3JpcHRNZXNzYWdlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBzaG91bGRBZGRTY3JpcHRNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59KSgpO1xuXG4vKipcbiAqIEVzY2FwZXMgcmVnZXggY2hhcmFjdGVycyBpbiBhIHN0cmluZy5cbiAqIEBwYXJhbSBzdHJpbmcgVGhlIHN0cmluZyB0byBlc2NhcGUgcmVnZXggY2hhcmFjdGVycyBpbi5cbiAqL1xuZnVuY3Rpb24gZXNjYXBlUmVnZXhDaGFyYWN0ZXJzKHN0cmluZzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlQWxsKC9bJCgpKisuP1tcXFxcXFxdXnt8fV0vZywgJ1xcXFwkJicpO1xufVxuXG4vKipcbiAqIENsZWFucyB1cCBzdHJheSBVbmljb2RlIGNoYXJhY3RlcnMgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwU3RyYXlVbmljb2RlQ2hhcmFjdGVycyhjb250ZW50OiBzdHJpbmcpIHtcbiAgICAvLyBUaGlzIHJlZ2V4IHJlbW92ZXM6XG4gICAgLy8gICAtIEFTQ0lJIGNvbnRyb2wgY2hhcmFjdGVycyAoXFx1MDAwMC1cXHUwMDA5LCBcXHUwMDBCLVxcdTAwMEMsIFxcdTAwMEUtXFx1MDAxRilcbiAgICAvLyAgIC0gREVMIChcXHUwMDdGKVxuICAgIC8vICAgLSBTb2Z0IGh5cGhlbiAoXFx1MDBBRClcbiAgICAvLyAgIC0gWmVyby13aWR0aCBjaGFyYWN0ZXJzIGFuZCBkaXJlY3Rpb25hbGl0eSBtYXJrcyAoXFx1MjAwQi1cXHUyMDBGKVxuICAgIC8vICAgLSBCaWRpIG92ZXJyaWRlIGFuZCBmb3JtYXR0aW5nIGNoYXJhY3RlcnMgKFxcdTIwMkEtXFx1MjAyRSlcbiAgICAvLyAgIC0gV29yZCBqb2luZXIgYW5kIGludmlzaWJsZSBzZXBhcmF0b3IgKFxcdTIwNjAsIFxcdTIwNjMpXG4gICAgLy8gICAtIEJ5dGUgb3JkZXIgbWFyayAoQk9NKSAoXFx1RkVGRilcbiAgICBjb25zdCBzdHJheVVuaWNvZGVSZWdleCA9IC9bXFx1MDAwMC1cXHUwMDA5XFx1MDAwQlxcdTAwMENcXHUwMDBFLVxcdTAwMUZcXHUwMDdGXFx1MDBBRFxcdTIwMEItXFx1MjAwRlxcdTIwMkEtXFx1MjAyRVxcdTIwNjBcXHUyMDYzXFx1RkVGRl0vZzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb250cm9sLXJlZ2V4XG5cbiAgICBpZiAoc3RyYXlVbmljb2RlUmVnZXgudGVzdChjb250ZW50KSkgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbChzdHJheVVuaWNvZGVSZWdleCwgJycpO1xuXG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIHNlY3Rpb24gaGVhZGVycyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBTZWN0aW9uSGVhZGVycyhjb250ZW50OiBzdHJpbmcpIHtcbiAgICBjb25zdCBjb21tb25SZXBsYWNlbWVudHMgPSB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvbiAqL1xuICAgICAgICAnU2VlIGFsc28nOiBbJ2Fsc28gc2VlJ10sXG4gICAgICAgICdSZWZlcmVuY2VzJzogWydyZWZlcmVuY2UnLCAnc291cmNlJywgJ3NvdXJjZXMnLCAnY2l0YXRpb24nLCAnY2l0YXRpb25zJ10sXG4gICAgICAgICdGdXJ0aGVyIHJlYWRpbmcnOiBbJ2Z1cnRoZXIgcmVhZGluZyddLFxuICAgICAgICAnRXh0ZXJuYWwgbGlua3MnOiBbJ2V4dGVybmFsIGxpbmsnLCAnd2VibGluaycsICd3ZWJsaW5rcyddLFxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvbiAqL1xuICAgIH07XG5cbiAgICBjb25zdCBjb21tb25NaXNjYXBpdGFsaXplZFdvcmRzID0gWydhbmQnLCAnYmlydGgnLCAnY2FyZWVyJywgJ2RlYXRoJywgJ2VkdWNhdGlvbicsICdsaWZlJywgJ29mJywgJ29yJ107XG5cbiAgICBjb25zdCByZXZlcnNlQ29tbW9uUmVwbGFjZW1lbnRzID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICBPYmplY3QuZW50cmllcyhjb21tb25SZXBsYWNlbWVudHMpLmZsYXRNYXAoKFtrZXksIHZhbHVlc10pID0+IFtcbiAgICAgICAgICAgIFtrZXkudG9Mb3dlckNhc2UoKSwga2V5XSxcbiAgICAgICAgICAgIC4uLih2YWx1ZXMubWFwKCh2YWx1ZSkgPT4gW3ZhbHVlLCBrZXldKSBhcyBbc3RyaW5nLCBzdHJpbmddW10pLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS10eXBlLWFzc2VydGlvblxuICAgICAgICBdKSxcbiAgICApO1xuXG4gICAgY29uc3QgaGVhZGVycyA9IGNvbnRlbnQubWF0Y2hBbGwoLyg/PD1efFxcbilcXG4qKD88c3RhcnRNYXJrdXA+PSspICooPzxuYW1lPi4qPykgKig/PGVuZE1hcmt1cD49KykoXFxuK3wkKS9nKTtcblxuICAgIGNvbnN0IHBhcnNlZEhlYWRlcnMgPSBbLi4uaGVhZGVyc10ubWFwKChoZWFkZXIpID0+IHtcbiAgICAgICAgbGV0IHsgbmFtZSB9ID0gaGVhZGVyLmdyb3VwcyE7XG4gICAgICAgIGNvbnN0IHsgc3RhcnRNYXJrdXAsIGVuZE1hcmt1cCB9ID0gaGVhZGVyLmdyb3VwcyE7XG5cbiAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZUFsbCgvJ3szfS9nLCAnJyk7XG5cbiAgICAgICAgY29uc3QgbGlua3MgPSBuYW1lLm1hdGNoQWxsKC9cXFtcXFsoLis/KV1dL2cpLnRvQXJyYXkoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGxpbmsgb2YgbGlua3MpIG5hbWUgPSBuYW1lLnJlcGxhY2UobGlua1swXSwgbGlua1sxXS5zcGxpdCgnfCcpLmF0KC0xKSEpO1xuXG4gICAgICAgIGNvbnN0IGRlcHRoID0gTWF0aC5tYXgoc3RhcnRNYXJrdXAubGVuZ3RoLCBlbmRNYXJrdXAubGVuZ3RoLCAyKTtcblxuICAgICAgICByZXR1cm4geyBuYW1lLCBkZXB0aCwgb3JpZ2luYWw6IGhlYWRlclswXSB9O1xuICAgIH0pO1xuXG4gICAgY29uc3QgaGVhZGVyc1NldCA9IG5ldyBTZXQocGFyc2VkSGVhZGVycy5tYXAoKGhlYWRlcikgPT4gaGVhZGVyLm5hbWUpKTtcblxuICAgIGNvbnN0IHRpdGxlU3BhY2VyID0gcGFyc2VkSGVhZGVycy5sZW5ndGggPiAwID8gKC9eXFxuKj0rIHwgPStcXG4rJC8udGVzdChwYXJzZWRIZWFkZXJzWzBdLm9yaWdpbmFsKSA/ICcgJyA6ICcnKSA6ICcnO1xuXG4gICAgZm9yIChjb25zdCBoZWFkZXIgb2YgcGFyc2VkSGVhZGVycykge1xuICAgICAgICBjb25zdCBsb3dlcmNhc2VOYW1lID0gaGVhZGVyLm5hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBjb25zdCByZXBsYWNlZE5hbWUgPVxuICAgICAgICAgICAgbG93ZXJjYXNlTmFtZSBpbiByZXZlcnNlQ29tbW9uUmVwbGFjZW1lbnRzICYmICFoZWFkZXJzU2V0LmhhcyhyZXZlcnNlQ29tbW9uUmVwbGFjZW1lbnRzW2xvd2VyY2FzZU5hbWVdKVxuICAgICAgICAgICAgICAgID8gcmV2ZXJzZUNvbW1vblJlcGxhY2VtZW50c1tsb3dlcmNhc2VOYW1lXVxuICAgICAgICAgICAgICAgIDogaGVhZGVyLm5hbWU7XG5cbiAgICAgICAgbGV0IGNhcGl0YWxpemVkTmFtZSA9IHJlcGxhY2VkTmFtZTtcblxuICAgICAgICBmb3IgKGNvbnN0IHdvcmQgb2YgY29tbW9uTWlzY2FwaXRhbGl6ZWRXb3JkcykgY2FwaXRhbGl6ZWROYW1lID0gY2FwaXRhbGl6ZWROYW1lLnJlcGxhY2VBbGwobmV3IFJlZ0V4cChgXFxcXGIke3dvcmR9XFxcXGJgLCAnZ2knKSwgd29yZCk7XG5cbiAgICAgICAgY2FwaXRhbGl6ZWROYW1lID0gY2FwaXRhbGl6ZWROYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY2FwaXRhbGl6ZWROYW1lLnNsaWNlKDEpO1xuXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IGAkeyc9Jy5yZXBlYXQoaGVhZGVyLmRlcHRoKX0ke3RpdGxlU3BhY2VyfSR7Y2FwaXRhbGl6ZWROYW1lfSR7dGl0bGVTcGFjZXJ9JHsnPScucmVwZWF0KGhlYWRlci5kZXB0aCl9YDtcblxuICAgICAgICBpZiAoaGVhZGVyLm9yaWdpbmFsICE9PSBvdXRwdXQpIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoaGVhZGVyLm9yaWdpbmFsLCBgXFxuXFxuJHtvdXRwdXR9XFxuYCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogUmVtb3ZlcyB1bm5lY2Vzc2FyeSBtYWdpYyB3b3JkcyBmcm9tIGFuIGFydGljbGUncyBjb250ZW50LlxuICogQHBhcmFtIGNvbnRlbnQgVGhlIGFydGljbGUgY29udGVudCB0byBjbGVhbiB1cC5cbiAqL1xuZnVuY3Rpb24gY2xlYW51cE1hZ2ljV29yZHMoY29udGVudDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQucmVwbGFjZUFsbCgvX18oSU5ERVh8Tk9JTkRFWHxORVdTRUNUSU9OTElOS3xOT05FV1NFQ1RJT05MSU5LfE5PRURJVFNFQ1RJT058RElTQU1CSUd8U1RBVElDUkVESVJFQ1R8Rk9SQ0VUT0MpX19cXG4qL2csICcnKTtcbn1cblxuLyoqXG4gKiBDbGVhbnMgdXAgRElTUExBWVRJVExFcyBhbmQgREVGQVVMVFNPUlRzIGluIGFuIGFydGljbGUncyBjb250ZW50LlxuICogQHBhcmFtIGNvbnRlbnQgVGhlIGFydGljbGUgY29udGVudCB0byBjbGVhbiB1cC5cbiAqL1xuZnVuY3Rpb24gY2xlYW51cERpc3BsYXl0aXRsZXNBbmREZWZhdWx0c29ydHMoY29udGVudDogc3RyaW5nKSB7XG4gICAgY29uc3QgdGFncyA9IGNvbnRlbnQubWF0Y2hBbGwoL3t7KGRpc3BsYXl0aXRsZXxkZWZhdWx0c29ydClbOnxdKC4qPyl9fS9naSk7XG5cbiAgICBjb25zdCBwYXJzZWRUYWdzID0gWy4uLnRhZ3NdLm1hcCgodGFnKSA9PiB7XG4gICAgICAgIGNvbnN0IFtmdWxsVGFnLCB0eXBlLCB2YWx1ZV0gPSB0YWc7XG5cbiAgICAgICAgcmV0dXJuIHsgdHlwZTogdHlwZS50b1VwcGVyQ2FzZSgpLCB2YWx1ZSwgb3JpZ2luYWw6IGZ1bGxUYWcgfTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGN1cnJlbnRUaXRsZSA9IG13LlRpdGxlLm5ld0Zyb21UZXh0KG13LmNvbmZpZy5nZXQoJ3dnUGFnZU5hbWUnKSkhO1xuXG4gICAgZm9yIChjb25zdCB0YWcgb2YgcGFyc2VkVGFncykge1xuICAgICAgICBjb25zdCBvcmlnaW5hbFRhZ1JlZ2V4ID0gbmV3IFJlZ0V4cChgJHtlc2NhcGVSZWdleENoYXJhY3RlcnModGFnLm9yaWdpbmFsKX1cXG4qYCwgJ2cnKTtcblxuICAgICAgICBjb25zdCB1bnByZWZpeGVkVGl0bGUgPSBtdy5UaXRsZS5uZXdGcm9tVGV4dCh0YWcudmFsdWUpO1xuXG4gICAgICAgIGlmICghdW5wcmVmaXhlZFRpdGxlKSBjb250aW51ZTtcblxuICAgICAgICBjb25zdCB0aXRsZSA9IG13LlRpdGxlLm1ha2VUaXRsZShjdXJyZW50VGl0bGUuZ2V0TmFtZXNwYWNlSWQoKSwgdW5wcmVmaXhlZFRpdGxlLmdldE1haW5UZXh0KCkpO1xuXG4gICAgICAgIGlmICghdGl0bGUpIGNvbnRpbnVlO1xuXG4gICAgICAgIGNvbnN0IGRlZmF1bHRLZXkgPSB0YWcudHlwZSA9PT0gJ0RJU1BMQVlUSVRMRScgPyBjdXJyZW50VGl0bGUudG9UZXh0KCkgOiBjdXJyZW50VGl0bGUuZ2V0TWFpblRleHQoKTtcblxuICAgICAgICBjb25zdCBjdXN0b21LZXkgPSB0YWcudHlwZSA9PT0gJ0RJU1BMQVlUSVRMRScgPyB0aXRsZS50b1RleHQoKSA6IHRpdGxlLmdldE1haW5UZXh0KCk7XG5cbiAgICAgICAgaWYgKGRlZmF1bHRLZXkgPT09IGN1c3RvbUtleSkge1xuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZShvcmlnaW5hbFRhZ1JlZ2V4LCAnJyk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5ld1RleHQgPSBge3ske3RhZy50eXBlfToke2N1c3RvbUtleX19fVxcbmA7XG5cbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZShvcmlnaW5hbFRhZ1JlZ2V4LCBuZXdUZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBDbGVhbnMgdXAgY2F0ZWdvcmllcyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBDYXRlZ29yaWVzKGNvbnRlbnQ6IHN0cmluZykge1xuICAgIHJldHVybiBjb250ZW50LnJlcGxhY2VBbGwoXG4gICAgICAgIC8oXFxbXFxbfH19KTo/Y2F0ZWdvcnk6KC4qPykoXV18fX0pL2dpLFxuICAgICAgICBgW1ske213LmNvbmZpZy5nZXQoJ3dnQ2Fub25pY2FsTmFtZXNwYWNlJykgPT09ICdEcmFmdCcgPyAnOicgOiAnJ31DYXRlZ29yeTokMl1dYCxcbiAgICApO1xufVxuXG5pbnRlcmZhY2UgTGlua0luZm9ybWF0aW9uIHtcbiAgICBzdGFydDogbnVtYmVyO1xuICAgIGVuZDogbnVtYmVyO1xuICAgIGlzTmVzdGVkOiBib29sZWFuO1xufVxuXG4vKipcbiAqIENsZWFucyB1cCBsaW5rcyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKiBAcGFyYW0gZnVuY3Rpb25zQ2FsbGVkV2hpbGVFc2NhcGVkIFRoZSBmdW5jdGlvbnMgY2FsbGVkIHdoaWxlIHRoZSBsaW5rcyBhcmUgZXNjYXBlZC5cbiAqL1xuZnVuY3Rpb24gY2xlYW51cExpbmtzKGNvbnRlbnQ6IHN0cmluZywgZnVuY3Rpb25zQ2FsbGVkV2hpbGVFc2NhcGVkOiAoKGNvbnRlbnQ6IHN0cmluZywgcnVuOiAxIHwgMikgPT4gc3RyaW5nKVtdKSB7XG4gICAgY29uc3QgY2xvc2VkTGlua3M6IExpbmtJbmZvcm1hdGlvbltdID0gW107XG4gICAgY29uc3QgbGlua3M6IExpbmtJbmZvcm1hdGlvbltdID0gW107XG5cbiAgICBsZXQgaXNJbnNpZGVOb3dpa2kgPSBmYWxzZTtcbiAgICBsZXQgaXNJbnNpZGVDb21tZW50ID0gZmFsc2U7XG5cbiAgICBsZXQgY3VycmVudExvY2F0aW9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgY29udGVudCBmb2xsb3dpbmcgdGhlIGN1cnJlbnQgbG9jYXRpb24gbWF0Y2hlcyB0aGUgZGVzaXJlZCBzdHJpbmcuXG4gICAgICogQHBhcmFtIGRlc2lyZWRTdHJpbmcgVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSBzaG91bGRJbmNyZW1lbnQgV2hldGhlciB0byBpbmNyZW1lbnQgdGhlIGN1cnJlbnQgbG9jYXRpb24gaWYgdGhlIHN0cmluZyBpcyBmb3VuZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0F0U3RyaW5nKGRlc2lyZWRTdHJpbmc6IHN0cmluZywgc2hvdWxkSW5jcmVtZW50ID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBpc0F0U3RyaW5nID0gY29udGVudC5zbGljZShjdXJyZW50TG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbiArIGRlc2lyZWRTdHJpbmcubGVuZ3RoKSA9PT0gZGVzaXJlZFN0cmluZztcblxuICAgICAgICBpZiAoaXNBdFN0cmluZyAmJiBzaG91bGRJbmNyZW1lbnQpIGN1cnJlbnRMb2NhdGlvbiArPSBkZXNpcmVkU3RyaW5nLmxlbmd0aDtcblxuICAgICAgICByZXR1cm4gaXNBdFN0cmluZztcbiAgICB9XG5cbiAgICB3aGlsZSAoY3VycmVudExvY2F0aW9uIDwgY29udGVudC5sZW5ndGgpXG4gICAgICAgIGlmIChpc0F0U3RyaW5nKCc8bm93aWtpPicpKSBpc0luc2lkZU5vd2lraSA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKGlzQXRTdHJpbmcoJzwvbm93aWtpPicpKSBpc0luc2lkZU5vd2lraSA9IGZhbHNlO1xuICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCc8IS0tJykpIGlzSW5zaWRlQ29tbWVudCA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKGlzQXRTdHJpbmcoJy0tPicpKSBpc0luc2lkZUNvbW1lbnQgPSBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAoIWlzSW5zaWRlTm93aWtpICYmICFpc0luc2lkZUNvbW1lbnQpXG4gICAgICAgICAgICBpZiAoaXNBdFN0cmluZygnW1snKSkgbGlua3MucHVzaCh7IHN0YXJ0OiBjdXJyZW50TG9jYXRpb24gLSAyLCBlbmQ6IC0xLCBpc05lc3RlZDogbGlua3MubGVuZ3RoID4gMCB9KTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzQXRTdHJpbmcoJ11dJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0TGluayA9IGxpbmtzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlmICghbGFzdExpbmspIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgbGFzdExpbmsuZW5kID0gY3VycmVudExvY2F0aW9uO1xuXG4gICAgICAgICAgICAgICAgY2xvc2VkTGlua3MucHVzaChsYXN0TGluayk7XG4gICAgICAgICAgICB9IGVsc2UgY3VycmVudExvY2F0aW9uKys7XG4gICAgICAgIGVsc2UgY3VycmVudExvY2F0aW9uKys7XG5cbiAgICBjb25zdCBuZXdMaW5rQ29udGVudDogW0xpbmtJbmZvcm1hdGlvbiwgc3RyaW5nXVtdID0gW107XG5cbiAgICBjb25zdCBuYW1lc3BhY2VOYW1lcyA9IE9iamVjdC52YWx1ZXMobXcuY29uZmlnLmdldCgnd2dGb3JtYXR0ZWROYW1lc3BhY2VzJykpO1xuXG4gICAgZm9yIChjb25zdCBsaW5rTG9jYXRpb24gb2YgY2xvc2VkTGlua3MpIHtcbiAgICAgICAgY29uc3QgaW5uZXJMaW5rID0gY29udGVudC5zbGljZShsaW5rTG9jYXRpb24uc3RhcnQgKyAyLCBsaW5rTG9jYXRpb24uZW5kIC0gMik7XG5cbiAgICAgICAgY29uc3QgW3VucGFyc2VkTGluaywgLi4ucGFyYW1ldGVyc10gPSBpbm5lckxpbmsuc3BsaXQoJ3wnKTtcblxuICAgICAgICAvLyBSZXBsYWNlIGxpbmsgbmFtZXMgc28gdGhlc2Ugd29uJ3QgYmUgYWZmZWN0ZWQgYnkgZnVuY3Rpb25zIGNhbGxlZCB3aGlsZSBlc2NhcGVkXG4gICAgICAgIGNvbnRlbnQgPVxuICAgICAgICAgICAgY29udGVudC5zbGljZSgwLCBsaW5rTG9jYXRpb24uc3RhcnQgKyAyKSArXG4gICAgICAgICAgICAnXFwwJy5yZXBlYXQodW5wYXJzZWRMaW5rLmxlbmd0aCkgK1xuICAgICAgICAgICAgY29udGVudC5zbGljZShsaW5rTG9jYXRpb24uc3RhcnQgKyAyICsgdW5wYXJzZWRMaW5rLmxlbmd0aCk7XG5cbiAgICAgICAgbGV0IGxpbmsgPSB1bnBhcnNlZExpbmsucmVwbGFjZUFsbCgnXycsICcgJykudHJpbSgpO1xuICAgICAgICBsZXQgYWx0VGV4dCA9IHBhcmFtZXRlcnMuam9pbignfCcpO1xuICAgICAgICBhbHRUZXh0ID0gYWx0VGV4dCA9PT0gJyAnID8gJyAnIDogYWx0VGV4dC50cmltKCk7XG5cbiAgICAgICAgY29uc3QgaXNGaXJzdENoYXJhY3RlckNvbG9uID0gbGluay5zdGFydHNXaXRoKCc6Jyk7XG4gICAgICAgIGlmIChpc0ZpcnN0Q2hhcmFjdGVyQ29sb24pIGxpbmsgPSBsaW5rLnNsaWNlKDEpO1xuXG4gICAgICAgIGxldCBzaG91bGRGaXJzdENoYXJhY3RlckJlQ29sb24gPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBsaW5rVXBwZXJjYXNlU3RhcnQgPSBsaW5rLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbGluay5zbGljZSgxKTtcbiAgICAgICAgY29uc3QgbGlua0xvd2VyY2FzZVN0YXJ0ID0gbGluay5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIGxpbmsuc2xpY2UoMSk7XG5cbiAgICAgICAgbGV0IG5hbWVzcGFjZSA9IGxpbmsuc3BsaXQoJzonKVswXTtcbiAgICAgICAgbmFtZXNwYWNlID0gbmFtZXNwYWNlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZXNwYWNlLnNsaWNlKDEpO1xuXG4gICAgICAgIGlmIChsaW5rLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgICAgICAgIGlmIChsaW5rVXBwZXJjYXNlU3RhcnQuc3RhcnRzV2l0aCgnSW1hZ2U6JykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRTdGFydFVwcGVyY2FzZSA9IGxpbmsuc3RhcnRzV2l0aCgnSW1hZ2U6Jyk7XG5cbiAgICAgICAgICAgICAgICBsaW5rID0gYCR7c2hvdWxkU3RhcnRVcHBlcmNhc2UgPyAnRicgOiAnZid9aWxlOiR7bGluay5zbGljZSg2KX1gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgaXNGaXJzdENoYXJhY3RlckNvbG9uICYmXG4gICAgICAgICAgICAgICAgKFsnSW1hZ2UnLCAnRmlsZScsICdDYXRlZ29yeSddLmluY2x1ZGVzKGxpbmtVcHBlcmNhc2VTdGFydC5zcGxpdCgnOicpWzBdKSB8fCAhbmFtZXNwYWNlTmFtZXMuaW5jbHVkZXMobmFtZXNwYWNlKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBzaG91bGRGaXJzdENoYXJhY3RlckJlQ29sb24gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGFmdGVyTGlua1RleHQgPSAnJztcblxuICAgICAgICBpZiAoL1shJywuOjs/XSQvLnRlc3QoYWx0VGV4dCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGFkZGVkUHVuY3R1YXRpb24gPSBhbHRUZXh0LnNsaWNlKC0xKTtcblxuICAgICAgICAgICAgaWYgKCFsaW5rLmVuZHNXaXRoKGFkZGVkUHVuY3R1YXRpb24pKSB7XG4gICAgICAgICAgICAgICAgYWZ0ZXJMaW5rVGV4dCA9IGFkZGVkUHVuY3R1YXRpb247XG4gICAgICAgICAgICAgICAgYWx0VGV4dCA9IGFsdFRleHQuc2xpY2UoMCwgLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpbmsgPT09IGFsdFRleHQpIGFsdFRleHQgPSAnJztcbiAgICAgICAgZWxzZSBpZiAobmV3IFJlZ0V4cChgXiR7ZXNjYXBlUmVnZXhDaGFyYWN0ZXJzKGxpbmspfVthLXpdKyRgKS50ZXN0KGFsdFRleHQpKSB7XG4gICAgICAgICAgICBhZnRlckxpbmtUZXh0ID0gYWx0VGV4dC5zbGljZShsaW5rLmxlbmd0aCkgKyBhZnRlckxpbmtUZXh0O1xuICAgICAgICAgICAgYWx0VGV4dCA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBuZXdMaW5rIG9mIFtsaW5rVXBwZXJjYXNlU3RhcnQsIGxpbmtMb3dlcmNhc2VTdGFydF0pXG4gICAgICAgICAgICBpZiAobmV3TGluayA9PT0gYWx0VGV4dCkge1xuICAgICAgICAgICAgICAgIGxpbmsgPSBuZXdMaW5rO1xuICAgICAgICAgICAgICAgIGFsdFRleHQgPSAnJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmV3IFJlZ0V4cChgXiR7ZXNjYXBlUmVnZXhDaGFyYWN0ZXJzKG5ld0xpbmspfVthLXpdKyRgKS50ZXN0KGFsdFRleHQpKSB7XG4gICAgICAgICAgICAgICAgbGluayA9IG5ld0xpbms7XG4gICAgICAgICAgICAgICAgYWZ0ZXJMaW5rVGV4dCA9IGFsdFRleHQuc2xpY2UobmV3TGluay5sZW5ndGgpICsgYWZ0ZXJMaW5rVGV4dDtcbiAgICAgICAgICAgICAgICBhbHRUZXh0ID0gJyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgKGFsdFRleHQgJiYgbGluay5pbmNsdWRlcygnOicpICYmIG5hbWVzcGFjZU5hbWVzLmluY2x1ZGVzKG5hbWVzcGFjZSkpIHx8XG4gICAgICAgICAgICBsaW5rLnN0YXJ0c1dpdGgoJ2ZpbGU6JykgfHxcbiAgICAgICAgICAgIGxpbmsuc3RhcnRzV2l0aCgnY2F0ZWdvcnk6JylcbiAgICAgICAgKVxuICAgICAgICAgICAgbGluayA9IGxpbmsuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBsaW5rLnNsaWNlKDEpO1xuXG4gICAgICAgIGxpbmsgPSBgJHtzaG91bGRGaXJzdENoYXJhY3RlckJlQ29sb24gPyAnOicgOiAnJ30ke2xpbmt9YDtcblxuICAgICAgICBsaW5rID0gbGluay5wYWRTdGFydCh1bnBhcnNlZExpbmsubGVuZ3RoLCAnXFwwJyk7XG5cbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gYFtbJHtsaW5rfSR7YWx0VGV4dCA/IGB8JHthbHRUZXh0fWAgOiAnJ31dXSR7YWZ0ZXJMaW5rVGV4dH1gO1xuXG4gICAgICAgIG5ld0xpbmtDb250ZW50LnB1c2goW2xpbmtMb2NhdGlvbiwgb3V0cHV0XSk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBmdW5jdGlvblRvQ2FsbCBvZiBmdW5jdGlvbnNDYWxsZWRXaGlsZUVzY2FwZWQpIGNvbnRlbnQgPSBmdW5jdGlvblRvQ2FsbChjb250ZW50LCAxKTtcblxuICAgIGZvciAobGV0IGxvb3BDb3VudGVyID0gMDsgbG9vcENvdW50ZXIgPCAyOyBsb29wQ291bnRlcisrKVxuICAgICAgICBmb3IgKGNvbnN0IFtsaW5rRGF0YSwgbGlua0NvbnRlbnRdIG9mIG5ld0xpbmtDb250ZW50KSB7XG4gICAgICAgICAgICBpZiAobG9vcENvdW50ZXIgPT09IDAgJiYgbGlua0RhdGEuaXNOZXN0ZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgZWxzZSBpZiAobG9vcENvdW50ZXIgPT09IDEgJiYgIWxpbmtEYXRhLmlzTmVzdGVkKSBjb250aW51ZTtcblxuICAgICAgICAgICAgY29udGVudCA9XG4gICAgICAgICAgICAgICAgY29udGVudC5zbGljZSgwLCBsaW5rRGF0YS5zdGFydCkgKyBsaW5rQ29udGVudC5wYWRFbmQobGlua0RhdGEuZW5kIC0gbGlua0RhdGEuc3RhcnQsICdcXDAnKSArIGNvbnRlbnQuc2xpY2UobGlua0RhdGEuZW5kKTtcbiAgICAgICAgfVxuXG4gICAgZm9yIChjb25zdCBmdW5jdGlvblRvQ2FsbCBvZiBmdW5jdGlvbnNDYWxsZWRXaGlsZUVzY2FwZWQpIGNvbnRlbnQgPSBmdW5jdGlvblRvQ2FsbChjb250ZW50LCAyKTtcblxuICAgIHJldHVybiBjb250ZW50LnJlcGxhY2VBbGwoJ1xcMCcsICcnKTtcbn1cblxuLyoqXG4gKiBDbGVhbnMgdXAgaW1wcm9wZXIgY2hhcmFjdGVycyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKiBAcGFyYW0gcnVuIFRoZSBydW4gbnVtYmVyIG9mIHRoZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY2xlYW51cEltcHJvcGVyQ2hhcmFjdGVycyhjb250ZW50OiBzdHJpbmcsIHJ1bjogMSB8IDIpIHtcbiAgICBjb25zdCBlbGlwc2lzUGxhY2Vob2xkZXIgPSAnXFx1MDA3Ric7XG4gICAgY29uc3QgbmJzcFBsYWNlaG9sZGVyID0gJ1xcdTAwOUYnO1xuXG4gICAgaWYgKHJ1biA9PT0gMSkge1xuICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC9bXHUyMDFDXHUyMDFEXHUyMDFFXHUyMDFGXS9nLCAnXCInKTtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvW1x1MjAxOFx1MjAxOVx1MjAxQVx1MjAxQl0vZywgXCInXCIpO1xuICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKCdcdTIwMjYnLCBlbGlwc2lzUGxhY2Vob2xkZXIpO1xuICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKCdcdTAwQTAnLCBuYnNwUGxhY2Vob2xkZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoZWxpcHNpc1BsYWNlaG9sZGVyLCAnLi4uJyk7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwobmJzcFBsYWNlaG9sZGVyLCAnJm5ic3A7Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIHllYXIgcmFuZ2VzIGluIGFuIGFydGljbGUncyBjb250ZW50LlxuICogQHBhcmFtIGNvbnRlbnQgVGhlIGFydGljbGUgY29udGVudCB0byBjbGVhbiB1cC5cbiAqIEBwYXJhbSBydW4gVGhlIHJ1biBudW1iZXIgb2YgdGhlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwWWVhclJhbmdlcyhjb250ZW50OiBzdHJpbmcsIHJ1bjogMSB8IDIpIHtcbiAgICBpZiAocnVuID09PSAxKVxuICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC8oXFwoXFxkezMsNH0pID9bXHUyMDEyXHUyMDEzXHUyMjEyLV0gPyhcXGR7Myw0fVxcKSkvZywgKG9yaWdpbmFsLCBzdGFydCwgZW5kKSA9PlxuICAgICAgICAgICAgYCR7c3RhcnR9XHUyMDEzJHtlbmR9YC5wYWRFbmQob3JpZ2luYWwubGVuZ3RoLCAnXFwwJyksXG4gICAgICAgICk7XG5cbiAgICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHN0cmF5IG1hcmt1cCBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBTdHJheU1hcmt1cChjb250ZW50OiBzdHJpbmcpIHtcbiAgICBjb25zdCBzdHJheU1hcmt1cFJlZ2V4ZXMgPSBbXG4gICAgICAgIC8nKyhCb2xkfEl0YWxpYykoIHRleHQpPycrICovZyxcbiAgICAgICAgLyg8YmlnPikrQmlnKCB0ZXh0KT8oPFxcL2JpZz4pKyAqL2csXG4gICAgICAgIC8oPHNtYWxsPikrU21hbGwoIHRleHQpPyg8XFwvc21hbGw+KSsgKi9nLFxuICAgICAgICAvKDxzdXA+KStTdXBlcnNjcmlwdCggdGV4dCk/KDxcXC9zdXA+KSsgKi9nLFxuICAgICAgICAvKDxzdWI+KStTdWJzY3JpcHQoIHRleHQpPyg8XFwvc3ViPikrICovZyxcbiAgICAgICAgLyg8cz4pK1N0cmlrZXRocm91Z2goPFxcL3M+KSsgKi9nLFxuICAgICAgICAvKDx1PikrVW5kZXJsaW5lKDxcXC91PikrICovZyxcbiAgICAgICAgLyg8Y29kZT4pK0NvbXB1dGVyIGNvZGUoPFxcL2NvZGU+KSsgKi9nLFxuICAgICAgICAvKDxub3dpa2k+KStJbnNlcnQgbm9uLWZvcm1hdHRlZCB0ZXh0IGhlcmUoPFxcL25vd2lraT4pKyAqL2csXG4gICAgICAgIC89KyBIZWFkaW5nIHRleHQgPSsgKi9nLFxuICAgICAgICAvXFwqIEJ1bGxldGVkIGxpc3QgaXRlbSAqL2csXG4gICAgICAgIC8jIE51bWJlcmVkIGxpc3QgaXRlbSAqL2csXG4gICAgICAgIC88Z2FsbGVyeT5cXG5FeGFtcGxlLmpwZ1xcfENhcHRpb24xXFxuRXhhbXBsZS5qcGdcXHxDYXB0aW9uMlxcbjxcXC9nYWxsZXJ5PiAqL2csXG4gICAgICAgIC8jUkVESVJFQ1QgXFxbXFxbVGFyZ2V0IHBhZ2UgbmFtZV1dICovZyxcbiAgICAgICAgLzwhLS0gSW52aXNpYmxlIGNvbW1lbnQgLS0+ICovZyxcbiAgICAgICAgLzxcXHMqKGJpZ3xzbWFsbHxzdXB8c3VifHN8dXxjb2RlfG5vd2lraXxub2luY2x1ZGV8b25seWluY2x1ZGV8aW5jbHVkZW9ubHl8Y2VudGVyfGJsb2NrcXVvdGV8Z2FsbGVyeSlcXHMqKFxccytbXjw+XSopPz5cXHMqPFxccypcXC9cXHMqXFwxXFxzKj4vZ2ksXG4gICAgXTtcblxuICAgIGZvciAoY29uc3QgcmVnZXggb2Ygc3RyYXlNYXJrdXBSZWdleGVzKSB3aGlsZSAocmVnZXgudGVzdChjb250ZW50KSkgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZShyZWdleCwgJycpO1xuXG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIHNwYWNpbmcgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICogQHBhcmFtIHNlY29uZFJ1biBXaGV0aGVyIHRoZSBmdW5jdGlvbiBpcyBiZWluZyBydW4gZm9yIHRoZSBzZWNvbmQgdGltZSwgYWZ0ZXIgb3RoZXIgcHJvY2Vzc2luZy5cbiAqL1xuZnVuY3Rpb24gY2xlYW51cFNwYWNpbmcoY29udGVudDogc3RyaW5nLCBzZWNvbmRSdW4gPSBmYWxzZSkge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoLyhcXGJ8XFxwe1B1bmN0dWF0aW9ufXxcXF1cXF18XFx9XFx9fFxcdz4pIHsyLH0oXFxifFxccHtQdW5jdHVhdGlvbn18XFxbXFxbfFxce1xce3w8XFx3KS9ndSwgJyQxICQyJyk7IC8vIFJlbW92ZSBleHRyYSBzcGFjZXMgYmV0d2VlbiB3b3JkcyBhbmQgc2VudGVuY2VzXG4gICAgaWYgKCFzZWNvbmRSdW4pIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoL14gK3wgKyQvZ20sICcnKTsgLy8gUmVtb3ZlIGV4dHJhIHNwYWNlcyBhdCB0aGUgc3RhcnQgb3IgZW5kIG9mIGxpbmVzXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvXFxuezMsfS9nLCAnXFxuXFxuJyk7IC8vIFJlbW92ZSBleHRyYSBuZXdsaW5lc1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoL1xccyooe3tbXn1dKnN0dWJ9fSkvaSwgJ1xcblxcbiQxJyk7IC8vIEVuc3VyZSB0aGVyZSBpcyBvbmUgYmxhbmsgbGluZSBiZWZvcmUgdGhlIGZpcnN0IHN0dWIgdGVtcGxhdGVcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC9cXHMrJC9nLCAnJyk7IC8vIFJlbW92ZSB0cmFpbGluZyBzcGFjZXNcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC9eKFsjKl0rKSAqL2dtLCAnJDEgJyk7IC8vIEVuc3VyZSB0aGVyZSBpcyBhIHNwYWNlIGFmdGVyIGEgYnVsbGV0IG9yIGhhc2ggaW4gYSBsaXN0IGl0ZW1cbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC9eKFsjKl0rIC4qKVxcbisoPz1bIypdKyApL2dtLCAnJDFcXG4nKTsgLy8gUmVtb3ZlIG5ld2xpbmVzIGJldHdlZW4gbGlzdCBpdGVtc1xuICAgIGlmICghc2Vjb25kUnVuKSBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC8oPzwhXFx8KVxccysoPz08cmVmKD8hZXJlbmNlcykpL2csICcnKTsgLy8gUmVtb3ZlIHNwYWNlcyBiZWZvcmUgcmVmZXJlbmNlc1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoLzxcXC8oW0EtWmEtel0rKSArPi9nLCAnPC8kMT4nKTsgLy8gUmVtb3ZlIGV4Y2VzcyBzcGFjZSBpbiBjbG9zaW5nIHRhZ3NcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC9eKD0rLio/PSspJFxcbnsyLH0oPz1ePSsuKj89KyQpL2dtLCAnJDFcXG4nKTsgLy8gUmVtb3ZlIGV4dHJhIG5ld2xpbmVzIGJldHdlZW4gZW1wdHkgc2VjdGlvbiBhbmQgZm9sbG93aW5nIHNlY3Rpb25cbiAgICBjb250ZW50ID0gY29udGVudC50cmltKCk7IC8vIFJlbW92ZSB3aGl0ZXNwYWNlIGF0IHRoZSBzdGFydCBvciBlbmQgb2YgdGhlIGNvbnRlbnRcblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIENsZWFucyB1cCByZWZlcmVuY2VzIGluIGFuIGFydGljbGUncyBjb250ZW50LlxuICogQHBhcmFtIGNvbnRlbnQgVGhlIGFydGljbGUgY29udGVudCB0byBjbGVhbiB1cC5cbiAqL1xuZnVuY3Rpb24gY2xlYW51cFJlZmVyZW5jZXMoY29udGVudDogc3RyaW5nKSB7XG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbChcbiAgICAgICAgLygoPzo8cmVmKD8hZXJlbmNlcylbXi9dKj8+Lio/PFxcL3JlZj58PHJlZig/IWVyZW5jZXMpLio/XFwvPikrKShbISwuOz9dKT8vZyxcbiAgICAgICAgKGZ1bGxNYXRjaCwgcmVmZXJlbmNlVGFnOiBzdHJpbmcsIHB1bmN0dWF0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IChwdW5jdHVhdGlvbiA/PyAnJykgKyByZWZlcmVuY2VUYWcsXG4gICAgKTsgLy8gRml4IHB1bmN0dWF0aW9uIGZvbGxvd2luZyByZWZlcmVuY2VzXG5cbiAgICBjb25zdCByZWZlcmVuY2VzOiB7IHN0YXJ0OiBudW1iZXI7IGVuZDogbnVtYmVyOyBpc1NlbGZDbG9zaW5nPzogdHJ1ZSB9W10gPSBbXTtcblxuICAgIGxldCBpc0luc2lkZU5vd2lraSA9IGZhbHNlO1xuICAgIGxldCBpc0luc2lkZUNvbW1lbnQgPSBmYWxzZTtcblxuICAgIGxldCBjdXJyZW50TG9jYXRpb24gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBjb250ZW50IGZvbGxvd2luZyB0aGUgY3VycmVudCBsb2NhdGlvbiBtYXRjaGVzIHRoZSBkZXNpcmVkIHN0cmluZy5cbiAgICAgKiBAcGFyYW0gZGVzaXJlZFN0cmluZyBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBdFN0cmluZyhkZXNpcmVkU3RyaW5nOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgaXNBdFN0cmluZyA9IGNvbnRlbnQuc2xpY2UoY3VycmVudExvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24gKyBkZXNpcmVkU3RyaW5nLmxlbmd0aCkgPT09IGRlc2lyZWRTdHJpbmc7XG5cbiAgICAgICAgaWYgKGlzQXRTdHJpbmcpIGN1cnJlbnRMb2NhdGlvbiArPSBkZXNpcmVkU3RyaW5nLmxlbmd0aDtcblxuICAgICAgICByZXR1cm4gaXNBdFN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZWVkcyB0aHJvdWdoIHRoZSBjb250ZW50IHVudGlsIHRoZSBkZXNpcmVkIHN0cmluZyBpcyBmb3VuZC5cbiAgICAgKiBAcGFyYW0gZGVzaXJlZFN0cmluZyBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvY2VlZFVudGlsU3RyaW5nKGRlc2lyZWRTdHJpbmc6IHN0cmluZykge1xuICAgICAgICB3aGlsZSAoY3VycmVudExvY2F0aW9uIDwgY29udGVudC5sZW5ndGggJiYgIWlzQXRTdHJpbmcoZGVzaXJlZFN0cmluZykpIGN1cnJlbnRMb2NhdGlvbisrO1xuICAgIH1cblxuICAgIHdoaWxlIChjdXJyZW50TG9jYXRpb24gPCBjb250ZW50Lmxlbmd0aClcbiAgICAgICAgaWYgKGlzQXRTdHJpbmcoJzxub3dpa2k+JykpIGlzSW5zaWRlTm93aWtpID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnPC9ub3dpa2k+JykpIGlzSW5zaWRlTm93aWtpID0gZmFsc2U7XG4gICAgICAgIGVsc2UgaWYgKGlzQXRTdHJpbmcoJzwhLS0nKSkgaXNJbnNpZGVDb21tZW50ID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnLS0+JykpIGlzSW5zaWRlQ29tbWVudCA9IGZhbHNlO1xuICAgICAgICBlbHNlIGlmICghaXNJbnNpZGVOb3dpa2kgJiYgIWlzSW5zaWRlQ29tbWVudClcbiAgICAgICAgICAgIGlmICghaXNBdFN0cmluZygnPHJlZmVyZW5jZXMnKSAmJiBpc0F0U3RyaW5nKCc8cmVmJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IGN1cnJlbnRMb2NhdGlvbiAtIDQ7XG5cbiAgICAgICAgICAgICAgICBwcm9jZWVkVW50aWxTdHJpbmcoJz4nKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGlzU2VsZkNsb3NpbmcgPSBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgIC5zbGljZShzdGFydCwgY3VycmVudExvY2F0aW9uIC0gMSlcbiAgICAgICAgICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgICAgICAgICAgICAuZW5kc1dpdGgoJy8nKTtcblxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZXMucHVzaChpc1NlbGZDbG9zaW5nID8geyBzdGFydCwgZW5kOiBjdXJyZW50TG9jYXRpb24sIGlzU2VsZkNsb3NpbmcgfSA6IHsgc3RhcnQsIGVuZDogLTEgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzQXRTdHJpbmcoJzwvcmVmPicpKSByZWZlcmVuY2VzLmF0KC0xKSEuZW5kID0gY3VycmVudExvY2F0aW9uO1xuICAgICAgICAgICAgZWxzZSBjdXJyZW50TG9jYXRpb24rKztcbiAgICAgICAgZWxzZSBjdXJyZW50TG9jYXRpb24rKztcblxuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblxuICAgIGNvbnN0IHJlcGxhY2VtZW50czogW3N0cmluZywgc3RyaW5nXVtdID0gW107XG5cbiAgICBmb3IgKGNvbnN0IHJlZmVyZW5jZSBvZiByZWZlcmVuY2VzKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IGNvbnRlbnQuc2xpY2UocmVmZXJlbmNlLnN0YXJ0LCByZWZlcmVuY2UuZW5kKTtcblxuICAgICAgICBjb25zdCBzdGFydFRhZyA9IC88cmVmKD8hZXJlbmNlcykuKj8+L2lzLmV4ZWMob3JpZ2luYWxUZXh0KSFbMF07XG5cbiAgICAgICAgY29uc3QgcGFyc2VkVGFnID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhcbiAgICAgICAgICAgIHJlZmVyZW5jZS5pc1NlbGZDbG9zaW5nID8gc3RhcnRUYWcucmVwbGFjZSgvICpcXC8gKj4vLCAnIC8+JykgOiBzdGFydFRhZyArICc8L3JlZj4nLFxuICAgICAgICAgICAgJ3RleHQvaHRtbCcsXG4gICAgICAgICkuYm9keS5maXJzdENoaWxkIGFzIEhUTUxVbmtub3duRWxlbWVudDtcblxuICAgICAgICBsZXQgb3V0cHV0ID0gcGFyc2VkVGFnLm91dGVySFRNTC5yZXBsYWNlQWxsKCcmYW1wOycsICcmJyk7XG5cbiAgICAgICAgY29uc3QgdGFnQ29udGVudCA9IG9yaWdpbmFsVGV4dFxuICAgICAgICAgICAgLnNsaWNlKHN0YXJ0VGFnLmxlbmd0aCwgLTYpXG4gICAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgICAucmVwbGFjZUFsbCgvXlxcWyAqKFteIFxcXV0qKSAqXSQvZ20sICckMScpXG4gICAgICAgICAgICAudHJpbSgpO1xuXG4gICAgICAgIG91dHB1dCA9XG4gICAgICAgICAgICByZWZlcmVuY2UuaXNTZWxmQ2xvc2luZyB8fCB0YWdDb250ZW50Lmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgID8gb3V0cHV0LnJlcGxhY2UoLz5cXHMqPFxcL3JlZj4vLCAnIC8+JylcbiAgICAgICAgICAgICAgICA6IGAke291dHB1dC5zbGljZSgwLCAtNil9JHt0YWdDb250ZW50fTwvcmVmPmA7XG5cbiAgICAgICAgaWYgKG9yaWdpbmFsVGV4dCAhPT0gb3V0cHV0KSByZXBsYWNlbWVudHMucHVzaChbb3JpZ2luYWxUZXh0LCBvdXRwdXRdKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IFtvcmlnaW5hbFRleHQsIG91dHB1dF0gb2YgcmVwbGFjZW1lbnRzKSBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKG9yaWdpbmFsVGV4dCwgb3V0cHV0KTtcblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG5pbnRlcmZhY2UgVGVtcGxhdGVSZWRpcmVjdCB7XG4gICAgZnJvbTogc3RyaW5nW107XG4gICAgdG86IHN0cmluZztcbn1cblxuLyoqXG4gKiBGb3JtYXRzIHRlbXBsYXRlIHNwYWNpbmcgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGZvcm1hdC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZm9ybWF0VGVtcGxhdGVzKGNvbnRlbnQ6IHN0cmluZykge1xuICAgIGVudW0gRm9ybWF0U3R5bGUge1xuICAgICAgICBFeHBhbmRlZCxcbiAgICAgICAgRXhwYW5kZWRBbGlnbmVkLFxuICAgICAgICBNaW5pbWl6ZWQsXG4gICAgICAgIE1pbmltaXplZFNwYWNlZCxcbiAgICB9XG5cbiAgICBlbnVtIE5hbWVzcGFjZSB7XG4gICAgICAgIFVzZXIgPSAyLFxuICAgICAgICBUZW1wbGF0ZSA9IDEwLFxuICAgICAgICBEcmFmdCA9IDExOCxcbiAgICB9XG5cbiAgICBjb25zdCB0ZW1wbGF0ZUFsaWFzZXMgPSBKU09OLnBhcnNlKFxuICAgICAgICAoXG4gICAgICAgICAgICAoYXdhaXQgbmV3IG13LkFwaSgpLmdldCh7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiAncXVlcnknLFxuICAgICAgICAgICAgICAgIGZvcm1hdHZlcnNpb246ICcyJyxcbiAgICAgICAgICAgICAgICBwcm9wOiAncmV2aXNpb25zJyxcbiAgICAgICAgICAgICAgICBydnByb3A6ICdjb250ZW50JyxcbiAgICAgICAgICAgICAgICBydnNsb3RzOiAnbWFpbicsXG4gICAgICAgICAgICAgICAgdGl0bGVzOiAnVXNlcjpFZWppdDQzL3NjcmlwdHMvYXJ0aWNsZS1jbGVhbmVyLmpzb24nLFxuICAgICAgICAgICAgfSBzYXRpc2ZpZXMgQXBpUXVlcnlSZXZpc2lvbnNQYXJhbXMpKSBhcyBQYWdlUmV2aXNpb25zUmVzdWx0XG4gICAgICAgICkucXVlcnkhLnBhZ2VzWzBdPy5yZXZpc2lvbnM/LlswXT8uc2xvdHM/Lm1haW4/LmNvbnRlbnQgfHwgJ1tdJyxcbiAgICApIGFzIFRlbXBsYXRlUmVkaXJlY3RbXTtcblxuICAgIGNvbnN0IG1hcHBlZFRlbXBsYXRlQWxpYXNlcyA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgdGVtcGxhdGVBbGlhc2VzLmZsYXRNYXAoKGFsaWFzKSA9PiBhbGlhcy5mcm9tLm1hcCgoZnJvbSkgPT4gW2Zyb20uY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBmcm9tLnNsaWNlKDEpLCBhbGlhcy50b10pKSxcbiAgICApO1xuXG4gICAgY2xhc3MgVGVtcGxhdGUge1xuICAgICAgICBwdWJsaWMgbG9jYXRpb246IHsgc3RhcnQ6IG51bWJlcjsgZW5kPzogbnVtYmVyIH07XG4gICAgICAgIHB1YmxpYyBpc05lc3RlZCA9IGZhbHNlO1xuXG4gICAgICAgIHB1YmxpYyBmdWxsVGV4dD86IHN0cmluZztcbiAgICAgICAgcHJpdmF0ZSBmdWxsVGV4dEVzY2FwZWQ/OiBzdHJpbmc7XG4gICAgICAgIHByaXZhdGUgcmF3TmFtZT86IHN0cmluZztcbiAgICAgICAgcHJpdmF0ZSBuYW1lPzogc3RyaW5nO1xuICAgICAgICBwcml2YXRlIHBhcmFtZXRlcnM6IHsga2V5OiBzdHJpbmcgfCBudWxsOyB2YWx1ZTogc3RyaW5nIH1bXSA9IFtdO1xuICAgICAgICBwdWJsaWMgc3ViVGVtcGxhdGVzOiBUZW1wbGF0ZVtdID0gW107XG5cbiAgICAgICAgcHJpdmF0ZSBwbGFjZWhvbGRlclN0cmluZ3MgPSBbJ1xcdXtGMDAwMH0nLCAnXFx1ezEwRkZGRn0nLCAnXFx1e0ZGRkZFfSddO1xuXG4gICAgICAgIHByaXZhdGUgcGlwZUVzY2FwZVJlZ2V4ZXMgPSBbLyhcXFtcXFtbXlxcXV0qPylcXHwoLio/XV0pL2csIC8oPCEtLS4qPylcXHwoLio/LS0+KS9nLCAvKDxub3dpa2k+Lio/KVxcfCguKj88XFwvbm93aWtpPikvZ107XG5cbiAgICAgICAgcHJpdmF0ZSB0ZW1wbGF0ZUFsaWFzZXMgPSBtYXBwZWRUZW1wbGF0ZUFsaWFzZXM7XG5cbiAgICAgICAgcHJpdmF0ZSBkZWZhdWx0VGVtcGxhdGVTdHlsZXMgPSB7XG4gICAgICAgICAgICBbRm9ybWF0U3R5bGUuRXhwYW5kZWRBbGlnbmVkXTogW1xuICAgICAgICAgICAgICAgICdhbGJ1bSByYXRpbmcnLFxuICAgICAgICAgICAgICAgICdhbGJ1bSByZXZpZXdzJyxcbiAgICAgICAgICAgICAgICAnYW1lcmljYW4gZm9vdGJhbGwgdW5pZm9ybScsXG4gICAgICAgICAgICAgICAgJ2F1c3RyYWxpYW4gcnVsZXMgZm9vdGJhbGwga2l0JyxcbiAgICAgICAgICAgICAgICAnYXV0b21hdGljIHRheG9ib3gnLFxuICAgICAgICAgICAgICAgICdiYXNlYmFsbCB1bmlmb3JtJyxcbiAgICAgICAgICAgICAgICAnYmFza2V0YmFsbCBraXQnLFxuICAgICAgICAgICAgICAgICdiZWFjaGhhbmRiYWxsIGtpdCcsXG4gICAgICAgICAgICAgICAgJ2Jsb2NrcXVvdGUnLFxuICAgICAgICAgICAgICAgICdjaGVtYm94JyxcbiAgICAgICAgICAgICAgICAnY3JpY2tldCB1bmlmb3JtJyxcbiAgICAgICAgICAgICAgICAnZWxlY3Rpb24gYm94JyxcbiAgICAgICAgICAgICAgICAnZXBpc29kZSBsaXN0JyxcbiAgICAgICAgICAgICAgICAnZXh0ZXJuYWwgbXVzaWMgdmlkZW8nLFxuICAgICAgICAgICAgICAgICdleHRyYSBhbGJ1bSBjb3ZlcicsXG4gICAgICAgICAgICAgICAgJ2ZpZWxkIGhvY2tleSBraXQnLFxuICAgICAgICAgICAgICAgICdmb290YmFsbCBib3gnLFxuICAgICAgICAgICAgICAgICdmb290YmFsbCBraXQnLFxuICAgICAgICAgICAgICAgICdmb290YmFsbGJveCcsXG4gICAgICAgICAgICAgICAgJ2hhbmRiYWxsIGtpdCcsXG4gICAgICAgICAgICAgICAgJ2h5YnJpZGJveCcsXG4gICAgICAgICAgICAgICAgJ2ljZWhvY2tleSBraXQnLFxuICAgICAgICAgICAgICAgICdpY2hub2JveCcsXG4gICAgICAgICAgICAgICAgJ2luZm9ib3gnLFxuICAgICAgICAgICAgICAgICdpbmZyYXNwZWNpZXNib3gnLFxuICAgICAgICAgICAgICAgICdqdWRvIGJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICdqdWRvIHJlcGVjaGFnZScsXG4gICAgICAgICAgICAgICAgJ2xpc3RlbicsXG4gICAgICAgICAgICAgICAgJ2xvY2F0aW9uIG1hcCcsXG4gICAgICAgICAgICAgICAgJ21lZGljYWwgcmVzb3VyY2VzJyxcbiAgICAgICAgICAgICAgICAnbW90b3JzcG9ydCBzZWFzb24nLFxuICAgICAgICAgICAgICAgICdtdWx0aXBsZSBpbWFnZScsXG4gICAgICAgICAgICAgICAgJ211c2ljIHJhdGluZ3MnLFxuICAgICAgICAgICAgICAgICdteWNvbW9ycGhib3gnLFxuICAgICAgICAgICAgICAgICduYXZib3gnLFxuICAgICAgICAgICAgICAgICdvb2JveCcsXG4gICAgICAgICAgICAgICAgJ29yYml0Ym94JyxcbiAgICAgICAgICAgICAgICAnb3NtIGxvY2F0aW9uIG1hcCcsXG4gICAgICAgICAgICAgICAgJ3F1b3RlIGJveCcsXG4gICAgICAgICAgICAgICAgJ3JlcGVjaGFnZScsXG4gICAgICAgICAgICAgICAgJ3J1Z2J5Ym94JyxcbiAgICAgICAgICAgICAgICAnc2lkZWJhcicsXG4gICAgICAgICAgICAgICAgJ3NpbmdsZSByYXRpbmdzJyxcbiAgICAgICAgICAgICAgICAnc2luZ2xlcycsXG4gICAgICAgICAgICAgICAgJ3NvbmcgcmF0aW5ncycsXG4gICAgICAgICAgICAgICAgJ3NwZWNpZXNib3gnLFxuICAgICAgICAgICAgICAgICdzdGFyYm94JyxcbiAgICAgICAgICAgICAgICAnc3VjY2Vzc2lvbiBib3gnLFxuICAgICAgICAgICAgICAgICd0YXhvYm94JyxcbiAgICAgICAgICAgICAgICAndGVhbSBicmFja2V0JyxcbiAgICAgICAgICAgICAgICAndHJhY2sgbGlzdGluZycsXG4gICAgICAgICAgICAgICAgJ3R3ZWV0JyxcbiAgICAgICAgICAgICAgICAndmlydXNib3gnLFxuICAgICAgICAgICAgICAgICd2b2xsZXliYWxsIGtpdCcsXG5cbiAgICAgICAgICAgICAgICAvLyBOdW1iZXJlZCBicmFja2V0c1xuICAgICAgICAgICAgICAgICdudGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICcybnRlYW0tbnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnM3RlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnM3RlYW1ycicsXG4gICAgICAgICAgICAgICAgJzR0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzR0ZWFtcnInLFxuICAgICAgICAgICAgICAgICc1dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICc1dGVhbXJyJyxcbiAgICAgICAgICAgICAgICAnNnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnNnRlYW1ycicsXG4gICAgICAgICAgICAgICAgJzd0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzd0ZWFtcnInLFxuICAgICAgICAgICAgICAgICc4dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICc4dGVhbXJvdW5kcm9iaW4nLFxuICAgICAgICAgICAgICAgICc4dGVhbXJyJyxcbiAgICAgICAgICAgICAgICAnOXRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMTB0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzExdGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICcxMnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMTN0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzE0dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICcxNXRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMTZ0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzE4dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICcyMHRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMjR0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzI3dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICczMnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnNDB0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzQ4dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICc2NHRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMTI4dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtGb3JtYXRTdHlsZS5NaW5pbWl6ZWRdOiBbJ2JpcnRoIGRhdGUnLCAnY29vcmQnLCAnZGVhdGggZGF0ZScsICdlbmQgZGF0ZScsICdsYW5nJywgJ3N0YXJ0IGRhdGUnXSxcbiAgICAgICAgICAgIFtGb3JtYXRTdHlsZS5NaW5pbWl6ZWRTcGFjZWRdOiBbJ2luZm9ib3ggbWFwZnJhbWUnXSxcbiAgICAgICAgfTtcblxuICAgICAgICBwcml2YXRlIG5hbWVzcGFjZVNwZWNpZmljVGVtcGxhdGVzID0ge1xuICAgICAgICAgICAgW05hbWVzcGFjZS5EcmFmdF06IFtcbiAgICAgICAgICAgICAgICAnYWZjIGNvbW1lbnQnLFxuICAgICAgICAgICAgICAgICdhZmMgc3VibWlzc2lvbicsXG4gICAgICAgICAgICAgICAgJ2FmYyBzdWJtaXNzaW9uL2RyYWZ0JyxcbiAgICAgICAgICAgICAgICAnYWZjIHRvcGljJyxcbiAgICAgICAgICAgICAgICAnZHJhZnQgYXJ0aWNsZScsXG4gICAgICAgICAgICAgICAgJ2RyYWZ0IGNhdGVnb3JpZXMnLFxuICAgICAgICAgICAgICAgICdkcmFmdCB0b3BpY3MnLFxuICAgICAgICAgICAgICAgICdkcmFmdCcsXG4gICAgICAgICAgICAgICAgJ2RyYWZ0cyBtb3ZlZCBmcm9tIG1haW5zcGFjZScsXG4gICAgICAgICAgICAgICAgJ3ByZWxvYWRkcmFmdCBzdWJtaXQnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtOYW1lc3BhY2UuVXNlcl06IFsnZGFzaGJvYXJkLndpa2llZHUub3JnIHNhbmRib3gnLCAndXNlciBzYW5kYm94JywgJ3VzZXJzcGFjZSBkcmFmdCddLFxuICAgICAgICB9O1xuXG4gICAgICAgIHByaXZhdGUgdGVtcGxhdGVzVG9LZWVwQ29udGVudCA9IFsnZHJhZnQgY2F0ZWdvcmllcyddO1xuXG4gICAgICAgIHByaXZhdGUgdGVtcGxhdGVzVG9TdWJzdCA9IFtcbiAgICAgICAgICAgIC8vIE1hZ2ljIHdvcmRzXG4gICAgICAgICAgICAnYXJ0aWNsZXBhZ2VuYW1lJyxcbiAgICAgICAgICAgICdhcnRpY2xlc3BhY2UnLFxuICAgICAgICAgICAgJ2Jhc2VwYWdlbmFtZScsXG4gICAgICAgICAgICAnZnVsbHBhZ2VuYW1lJyxcbiAgICAgICAgICAgICduYW1lc3BhY2UnLFxuICAgICAgICAgICAgJ25hbWVzcGFjZW51bWJlcicsXG4gICAgICAgICAgICAncGFnZW5hbWUnLFxuICAgICAgICAgICAgJ3Jvb3RwYWdlbmFtZScsXG4gICAgICAgICAgICAnc3ViamVjdHBhZ2VuYW1lJyxcbiAgICAgICAgICAgICdzdWJqZWN0c3BhY2UnLFxuICAgICAgICAgICAgJ3N1YnBhZ2VuYW1lJyxcbiAgICAgICAgICAgICd0YWxrcGFnZW5hbWUnLFxuICAgICAgICAgICAgJ3RhbGtzcGFjZScsXG5cbiAgICAgICAgICAgIC8vIFRlbXBsYXRlc1xuICAgICAgICAgICAgJ3BhZ2VuYW1lYmFzZScsXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3RydWN0b3Ioc3RhcnRMb2NhdGlvbjogbnVtYmVyKSB7XG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9uID0geyBzdGFydDogc3RhcnRMb2NhdGlvbiB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHBhcnNlKCkge1xuICAgICAgICAgICAgdGhpcy5mdWxsVGV4dCA9IGNvbnRlbnQuc2xpY2UodGhpcy5sb2NhdGlvbi5zdGFydCwgdGhpcy5sb2NhdGlvbi5lbmQpO1xuICAgICAgICAgICAgdGhpcy5mdWxsVGV4dEVzY2FwZWQgPSB0aGlzLmZ1bGxUZXh0O1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN1YlRlbXBsYXRlIG9mIHRoaXMuc3ViVGVtcGxhdGVzKSB7XG4gICAgICAgICAgICAgICAgc3ViVGVtcGxhdGUucGFyc2UoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZnVsbFRleHRFc2NhcGVkID0gdGhpcy5mdWxsVGV4dEVzY2FwZWQucmVwbGFjZShzdWJUZW1wbGF0ZS5mdWxsVGV4dCEsIHRoaXMucGxhY2Vob2xkZXJTdHJpbmdzWzBdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHRyaW1tZWRJbm5lclRleHQgPSB0aGlzLmZ1bGxUZXh0RXNjYXBlZC5zbGljZSgyLCAtMikudHJpbSgpO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBpcGVFc2NhcGVSZWdleCBvZiB0aGlzLnBpcGVFc2NhcGVSZWdleGVzKVxuICAgICAgICAgICAgICAgIHdoaWxlIChwaXBlRXNjYXBlUmVnZXgudGVzdCh0cmltbWVkSW5uZXJUZXh0KSlcbiAgICAgICAgICAgICAgICAgICAgdHJpbW1lZElubmVyVGV4dCA9IHRyaW1tZWRJbm5lclRleHQucmVwbGFjZUFsbChwaXBlRXNjYXBlUmVnZXgsIGAkMSR7dGhpcy5wbGFjZWhvbGRlclN0cmluZ3NbMV19JDJgKTtcblxuICAgICAgICAgICAgY29uc3QgdGFnRXF1YWxzRXNjYXBlUmVnZXhlcyA9IFsvPChcXHcrKSggW148Pl0rPykoPzwhXFwvKT4uKj88XFwvXFwxPi9nLCAvPChcXHcrKSggW148Pl0rPylcXC8+L2ddO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRhZ0VxdWFsc0VzY2FwZVJlZ2V4IG9mIHRhZ0VxdWFsc0VzY2FwZVJlZ2V4ZXMpXG4gICAgICAgICAgICAgICAgdHJpbW1lZElubmVyVGV4dCA9IHRyaW1tZWRJbm5lclRleHQucmVwbGFjZUFsbCh0YWdFcXVhbHNFc2NhcGVSZWdleCwgKGZ1bGxUZXh0LCB0YWdOYW1lOiBzdHJpbmcsIGF0dHJpYnV0ZXM6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVsbFRleHQucmVwbGFjZShhdHRyaWJ1dGVzLCBhdHRyaWJ1dGVzLnJlcGxhY2VBbGwoJz0nLCB0aGlzLnBsYWNlaG9sZGVyU3RyaW5nc1syXSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0gdHJpbW1lZElubmVyVGV4dC5zcGxpdCgnfCcpLm1hcCgocGFyYW1ldGVyKSA9PiBwYXJhbWV0ZXIucmVwbGFjZUFsbCh0aGlzLnBsYWNlaG9sZGVyU3RyaW5nc1sxXSwgJ3wnKS50cmltKCkpO1xuXG4gICAgICAgICAgICB0aGlzLnJhd05hbWUgPSBwYXJhbWV0ZXJzLnNoaWZ0KCkhO1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5yYXdOYW1lLnJlcGxhY2VBbGwoJ18nLCAnICcpO1xuXG4gICAgICAgICAgICAvLyBTdHJpcCBuYW1lc3BhY2UgcHJlZml4IGZyb20gbmFtZVxuICAgICAgICAgICAgaWYgKHRoaXMubmFtZS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJ3RlbXBsYXRlOicpKSB0aGlzLm5hbWUgPSB0aGlzLm5hbWUuc2xpY2UoOSk7XG5cbiAgICAgICAgICAgIGNvbnN0IG5hbWVMb3dlcmNhc2VGaXJzdCA9IHRoaXMubmFtZS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHRoaXMubmFtZS5zbGljZSgxKTtcblxuICAgICAgICAgICAgLy8gUmVzb2x2ZSB0ZW1wbGF0ZSBhbGlhcyBpbiBuYW1lXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBuYW1lTG93ZXJjYXNlRmlyc3QgaW4gdGhpcy50ZW1wbGF0ZUFsaWFzZXMgPyB0aGlzLnRlbXBsYXRlQWxpYXNlc1tuYW1lTG93ZXJjYXNlRmlyc3RdIDogdGhpcy5uYW1lO1xuXG4gICAgICAgICAgICBjb25zdCBzcGxpdFBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzLm1hcCgocGFyYW1ldGVycykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVxdWFsc0xvY2F0aW9uID0gcGFyYW1ldGVycy5pbmRleE9mKCc9Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXF1YWxzTG9jYXRpb24gPT09IC0xKSByZXR1cm4geyBrZXk6IG51bGwsIHZhbHVlOiBwYXJhbWV0ZXJzLnJlcGxhY2VBbGwodGhpcy5wbGFjZWhvbGRlclN0cmluZ3NbMl0sICc9JykudHJpbSgpIH07XG5cbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcmFtZXRlcnMuc2xpY2UoZXF1YWxzTG9jYXRpb24gKyAxKS5yZXBsYWNlQWxsKHRoaXMucGxhY2Vob2xkZXJTdHJpbmdzWzJdLCAnPScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBwYXJhbWV0ZXJzLnNsaWNlKDAsIGVxdWFsc0xvY2F0aW9uKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBgJHt2YWx1ZS5zdGFydHNXaXRoKCdcXG4nKSA/ICdcXG4nIDogJyd9JHt2YWx1ZS50cmltKCl9YCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHNwbGl0UGFyYW1ldGVycztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc2hvdWxkQmVSZW1vdmVkKCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBbbmFtZXNwYWNlLCB0ZW1wbGF0ZXNdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMubmFtZXNwYWNlU3BlY2lmaWNUZW1wbGF0ZXMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG13LmNvbmZpZy5nZXQoJ3dnTmFtZXNwYWNlTnVtYmVyJykgPT09IE51bWJlci5wYXJzZUludChuYW1lc3BhY2UpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZXMuaW5jbHVkZXModGhpcy5uYW1lIS50b0xvd2VyQ2FzZSgpKSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgZ2V0U3R5bGUoKSB7XG4gICAgICAgICAgICBsZXQgbW9zdFNwZWNpZmljRGVmYXVsdFN0eWxlUHJlZml4TGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGxldCBtb3N0U3BlY2lmaWNEZWZhdWx0U3R5bGVGb3JtYXRTdHlsZTogRm9ybWF0U3R5bGUgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgW2Zvcm1hdFN0eWxlLCB0ZW1wbGF0ZVByZWZpeGVzXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmRlZmF1bHRUZW1wbGF0ZVN0eWxlcykpXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0ZW1wbGF0ZVByZWZpeCBvZiB0ZW1wbGF0ZVByZWZpeGVzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWUhLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCh0ZW1wbGF0ZVByZWZpeCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlUHJlZml4Lmxlbmd0aCA+PSBtb3N0U3BlY2lmaWNEZWZhdWx0U3R5bGVQcmVmaXhMZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3N0U3BlY2lmaWNEZWZhdWx0U3R5bGVQcmVmaXhMZW5ndGggPSB0ZW1wbGF0ZVByZWZpeC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3N0U3BlY2lmaWNEZWZhdWx0U3R5bGVGb3JtYXRTdHlsZSA9IE51bWJlci5wYXJzZUludChmb3JtYXRTdHlsZSkgYXMgRm9ybWF0U3R5bGU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG1vc3RTcGVjaWZpY0RlZmF1bHRTdHlsZUZvcm1hdFN0eWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBjbGVhbnVwUGFyYW1ldGVycygpIHtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlUGFyYW1ldGVycyA9IG5ldyBTZXQoWydjb3ZlcicsICdpbWFnZV9mbGFnJywgJ2ltYWdlJywgJ2xvZ28nLCAnbWFwX2ltYWdlJ10pO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBudW1iZXIgPSAxOyBudW1iZXIgPD0gMTA7IG51bWJlcisrKSBpbWFnZVBhcmFtZXRlcnMuYWRkKGBpbWFnZSR7bnVtYmVyfWApO1xuXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSB0aGlzLnBhcmFtZXRlcnMubWFwKCh7IGtleSwgdmFsdWUgfSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgJiYgaW1hZ2VQYXJhbWV0ZXJzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5zdGFydHNXaXRoKCdbWycpICYmIHZhbHVlLmVuZHNXaXRoKCddXScpKSB2YWx1ZSA9IC9cXFtcXFsoLio/KV1dL2cuZXhlYyh2YWx1ZSkhWzFdLnNwbGl0KCd8JylbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9eKEZpbGV8SW1hZ2UpOi8sICcnKS5yZXBsYWNlQWxsKCdfJywgJyAnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4geyBrZXksIHZhbHVlIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmb3JtYXQoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZnVsbFRleHQpIHRoaXMucGFyc2UoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvdWxkQmVSZW1vdmVkKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVzVG9LZWVwQ29udGVudC5pbmNsdWRlcyh0aGlzLm5hbWUhLnRvTG93ZXJDYXNlKCkpID8gdGhpcy5wYXJhbWV0ZXJzWzBdLnZhbHVlIDogJyc7XG5cbiAgICAgICAgICAgIGNvbnN0IHNob3VsZFN1YnN0ID1cbiAgICAgICAgICAgICAgICBtdy5jb25maWcuZ2V0KCd3Z05hbWVzcGFjZU51bWJlcicpICE9PSAoTmFtZXNwYWNlLlRlbXBsYXRlIGFzIG51bWJlcikgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnRlbXBsYXRlc1RvU3Vic3Quc29tZSgobmFtZSkgPT4gbmFtZSA9PT0gdGhpcy5uYW1lIS50b0xvd2VyQ2FzZSgpIHx8IHRoaXMubmFtZSEudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKGAke25hbWV9OmApKTtcblxuICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdldFN0eWxlKCk7XG4gICAgICAgICAgICBpZiAoc3R5bGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxldCBuZXdOYW1lID0gdGhpcy5uYW1lITtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5uYW1lIS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJ3RlbXBsYXRlOicpKSBuZXdOYW1lID0gdGhpcy5uYW1lIS5zbGljZSg5KTtcblxuICAgICAgICAgICAgICAgIGlmIChzaG91bGRTdWJzdCkgbmV3TmFtZSA9IGBzdWJzdDoke25ld05hbWV9YDtcblxuICAgICAgICAgICAgICAgIGlmIChuZXdOYW1lICE9PSB0aGlzLnJhd05hbWUhKSB0aGlzLmZ1bGxUZXh0RXNjYXBlZCA9IHRoaXMuZnVsbFRleHRFc2NhcGVkIS5yZXBsYWNlKHRoaXMucmF3TmFtZSEsIG5ld05hbWUpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzdWJUZW1wbGF0ZSBvZiB0aGlzLnN1YlRlbXBsYXRlcylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mdWxsVGV4dEVzY2FwZWQgPSB0aGlzLmZ1bGxUZXh0RXNjYXBlZCEucmVwbGFjZSh0aGlzLnBsYWNlaG9sZGVyU3RyaW5nc1swXSwgc3ViVGVtcGxhdGUuZm9ybWF0KCkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnVsbFRleHRFc2NhcGVkITtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gW2B7eyR7c2hvdWxkU3Vic3QgPyAnc3Vic3Q6JyA6ICcnfSR7dGhpcy5uYW1lIX1gXTtcblxuICAgICAgICAgICAgdGhpcy5jbGVhbnVwUGFyYW1ldGVycygpO1xuXG4gICAgICAgICAgICBpZiAoc3R5bGUgPT09IEZvcm1hdFN0eWxlLkV4cGFuZGVkIHx8IHN0eWxlID09PSBGb3JtYXRTdHlsZS5FeHBhbmRlZEFsaWduZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVxdWlyZWRLZXlMZW5ndGggPSAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlID09PSBGb3JtYXRTdHlsZS5FeHBhbmRlZEFsaWduZWQpXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkS2V5TGVuZ3RoID0gTWF0aC5tYXgoLi4udGhpcy5wYXJhbWV0ZXJzLm1hcCgocGFyYW1ldGVyKSA9PiBwYXJhbWV0ZXIua2V5Py5sZW5ndGggPz8gMCkpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIHBhcmFtZXRlcl0gb2YgdGhpcy5wYXJhbWV0ZXJzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAhcGFyYW1ldGVyLmtleSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIXBhcmFtZXRlci52YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNsaWNlKGluZGV4ICsgMSkuZXZlcnkoKHBhcmFtZXRlcikgPT4gcGFyYW1ldGVyLmtleSA/PyAhcGFyYW1ldGVyLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChgfCAke3BhcmFtZXRlci5rZXkgPyBgJHtwYXJhbWV0ZXIua2V5LnBhZEVuZChyZXF1aXJlZEtleUxlbmd0aCl9ID0gYCA6ICcnfSR7cGFyYW1ldGVyLnZhbHVlfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBwYXJhbWV0ZXJdIG9mIHRoaXMucGFyYW1ldGVycy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgIXBhcmFtZXRlci52YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHBhcmFtZXRlci5rZXkgfHwgdGhpcy5wYXJhbWV0ZXJzLnNsaWNlKGluZGV4ICsgMSkuZXZlcnkoKHBhcmFtZXRlcikgPT4gcGFyYW1ldGVyLmtleSA/PyAhcGFyYW1ldGVyLnZhbHVlKSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goYHwke3BhcmFtZXRlci5rZXkgPyBgJHtwYXJhbWV0ZXIua2V5fT1gIDogJyd9JHtwYXJhbWV0ZXIudmFsdWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvdXRwdXQucHVzaCgnfX0nKTtcblxuICAgICAgICAgICAgaWYgKG91dHB1dC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRbMF0gKz0gJ319JztcblxuICAgICAgICAgICAgICAgIG91dHB1dC5wb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3R5bGUgPT09IEZvcm1hdFN0eWxlLk1pbmltaXplZFNwYWNlZCkge1xuICAgICAgICAgICAgICAgIG91dHB1dFtvdXRwdXQubGVuZ3RoIC0gMl0gKz0gJ319JztcblxuICAgICAgICAgICAgICAgIG91dHB1dC5wb3AoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGpvaW5lZE91dHB1dCA9IG91dHB1dC5qb2luKFxuICAgICAgICAgICAgICAgIHN0eWxlID09PSBGb3JtYXRTdHlsZS5FeHBhbmRlZCB8fCBzdHlsZSA9PT0gRm9ybWF0U3R5bGUuRXhwYW5kZWRBbGlnbmVkXG4gICAgICAgICAgICAgICAgICAgID8gJ1xcbidcbiAgICAgICAgICAgICAgICAgICAgOiBzdHlsZSA9PT0gRm9ybWF0U3R5bGUuTWluaW1pemVkU3BhY2VkXG4gICAgICAgICAgICAgICAgICAgICAgPyAnICdcbiAgICAgICAgICAgICAgICAgICAgICA6ICcnLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBzdWJUZW1wbGF0ZSBvZiB0aGlzLnN1YlRlbXBsYXRlcylcbiAgICAgICAgICAgICAgICBqb2luZWRPdXRwdXQgPSBqb2luZWRPdXRwdXQucmVwbGFjZSh0aGlzLnBsYWNlaG9sZGVyU3RyaW5nc1swXSwgc3ViVGVtcGxhdGUuZm9ybWF0KCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gam9pbmVkT3V0cHV0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYWxsVGVtcGxhdGVzOiBUZW1wbGF0ZVtdID0gW107XG5cbiAgICBjb25zdCBpbnNpZGVUZW1wbGF0ZXM6IFRlbXBsYXRlW10gPSBbXTtcbiAgICBsZXQgaXNJbnNpZGVMaW5rID0gZmFsc2U7XG4gICAgbGV0IGlzSW5zaWRlTm93aWtpID0gZmFsc2U7XG4gICAgbGV0IGlzSW5zaWRlQ29tbWVudCA9IGZhbHNlO1xuXG4gICAgbGV0IGN1cnJlbnRMb2NhdGlvbiA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGNvbnRlbnQgZm9sbG93aW5nIHRoZSBjdXJyZW50IGxvY2F0aW9uIG1hdGNoZXMgdGhlIGRlc2lyZWQgc3RyaW5nLlxuICAgICAqIEBwYXJhbSBkZXNpcmVkU3RyaW5nIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0F0U3RyaW5nKGRlc2lyZWRTdHJpbmc6IHN0cmluZykge1xuICAgICAgICBjb25zdCBpc0F0U3RyaW5nID0gY29udGVudC5zbGljZShjdXJyZW50TG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbiArIGRlc2lyZWRTdHJpbmcubGVuZ3RoKSA9PT0gZGVzaXJlZFN0cmluZztcblxuICAgICAgICBpZiAoaXNBdFN0cmluZykgY3VycmVudExvY2F0aW9uICs9IGRlc2lyZWRTdHJpbmcubGVuZ3RoO1xuXG4gICAgICAgIHJldHVybiBpc0F0U3RyaW5nO1xuICAgIH1cblxuICAgIHdoaWxlIChjdXJyZW50TG9jYXRpb24gPCBjb250ZW50Lmxlbmd0aClcbiAgICAgICAgaWYgKGlzQXRTdHJpbmcoJzxub3dpa2k+JykpIGlzSW5zaWRlTm93aWtpID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnPC9ub3dpa2k+JykpIGlzSW5zaWRlTm93aWtpID0gZmFsc2U7XG4gICAgICAgIGVsc2UgaWYgKGlzQXRTdHJpbmcoJzwhLS0nKSkgaXNJbnNpZGVDb21tZW50ID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnLS0+JykpIGlzSW5zaWRlQ29tbWVudCA9IGZhbHNlO1xuICAgICAgICBlbHNlIGlmICghaXNJbnNpZGVOb3dpa2kgJiYgIWlzSW5zaWRlQ29tbWVudClcbiAgICAgICAgICAgIGlmIChpc0F0U3RyaW5nKCdbWycpKSBpc0luc2lkZUxpbmsgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNJbnNpZGVMaW5rICYmIGlzQXRTdHJpbmcoJ11dJykpIGlzSW5zaWRlTGluayA9IGZhbHNlO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygne3snKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKGN1cnJlbnRMb2NhdGlvbiAtIDIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluc2lkZVRlbXBsYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlLmlzTmVzdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaW5zaWRlVGVtcGxhdGVzLmF0KC0xKT8uc3ViVGVtcGxhdGVzLnB1c2godGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGluc2lkZVRlbXBsYXRlcy5wdXNoKHRlbXBsYXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBdFN0cmluZygnfX0nKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RUZW1wbGF0ZSA9IGluc2lkZVRlbXBsYXRlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWxhc3RUZW1wbGF0ZSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBsYXN0VGVtcGxhdGUubG9jYXRpb24uZW5kID0gY3VycmVudExvY2F0aW9uO1xuXG4gICAgICAgICAgICAgICAgYWxsVGVtcGxhdGVzLnB1c2gobGFzdFRlbXBsYXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSBjdXJyZW50TG9jYXRpb24rKztcbiAgICAgICAgZWxzZSBjdXJyZW50TG9jYXRpb24rKztcblxuICAgIGxldCBuZXdDb250ZW50ID0gY29udGVudDtcblxuICAgIGZvciAoY29uc3QgdGVtcGxhdGUgb2YgYWxsVGVtcGxhdGVzKVxuICAgICAgICBpZiAoIXRlbXBsYXRlLmlzTmVzdGVkKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZS5wYXJzZSgpO1xuXG4gICAgICAgICAgICBuZXdDb250ZW50ID0gbmV3Q29udGVudC5yZXBsYWNlKHRlbXBsYXRlLmZ1bGxUZXh0ISwgdGVtcGxhdGUuZm9ybWF0KCkpO1xuICAgICAgICB9XG5cbiAgICByZXR1cm4gbmV3Q29udGVudDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHVubmVjZXNzYXJ5IGNvbW1lbnRzIGZyb20gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICovXG5mdW5jdGlvbiByZW1vdmVDb21tZW50cyhjb250ZW50OiBzdHJpbmcpIHtcbiAgICBpZiAobXcuY29uZmlnLmdldCgnd2dOYW1lc3BhY2VOdW1iZXInKSAhPT0gMCkgcmV0dXJuIGNvbnRlbnQ7XG5cbiAgICBjb25zdCBjb21tZW50cyA9IFtcbiAgICAgICAgJ0RvIG5vdCByZW1vdmUgdGhpcyBsaW5lJyxcbiAgICAgICAgJ0VESVQgQkVMT1cgVEhJUyBMSU5FJyxcbiAgICAgICAgJ0ltcG9ydGFudCwgZG8gbm90IHJlbW92ZSBhbnl0aGluZyBhYm92ZSB0aGlzIGxpbmUgYmVmb3JlIGFydGljbGUgaGFzIGJlZW4gY3JlYXRlZCcsXG4gICAgICAgICdJbXBvcnRhbnQsIGRvIG5vdCByZW1vdmUgdGhpcyBsaW5lIGJlZm9yZSBhcnRpY2xlIGhhcyBiZWVuIGNyZWF0ZWQnLFxuICAgICAgICAnSW5saW5lIGNpdGF0aW9ucyBhZGRlZCB0byB5b3VyIGFydGljbGUgd2lsbCBhdXRvbWF0aWNhbGx5IGRpc3BsYXkgaGVyZScsXG4gICAgICAgICdOb3RlOiBUaGUgZm9sbG93aW5nIHBhZ2VzIHdlcmUgcmVkaXJlY3RzIHRvICcsXG4gICAgXTtcblxuICAgIGZvciAoY29uc3QgY29tbWVudCBvZiBjb21tZW50cylcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbChuZXcgUmVnRXhwKGAgKjwhLS0gPyR7ZXNjYXBlUmVnZXhDaGFyYWN0ZXJzKGNvbW1lbnQpfS4qPy0tPiAqXFxuP2AsICdncycpLCAnJyk7XG5cbiAgICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBBZGRzIHJlbGV2YW50IHRhZ3MgdG8gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGFkZCB0YWdzIHRvLlxuICovXG5mdW5jdGlvbiBhdXRvVGFnUGFnZShjb250ZW50OiBzdHJpbmcpIHtcbiAgICBjb25zdCBudW1iZXJPZkNhdGVnb3JpZXMgPSBbLi4uY29udGVudC5tYXRjaEFsbCgvXFxbXFxbQ2F0ZWdvcnk6L2cpXS5sZW5ndGg7XG5cbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC9cXG4qe3sodW5jYXRlZ29yaXplZHxpbXByb3ZlIGNhdGVnb3JpZXMpKFxcfC4rPyk/fX1cXG4qL2dpLCAnJyk7XG5cbiAgICBpZiAobnVtYmVyT2ZDYXRlZ29yaWVzID09PSAwICYmICEve3t1bmNhdGVnb3JpemVkL2kudGVzdChjb250ZW50KSlcbiAgICAgICAgY29udGVudCArPSAnXFxuXFxue3tVbmNhdGVnb3JpemVkfHt7c3Vic3Q6Q1VSUkVOVE1PTlRITkFNRX19IHt7c3Vic3Q6Q1VSUkVOVFlFQVJ9fX19JztcbiAgICBlbHNlIGlmIChudW1iZXJPZkNhdGVnb3JpZXMgPT09IDEgJiYgIS97e2ltcHJvdmUgY2F0ZWdvcmllcy9pLnRlc3QoY29udGVudCkpXG4gICAgICAgIGNvbnRlbnQgKz0gJ1xcblxcbnt7SW1wcm92ZSBjYXRlZ29yaWVzfHt7c3Vic3Q6Q1VSUkVOVE1PTlRITkFNRX19IHt7c3Vic3Q6Q1VSUkVOVFlFQVJ9fX19JztcblxuICAgIHJldHVybiBjb250ZW50O1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7O21CQXNDUSxHQUFHLE9BQU8sSUFBSSxtQkFBbUIsRUFBSSxHQUNwQyxHQUFHLE9BQU8sSUFBSSxzQkFBc0IsR0FFekMsR0FBRyxPQUFPLE1BQU0sQ0FBQyxpQkFBa0Isc0JBQXNCLEVBQUcsSUFBTSxDQUM5RCxHQUFHLEtBQUssT0FBTztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT3JCLEVBRU0sSUFBTUEsRUFBTyxHQUFHLEtBQUssZUFDakIsR0FB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LEVBQ2RHLEVBQVMsV0FDVkEsRUFBUyxNQUFNLEVBRWZFLEVBQWFBLEVBQVcsUUFBUUYsRUFBUyxTQUFXQSxFQUFTLE9BQU8sQ0FBQyxHQUc3RSxPQUFPRSxDQUNYLENBTUEsU0FBUzVILEVBQWVLLEVBQWlCLENBQ3JDLEdBQUksR0FBRyxPQUFPLElBQUksbUJBQW1CLElBQU0sRUFBRyxPQUFPQSxFQUVyRCxJQUFNd0gsRUFBVyxDQUNiLDBCQUNBLHVCQUNBLG9GQUNBLHFFQUNBLHlFQUNBLDhDQUNKLEVBRUEsUUFBV0MsS0FBV0QsRUFDbEJ4SCxFQUFVQSxFQUFRLFdBQVcsSUFBSSxPQUFPLFdBQVdGLEVBQXNCMkgsQ0FBTyxDQUFDO0FBQUEsR0FBZSxJQUFJLEVBQUcsRUFBRSxFQUU3RyxPQUFPekgsQ0FDWCxDQU1BLFNBQVNKLEVBQVlJLEVBQWlCLENBQ2xDLElBQU0wSCxFQUFxQixDQUFDLEdBQUcxSCxFQUFRLFNBQVMsZ0JBQWdCLENBQUMsRUFBRSxPQUVuRSxPQUFBQSxFQUFVQSxFQUFRLFdBQVcseURBQTBELEVBQUUsRUFFckYwSCxJQUF1QixHQUFLLENBQUMsbUJBQW1CLEtBQUsxSCxDQUFPLEVBQzVEQSxHQUFXO0FBQUE7QUFBQSxvRUFDTjBILElBQXVCLEdBQUssQ0FBQyx3QkFBd0IsS0FBSzFILENBQU8sSUFDdEVBLEdBQVc7QUFBQTtBQUFBLDBFQUVSQSxDQUNYIiwKICAibmFtZXMiOiBbImxpbmsiLCAic2hvdWxkQWRkU2NyaXB0TWVzc2FnZSIsICJzY3JpcHRNZXNzYWdlIiwgInN1bW1hcnlJbnB1dCIsICJldmVudCIsICJlZGl0Qm94IiwgIm9yaWdpbmFsVGV4dCIsICJmaW5hbFRleHQiLCAiY2xlYW51cFN0cmF5VW5pY29kZUNoYXJhY3RlcnMiLCAiY2xlYW51cFNlY3Rpb25IZWFkZXJzIiwgImNsZWFudXBNYWdpY1dvcmRzIiwgImNsZWFudXBEaXNwbGF5dGl0bGVzQW5kRGVmYXVsdHNvcnRzIiwgImNsZWFudXBDYXRlZ29yaWVzIiwgImNsZWFudXBMaW5rcyIsICJjbGVhbnVwSW1wcm9wZXJDaGFyYWN0ZXJzIiwgImNsZWFudXBZZWFyUmFuZ2VzIiwgImNsZWFudXBTdHJheU1hcmt1cCIsICJjbGVhbnVwU3BhY2luZyIsICJjbGVhbnVwUmVmZXJlbmNlcyIsICJmb3JtYXRUZW1wbGF0ZXMiLCAicmVtb3ZlQ29tbWVudHMiLCAiYXV0b1RhZ1BhZ2UiLCAic3VyZmFjZU1vZGVsIiwgImVzY2FwZVJlZ2V4Q2hhcmFjdGVycyIsICJzdHJpbmciLCAiY29udGVudCIsICJzdHJheVVuaWNvZGVSZWdleCIsICJjb21tb25SZXBsYWNlbWVudHMiLCAiY29tbW9uTWlzY2FwaXRhbGl6ZWRXb3JkcyIsICJyZXZlcnNlQ29tbW9uUmVwbGFjZW1lbnRzIiwgImtleSIsICJ2YWx1ZXMiLCAidmFsdWUiLCAicGFyc2VkSGVhZGVycyIsICJoZWFkZXIiLCAibmFtZSIsICJzdGFydE1hcmt1cCIsICJlbmRNYXJrdXAiLCAibGlua3MiLCAiZGVwdGgiLCAiaGVhZGVyc1NldCIsICJ0aXRsZVNwYWNlciIsICJsb3dlcmNhc2VOYW1lIiwgImNhcGl0YWxpemVkTmFtZSIsICJ3b3JkIiwgIm91dHB1dCIsICJwYXJzZWRUYWdzIiwgInRhZyIsICJmdWxsVGFnIiwgInR5cGUiLCAiY3VycmVudFRpdGxlIiwgIm9yaWdpbmFsVGFnUmVnZXgiLCAidW5wcmVmaXhlZFRpdGxlIiwgInRpdGxlIiwgImRlZmF1bHRLZXkiLCAiY3VzdG9tS2V5IiwgIm5ld1RleHQiLCAiZnVuY3Rpb25zQ2FsbGVkV2hpbGVFc2NhcGVkIiwgImNsb3NlZExpbmtzIiwgImlzSW5zaWRlTm93aWtpIiwgImlzSW5zaWRlQ29tbWVudCIsICJjdXJyZW50TG9jYXRpb24iLCAiaXNBdFN0cmluZyIsICJkZXNpcmVkU3RyaW5nIiwgInNob3VsZEluY3JlbWVudCIsICJsYXN0TGluayIsICJuZXdMaW5rQ29udGVudCIsICJuYW1lc3BhY2VOYW1lcyIsICJsaW5rTG9jYXRpb24iLCAiaW5uZXJMaW5rIiwgInVucGFyc2VkTGluayIsICJwYXJhbWV0ZXJzIiwgImFsdFRleHQiLCAiaXNGaXJzdENoYXJhY3RlckNvbG9uIiwgInNob3VsZEZpcnN0Q2hhcmFjdGVyQmVDb2xvbiIsICJsaW5rVXBwZXJjYXNlU3RhcnQiLCAibGlua0xvd2VyY2FzZVN0YXJ0IiwgIm5hbWVzcGFjZSIsICJhZnRlckxpbmtUZXh0IiwgImFkZGVkUHVuY3R1YXRpb24iLCAibmV3TGluayIsICJmdW5jdGlvblRvQ2FsbCIsICJsb29wQ291bnRlciIsICJsaW5rRGF0YSIsICJsaW5rQ29udGVudCIsICJydW4iLCAiZWxpcHNpc1BsYWNlaG9sZGVyIiwgIm5ic3BQbGFjZWhvbGRlciIsICJvcmlnaW5hbCIsICJzdGFydCIsICJlbmQiLCAic3RyYXlNYXJrdXBSZWdleGVzIiwgInJlZ2V4IiwgInNlY29uZFJ1biIsICJmdWxsTWF0Y2giLCAicmVmZXJlbmNlVGFnIiwgInB1bmN0dWF0aW9uIiwgInJlZmVyZW5jZXMiLCAicHJvY2VlZFVudGlsU3RyaW5nIiwgImlzU2VsZkNsb3NpbmciLCAicGFyc2VyIiwgInJlcGxhY2VtZW50cyIsICJyZWZlcmVuY2UiLCAic3RhcnRUYWciLCAidGFnQ29udGVudCIsICJGb3JtYXRTdHlsZSIsICJOYW1lc3BhY2UiLCAidGVtcGxhdGVBbGlhc2VzIiwgIm1hcHBlZFRlbXBsYXRlQWxpYXNlcyIsICJhbGlhcyIsICJmcm9tIiwgIlRlbXBsYXRlIiwgInN0YXJ0TG9jYXRpb24iLCAic3ViVGVtcGxhdGUiLCAidHJpbW1lZElubmVyVGV4dCIsICJwaXBlRXNjYXBlUmVnZXgiLCAidGFnRXF1YWxzRXNjYXBlUmVnZXhlcyIsICJ0YWdFcXVhbHNFc2NhcGVSZWdleCIsICJmdWxsVGV4dCIsICJ0YWdOYW1lIiwgImF0dHJpYnV0ZXMiLCAicGFyYW1ldGVyIiwgIm5hbWVMb3dlcmNhc2VGaXJzdCIsICJzcGxpdFBhcmFtZXRlcnMiLCAiZXF1YWxzTG9jYXRpb24iLCAidGVtcGxhdGVzIiwgIm1vc3RTcGVjaWZpY0RlZmF1bHRTdHlsZVByZWZpeExlbmd0aCIsICJtb3N0U3BlY2lmaWNEZWZhdWx0U3R5bGVGb3JtYXRTdHlsZSIsICJmb3JtYXRTdHlsZSIsICJ0ZW1wbGF0ZVByZWZpeGVzIiwgInRlbXBsYXRlUHJlZml4IiwgImltYWdlUGFyYW1ldGVycyIsICJudW1iZXIiLCAic2hvdWxkU3Vic3QiLCAic3R5bGUiLCAibmV3TmFtZSIsICJyZXF1aXJlZEtleUxlbmd0aCIsICJpbmRleCIsICJqb2luZWRPdXRwdXQiLCAiYWxsVGVtcGxhdGVzIiwgImluc2lkZVRlbXBsYXRlcyIsICJpc0luc2lkZUxpbmsiLCAidGVtcGxhdGUiLCAibGFzdFRlbXBsYXRlIiwgIm5ld0NvbnRlbnQiLCAiY29tbWVudHMiLCAiY29tbWVudCIsICJudW1iZXJPZkNhdGVnb3JpZXMiXQp9Cg==
