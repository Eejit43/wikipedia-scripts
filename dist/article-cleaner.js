// <pre>
// Note: This script was compiled and minified from TypeScript. For a more readable version, see https://github.com/Eejit43/wikipedia-scripts/blob/main/scripts/article-cleaner.ts

"use strict";(()=>{var N=new mw.Api;async function C(e){return(await N.get({action:"query",formatversion:"2",prop:"revisions",rvprop:"content",rvslots:"main",titles:e})).query.pages[0].revisions?.[0].slots.main.content.trim()}(()=>{if(mw.config.get("wgNamespaceNumber")<0||!mw.config.get("wgIsProbablyEditable"))return;let e=["mediawiki.util","jquery.textSelection"];mw.config.get("skin")!=="minerva"&&e.push("mobile.editor.overlay"),mw.loader.using(e,()=>{let p=!1,f="Cleaned up article content (via [[User:Eejit43/scripts/article-cleaner|article-cleaner]])";function h(n){setTimeout(()=>{n.value.includes(f.slice(1))||(n.value+=n.value&&!n.value.startsWith("/* ")&&!n.value.endsWith(" */ ")?`; ${f.charAt(0).toLowerCase()+f.slice(1)}`:f)},0),p=!1}async function o(n){n.preventDefault();let m=$(mw.config.get("skin")==="minerva"?"#wikitext-editor":"#wpTextbox1");if(m.length===0)return mw.notify("Edit box not found!",{type:"error",autoHideSeconds:"short"});let d=m.textSelection("getContents"),t=d;if(t=v(t),t=M(t),t=P(t),t=_(t),t=O(t),t=F(t,[D,U]),t=H(t),t=y(t),t=G(t),t=await W(t),t=j(t),t=y(t,!0),t=B(t),d===t)mw.notify("No changes to be made to the article!",{type:"warn",autoHideSeconds:"short"});else{if(ve.init){let i=ve.init.target.getSurface().getModel();i.getLinearFragment(i.getRangeFromSourceOffsets(0,d.length)).insertContent(t),i.setSelection(new ve.dm.LinearSelection(new ve.Range(0,0)))}else m.textSelection("setContents",t),m.textSelection("setSelection",{start:0});mw.notify("Article cleanup complete!",{type:"success",autoHideSeconds:"short"});let r=document.querySelector("#wpSummary");r?h(r):p=!0}}mw.config.get("skin")==="minerva"?(mw.hook("mobileFrontend.editorOpened").add(()=>{let n=document.querySelector(".overlay-header .switcher-container"),d=new OO.ui.ButtonWidget({icon:"articleCheck",framed:!1}).$element[0];d.addEventListener("click",o),n.before(d)}),mw.hook("wikipage.content").add(n=>{if(n[0]?.classList.contains("preview")&&p){let m=document.querySelector(".summary-input textarea");h(m)}})):(mw.util.addCSS(`
#article-cleaner {
    display: none;
}

#content:has(#wpTextbox1) #article-cleaner {
    display: unset;
}`),mw.util.addPortletLink(mw.config.get("skin")==="minerva"?"p-navigation":"p-cactions","#","Perform article cleanup","article-cleaner").addEventListener("click",o),mw.hook("ve.saveDialog.stateChanged").add(()=>{if(p){let m=document.querySelector(".ve-ui-mwSaveDialog-summary textarea");h(m)}}))})})();function L(e){return e.replaceAll(/[$()*+.?[\\\]^{|}]/g,"\\$&")}function v(e){let p=/[\u0000-\u0009\u000B\u000C\u000E-\u001F\u007F\u00AD\u200B-\u200F\u202A-\u202E\u2060\u2063\uFEFF]/g;return p.test(e)&&(e=e.replaceAll(p,"")),e}function M(e){let p={"See also":["also see"],References:["reference","source","sources","citation","citations"],"Further reading":["further reading"],"External links":["external link","weblink","weblinks"]},f=["and","birth","career","death","education","life","of","or"],h=Object.fromEntries(Object.entries(p).flatMap(([t,r])=>[[t.toLowerCase(),t],...r.map(i=>[i,t])])),n=[...e.matchAll(/(?<=^|\n)\n*(?<startMarkup>=+) *(?<name>.*?) *(?<endMarkup>=+)(\n+|$)/g)].map(t=>{let{name:r}=t.groups,{startMarkup:i,endMarkup:c}=t.groups;r=r.replaceAll(/'{3}/g,"");let S=r.matchAll(/\[\[(.+?)]]/g).toArray();for(let a of S)r=r.replace(a[0],a[1].split("|").at(-1));let u=Math.max(i.length,c.length,2);return{name:r,depth:u,original:t[0]}}),m=new Set(n.map(t=>t.name)),d=n.length>0&&/^\n*=+ | =+\n+$/.test(n[0].original)?" ":"";for(let t of n){let r=t.name.toLowerCase(),c=r in h&&!m.has(h[r])?h[r]:t.name;for(let u of f)c=c.replaceAll(new RegExp(`\\b${u}\\b`,"gi"),u);c=c.charAt(0).toUpperCase()+c.slice(1);let S=`${"=".repeat(t.depth)}${d}${c}${d}${"=".repeat(t.depth)}`;t.original!==S&&(e=e.replace(t.original,`

${S}
`))}return e}function P(e){return e.replaceAll(/__(INDEX|NOINDEX|NEWSECTIONLINK|NONEWSECTIONLINK|NOEDITSECTION|DISAMBIG|STATICREDIRECT|FORCETOC)__\n*/g,"")}function _(e){let f=[...e.matchAll(/{{(displaytitle|defaultsort)[:|](.*?)}}/gi)].map(o=>{let[n,m,d]=o;return{type:m.toUpperCase(),value:d,original:n}}),h=mw.Title.newFromText(mw.config.get("wgPageName"));for(let o of f){let n=new RegExp(`${L(o.original)}
*`,"g"),m=mw.Title.newFromText(o.value);if(!m)continue;let d=mw.Title.makeTitle(h.getNamespaceId(),m.getMainText());if(!d)continue;let t=o.type==="DISPLAYTITLE"?h.toText():h.getMainText(),r=o.type==="DISPLAYTITLE"?d.toText():d.getMainText();if(t===r){e=e.replace(n,"");continue}let i=`{{${o.type}:${r}}}
`;e=e.replace(n,i)}return e}function O(e){return e.replaceAll(/(\[\[|}}):?category:(.*?)(]]|}})/gi,`[[${mw.config.get("wgCanonicalNamespace")==="Draft"?":":""}Category:$2]]`)}function F(e,p){let f=[],h=[],o=!1,n=!1,m=0;function d(i,c=!0){let S=e.slice(m,m+i.length)===i;return S&&c&&(m+=i.length),S}for(;m<e.length;)if(d("<nowiki>"))o=!0;else if(d("</nowiki>"))o=!1;else if(d("<!--"))n=!0;else if(d("-->"))n=!1;else if(!o&&!n)if(d("[["))h.push({start:m-2,end:-1,isNested:h.length>0});else if(d("]]")){let i=h.pop();if(!i)continue;i.end=m,f.push(i)}else m++;else m++;let t=[],r=Object.values(mw.config.get("wgFormattedNamespaces"));for(let i of f){let c=e.slice(i.start+2,i.end-2),[S,...u]=c.split("|");e=e.slice(0,i.start+2)+"\0".repeat(S.length)+e.slice(i.start+2+S.length);let a=S.replaceAll("_"," ").trim(),s=u.join("|");s=s===" "?" ":s.trim();let E=a.startsWith(":");E&&(a=a.slice(1));let b=!1,l=a.charAt(0).toUpperCase()+a.slice(1),g=a.charAt(0).toLowerCase()+a.slice(1),T=a.split(":")[0];T=T.charAt(0).toUpperCase()+T.slice(1),a.includes(":")&&(l.startsWith("Image:")&&(a=`${a.startsWith("Image:")?"F":"f"}ile:${a.slice(6)}`),E&&(["Image","File","Category"].includes(l.split(":")[0])||!r.includes(T))&&(b=!0));let w="",k="",x=/^('{2,})(.*?)\1$/.exec(s);if(x&&!x[2].includes("''")&&(w=x[1],s=x[2].trim(),k=x[1]),/[!,.:;?]$/.test(s)&&!["Image","File","Category"].includes(l.split(":")[0])){let A=s.slice(-1);a.endsWith(A)||(k+=A,s=s.slice(0,-1))}a===s?s="":new RegExp(`^${L(a)}[a-z]+$`).test(s)&&(k=s.slice(a.length)+k,s="");for(let A of[l,g])A===s?(a=A,s=""):new RegExp(`^${L(A)}[a-z]+$`).test(s)&&(a=A,k=s.slice(A.length)+k,s="");(s&&a.includes(":")&&r.includes(T)||a.startsWith("file:")||a.startsWith("category:"))&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a=`${b?":":""}${a}`,a=a.padStart(S.length,"\0");let I=`${w}[[${a}${s?`|${s}`:""}]]${k}`;t.push([i,I])}for(let i of p)e=i(e,1);for(let i=0;i<2;i++)for(let[c,S]of t)i===0&&c.isNested||i===1&&!c.isNested||(e=e.slice(0,c.start)+S.padEnd(c.end-c.start,"\0")+e.slice(c.end));for(let i of p)e=i(e,2);return e.replaceAll("\0","")}function D(e,p){let f="\x7F",h="\x9F";return p===1?(e=e.replaceAll(/[“”„‟]/g,'"'),e=e.replaceAll(/[‘’‚‛]/g,"'"),e=e.replaceAll("\u2026",f),e=e.replaceAll("\xA0",h)):(e=e.replaceAll(f,"..."),e=e.replaceAll(h,"&nbsp;")),e}function U(e,p){return p===1&&(e=e.replaceAll(/(\(\d{3,4}) ?[‒–−-] ?(\d{3,4}\))/g,(f,h,o)=>`${h}\u2013${o}`.padEnd(f.length,"\0"))),e}function H(e){let p=[/'+(Bold|Italic)( text)?'+ */g,/(<big>)+Big( text)?(<\/big>)+ */g,/(<small>)+Small( text)?(<\/small>)+ */g,/(<sup>)+Superscript( text)?(<\/sup>)+ */g,/(<sub>)+Subscript( text)?(<\/sub>)+ */g,/(<s>)+Strikethrough(<\/s>)+ */g,/(<u>)+Underline(<\/u>)+ */g,/(<code>)+Computer code(<\/code>)+ */g,/(<nowiki>)+Insert non-formatted text here(<\/nowiki>)+ */g,/=+ Heading text =+ */g,/\* Bulleted list item */g,/# Numbered list item */g,/<gallery>\nExample.jpg\|Caption1\nExample.jpg\|Caption2\n<\/gallery> */g,/#REDIRECT \[\[Target page name]] */g,/<!-- Invisible comment --> */g,/<\s*(big|small|sup|sub|s|u|code|nowiki|noinclude|onlyinclude|includeonly|center|blockquote|gallery)\s*(\s+[^<>]*)?>\s*<\s*\/\s*\1\s*>/gi];for(let f of p)for(;f.test(e);)e=e.replace(f,"");return e}function y(e,p=!1){let f="\u{F0000}",h=["poem","pre","templatedata"],o=[];e=e.replaceAll(new RegExp(`(<(${h.join("|")})(?: [^<>]*?)?>)(.*?)(</\\2>)`,"gs"),(n,m,d,t,r)=>(t=t.replaceAll(/ +$/gm,"").trim(),o.push(`${m}
${t}
${r}`),f)),e=e.replaceAll(/(\b|\p{Punctuation}|\]\]|\}\}|\w>) {2,}(\b|\p{Punctuation}|\[\[|\{\{|<\w)/gu,"$1 $2"),p||(e=e.replaceAll(/^ +| +$/gm,"")),e=e.replaceAll(/\n{3,}/g,`

`),e=e.replace(/\s*({{[^}]*stub}})/i,`

$1`),e=e.replaceAll(/\s+$/g,""),e=e.replaceAll(/^([#*]+) */gm,"$1 "),e=e.replaceAll(/^([#*]+ .*)\n+(?=[#*]+ )/gm,`$1
`),p||(e=e.replaceAll(/(?<!\|)\s+(?=<ref(?!erences))/g,"")),e=e.replaceAll(/<\/([A-Za-z]+) +>/g,"</$1>"),e=e.replaceAll(/^(=+.*?=+)$\n{2,}(?=^=+.*?=+$)/gm,`$1
`),e=e.trim();for(let n of o)e=e.replace(f,n);return e}function G(e){e=e.replaceAll(/((?:<ref(?!erences)[^/]*?>.*?<\/ref>|<ref(?!erences).*?\/>)+)([!,.;?])?/g,(r,i,c)=>(c??"")+i);let p=[],f=!1,h=!1,o=0;function n(r){let i=e.slice(o,o+r.length)===r;return i&&(o+=r.length),i}function m(r){for(;o<e.length&&!n(r);)o++}for(;o<e.length;)if(n("<nowiki>"))f=!0;else if(n("</nowiki>"))f=!1;else if(n("<!--"))h=!0;else if(n("-->"))h=!1;else if(!f&&!h)if(!n("<references")&&n("<ref")){let r=o-4;m(">");let i=e.slice(r,o-1).trim().endsWith("/");p.push(i?{start:r,end:o,isSelfClosing:i}:{start:r,end:-1})}else n("</ref>")?p.at(-1).end=o:o++;else o++;let d=new DOMParser,t=[];for(let r of p){let i=e.slice(r.start,r.end),c=/<ref(?!erences).*?>/is.exec(i)[0],u=d.parseFromString(r.isSelfClosing?c.replace(/ *\/ *>/," />"):c+"</ref>","text/html").body.firstChild.outerHTML.replaceAll("&amp;","&"),a=i.slice(c.length,-6).trim().replaceAll(/^\[ *([^ \]]*) *]$/gm,"$1").trim();u=r.isSelfClosing||a.length===0?u.replace(/>\s*<\/ref>/," />"):`${u.slice(0,-6)}${a}</ref>`,i!==u&&t.push([i,u])}for(let[r,i]of t)e=e.replace(r,i);return e}var R;async function W(e){let p;(b=>(b[b.Expanded=0]="Expanded",b[b.ExpandedAligned=1]="ExpandedAligned",b[b.Minimized=2]="Minimized",b[b.MinimizedSpaced=3]="MinimizedSpaced"))(p||={});let f;(E=>(E[E.User=2]="User",E[E.Template=10]="Template",E[E.Draft=118]="Draft"))(f||={}),R??=JSON.parse(await C("User:Eejit43/scripts/article-cleaner.json")??"[]");let h=Object.fromEntries(R.flatMap(u=>u.from.map(a=>[a.charAt(0).toLowerCase()+a.slice(1),u.to])));class o{location;isNested=!1;fullText;fullTextEscaped;rawName;name;parameters=[];subTemplates=[];PLACEHOLDER_STRINGS=["\u{F0000}","\u{10FFFF}","\u{FFFFE}"];PIPE_ESCAPE_REGEXES=[/(\[\[[^\]]*?)\|(.*?]])/g,/(<!--.*?)\|(.*?-->)/g,/(<nowiki>.*?)\|(.*?<\/nowiki>)/g];TAG_EQUALS_ESCAPE_REGEXES=[/<(\w+)( [^<>]+?)(?<!\/)>.*?<\/\1>/g,/<(\w+)( [^<>]+?)\/>/g];TEMPLATE_ALIASES=h;DEFAULT_TEMPLATE_STYLES={1:["album rating","album reviews","american football uniform","australian rules football kit","automatic taxobox","baseball uniform","basketball kit","beachhandball kit","blockquote","chembox","cricket uniform","election box","episode list","external music video","extra album cover","field hockey kit","football box","football kit","footballbox","handball kit","hybridbox","icehockey kit","ichnobox","infobox","infraspeciesbox","judo bracket","judo repechage","listen","location map","medical resources","motorsport season","multiple image","music ratings","mycomorphbox","navbox","oobox","orbitbox","osm location map","quote box","repechage","rugbybox","sidebar","single ratings","singles","song ratings","speciesbox","starbox","succession box","taxobox","team bracket","track listing","tweet","virusbox","volleyball kit","nteambracket","2nteam-nteambracket","2teambracket","3teambracket","3teamrr","4teambracket","4teamrr","5teambracket","5teamrr","6teambracket","6teamrr","7teambracket","7teamrr","8teambracket","8teamroundrobin","8teamrr","9teambracket","10teambracket","11teambracket","12teambracket","13teambracket","14teambracket","15teambracket","16teambracket","18teambracket","20teambracket","24teambracket","27teambracket","32teambracket","40teambracket","48teambracket","64teambracket","128teambracket"],2:["birth date","coord","death date","end date","lang","start date"],3:["infobox mapframe"]};NAMESPACE_SPECIFIC_TEMPLATES={118:["afc comment","afc submission","afc submission/draft","afc topic","draft article","draft categories","draft topics","draft","drafts moved from mainspace","preloaddraft submit"],2:["dashboard.wikiedu.org sandbox","user sandbox","userspace draft"]};TEMPLATES_TO_KEEP_CONTENT=["draft categories"];TEMPLATES_TO_SUBST=["articlepagename","articlespace","basepagename","fullpagename","namespace","namespacenumber","pagename","rootpagename","subjectpagename","subjectspace","subpagename","talkpagename","talkspace","pagenamebase"];IMAGE_PARAMETERS=new Set(["cover","image_flag","image","logo","map_image"]);IGNORED_IMAGE_SYNTAX=new Set(["thumb","thumbnail","frame","framed","frameless","border","right","left","center","none","baseline","middle","sub","super","text-top","text-bottom","top","bottom"]);constructor(a){this.location={start:a};for(let s=1;s<=10;s++)this.IMAGE_PARAMETERS.add(`image${s}`)}parse(){this.fullText=e.slice(this.location.start,this.location.end),this.fullTextEscaped=this.fullText;for(let l of this.subTemplates)l.parse(),this.fullTextEscaped=this.fullTextEscaped.replace(l.fullText,this.PLACEHOLDER_STRINGS[0]);let a=this.fullTextEscaped.slice(2,-2).trim();for(let l of this.PIPE_ESCAPE_REGEXES)for(;l.test(a);)a=a.replaceAll(l,`$1${this.PLACEHOLDER_STRINGS[1]}$2`);for(let l of this.TAG_EQUALS_ESCAPE_REGEXES)a=a.replaceAll(l,(g,T,w)=>g.replace(w,w.replaceAll("=",this.PLACEHOLDER_STRINGS[2])));let s=a.split("|").map(l=>l.replaceAll(this.PLACEHOLDER_STRINGS[1],"|").trim());this.rawName=s.shift(),this.name=this.rawName.replaceAll("_"," "),this.name.toLowerCase().startsWith("template:")&&(this.name=this.name.slice(9));let E=this.name.charAt(0).toLowerCase()+this.name.slice(1);if(E in this.TEMPLATE_ALIASES){let l=this.name.startsWith(this.name.charAt(0).toLowerCase()),g=this.TEMPLATE_ALIASES[E],T=g.startsWith(g.slice(0,2).toUpperCase())&&/^[A-Z]+$/.exec(g.slice(0,2));this.name=l&&!T?g.charAt(0).toLowerCase()+g.slice(1):g}let b=s.map(l=>{let g=l.indexOf("=");if(g===-1)return{key:null,value:l.replaceAll(this.PLACEHOLDER_STRINGS[2],"=").trim()};let T=l.slice(g+1).replaceAll(this.PLACEHOLDER_STRINGS[2],"=");return{key:l.slice(0,g).trim(),value:`${T.startsWith(`
`)?`
`:""}${T.trim()}`}});this.parameters=b}shouldBeRemoved(){for(let[a,s]of Object.entries(this.NAMESPACE_SPECIFIC_TEMPLATES))if(mw.config.get("wgNamespaceNumber")!==Number.parseInt(a)&&s.includes(this.name.toLowerCase()))return!0;return!1}getStyle(){let a=0,s;for(let[E,b]of Object.entries(this.DEFAULT_TEMPLATE_STYLES))for(let l of b)this.name.toLowerCase().startsWith(l)&&l.length>=a&&(a=l.length,s=Number.parseInt(E));return s}cleanupParameters(){this.parameters=this.parameters.map(({key:a,value:s})=>{if(a&&this.IMAGE_PARAMETERS.has(a)){s=s.trim();let E=s,b=[];s.startsWith("[[")&&s.endsWith("]]")&&(b=s.slice(2,-2).split("|"),s=b[0].trim()),s=s.replace(/^(File|Image):/,"").replaceAll("_"," ");let l=E.slice(2,-2).split("|").slice(1).map(g=>g.trim()).filter(g=>!this.IGNORED_IMAGE_SYNTAX.has(g)).join("|");l.length>0&&(s+=` <!-- Previous additional data: "${l}" -->`)}return{key:a,value:s}})}format(){if(this.fullText||this.parse(),this.shouldBeRemoved())return this.TEMPLATES_TO_KEEP_CONTENT.includes(this.name.toLowerCase())?this.parameters[0].value:"";let a=mw.config.get("wgNamespaceNumber")!==10&&this.TEMPLATES_TO_SUBST.some(l=>l===this.name.toLowerCase()||this.name.toLowerCase().startsWith(`${l}:`)),s=this.getStyle();if(s===void 0){let l=this.name;this.name.toLowerCase().startsWith("template:")&&(l=this.name.slice(9)),a&&(l=`subst:${l}`),l!==this.rawName&&(this.fullTextEscaped=this.fullTextEscaped.replace(this.rawName,l));for(let g of this.subTemplates)this.fullTextEscaped=this.fullTextEscaped.replace(this.PLACEHOLDER_STRINGS[0],g.format());return this.fullTextEscaped}let E=[`{{${a?"subst:":""}${this.name}`];if(this.cleanupParameters(),s===0||s===1){let l=0;s===1&&(l=Math.max(...this.parameters.map(g=>g.key?.length??0)));for(let[g,T]of this.parameters.entries())!T.key&&!T.value&&this.parameters.slice(g+1).every(w=>w.key??!w.value)||E.push(`| ${T.key?`${T.key.padEnd(l)} = `:""}${T.value}`)}else for(let[l,g]of this.parameters.entries())!g.value&&(g.key||this.parameters.slice(l+1).every(T=>T.key??!T.value))||E.push(`|${g.key?`${g.key}=`:""}${g.value}`);E.push("}}"),E.length===2?(E[0]+="}}",E.pop()):s===3&&(E[E.length-2]+="}}",E.pop());let b=E.join(s===0||s===1?`
`:s===3?" ":"");for(let l of this.subTemplates)b=b.replace(this.PLACEHOLDER_STRINGS[0],l.format());return b}}let n=[],m=[],d=!1,t=!1,r=!1,i=0;function c(u){let a=e.slice(i,i+u.length)===u;return a&&(i+=u.length),a}for(;i<e.length;)if(c("<nowiki>"))t=!0;else if(c("</nowiki>"))t=!1;else if(c("<!--"))r=!0;else if(c("-->"))r=!1;else if(!t&&!r)if(c("[["))d=!0;else if(d&&c("]]"))d=!1;else if(c("{{")){let u=new o(i-2);m.length>0&&(u.isNested=!0,m.at(-1)?.subTemplates.push(u)),m.push(u)}else if(c("}}")){let u=m.pop();if(!u)continue;u.location.end=i,n.push(u)}else i++;else i++;let S=e;for(let u of n)u.isNested||(u.parse(),S=S.replace(u.fullText,u.format()));return S}function j(e){if(mw.config.get("wgNamespaceNumber")!==0)return e;let p=["Do not remove this line","EDIT BELOW THIS LINE","Important, do not remove anything above this line before article has been created","Important, do not remove this line before article has been created","Inline citations added to your article will automatically display here","Note: The following pages were redirects to "];for(let f of p)e=e.replaceAll(new RegExp(` *<!-- ?${L(f)}.*?--> *
?`,"gs"),"");return e}function B(e){if(mw.config.get("wgNamespaceNumber")!==0)return e;let p=[...e.matchAll(/\[\[Category:/g)].length;return e=e.replaceAll(/\n*{{(uncategorized|improve categories)(\|.+?)?}}({{|\n+|$)/gi,""),p===0&&!/{{uncategorized/i.test(e)?e+=`

{{Uncategorized|{{subst:CURRENTMONTHNAME}} {{subst:CURRENTYEAR}}}}`:p===1&&!/{{improve categories/i.test(e)&&(e+=`

{{Improve categories|{{subst:CURRENTMONTHNAME}} {{subst:CURRENTYEAR}}}}`),e}})();

// </pre>
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vdXRpbGl0eS50cyIsICIuLi9zY3JpcHRzL2FydGljbGUtY2xlYW5lci50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHR5cGUgeyBBcGlRdWVyeVJldmlzaW9uc1BhcmFtcyB9IGZyb20gJ3R5cGVzLW1lZGlhd2lraS9hcGlfcGFyYW1zJztcbmltcG9ydCB0eXBlIHsgUGFnZVJldmlzaW9uc1Jlc3VsdCB9IGZyb20gJy4vZ2xvYmFsLXR5cGVzJztcblxuZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBtdy5BcGkoKTtcblxuLyoqXG4gKiBGZXRjaGVzIHRoZSBjb250ZW50IG9mIGEgZ2l2ZW4gcGFnZS5cbiAqIEBwYXJhbSB0aXRsZSBUaGUgdGl0bGUgdG8gZmV0Y2guXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQYWdlQ29udGVudCh0aXRsZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgKGF3YWl0IGFwaS5nZXQoe1xuICAgICAgICAgICAgYWN0aW9uOiAncXVlcnknLFxuICAgICAgICAgICAgZm9ybWF0dmVyc2lvbjogJzInLFxuICAgICAgICAgICAgcHJvcDogJ3JldmlzaW9ucycsXG4gICAgICAgICAgICBydnByb3A6ICdjb250ZW50JyxcbiAgICAgICAgICAgIHJ2c2xvdHM6ICdtYWluJyxcbiAgICAgICAgICAgIHRpdGxlczogdGl0bGUsXG4gICAgICAgIH0gc2F0aXNmaWVzIEFwaVF1ZXJ5UmV2aXNpb25zUGFyYW1zKSkgYXMgUGFnZVJldmlzaW9uc1Jlc3VsdFxuICAgICkucXVlcnkucGFnZXNbMF0ucmV2aXNpb25zPy5bMF0uc2xvdHMubWFpbi5jb250ZW50LnRyaW0oKTtcbn1cbiIsICJpbXBvcnQgeyBnZXRQYWdlQ29udGVudCB9IGZyb20gJy4uL3V0aWxpdHknO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHRyYW5lb3VzLWNsYXNzXG4gICAgY2xhc3MgVmVSYW5nZSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKTtcbiAgICB9XG5cbiAgICBjbGFzcyBWZUZyYWdtZW50IHtcbiAgICAgICAgaW5zZXJ0Q29udGVudChjb250ZW50OiBzdHJpbmcpOiB2b2lkO1xuICAgIH1cblxuICAgIGNsYXNzIFZlU3VyZmFjZU1vZGVsIHtcbiAgICAgICAgZ2V0TGluZWFyRnJhZ21lbnQocmFuZ2U6IFZlUmFuZ2UpOiBWZUZyYWdtZW50O1xuICAgICAgICBnZXRSYW5nZUZyb21Tb3VyY2VPZmZzZXRzKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKTogVmVSYW5nZTtcbiAgICAgICAgc2V0U2VsZWN0aW9uKHNlbGVjdGlvbjogVmVMaW5lYXJTZWxlY3Rpb24pOiB2b2lkO1xuICAgIH1cblxuICAgIGNsYXNzIFZlVGFyZ2V0IHtcbiAgICAgICAgZ2V0U3VyZmFjZSgpOiB7IGdldE1vZGVsKCk6IFZlU3VyZmFjZU1vZGVsIH07XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHRyYW5lb3VzLWNsYXNzXG4gICAgY2xhc3MgVmVMaW5lYXJTZWxlY3Rpb24ge1xuICAgICAgICBjb25zdHJ1Y3RvcihyYW5nZTogVmVSYW5nZSk7XG4gICAgfVxuXG4gICAgY29uc3QgdmU6IHtcbiAgICAgICAgUmFuZ2U6IHR5cGVvZiBWZVJhbmdlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuICAgICAgICBkbTogeyBMaW5lYXJTZWxlY3Rpb246IHR5cGVvZiBWZUxpbmVhclNlbGVjdGlvbiB9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuICAgICAgICBpbml0PzogeyB0YXJnZXQ6IFZlVGFyZ2V0IH07XG4gICAgfTtcbn1cblxuZXhwb3J0IHt9O1xuXG4oKCkgPT4ge1xuICAgIGlmIChtdy5jb25maWcuZ2V0KCd3Z05hbWVzcGFjZU51bWJlcicpIDwgMCkgcmV0dXJuOyAvLyBEb24ndCBydW4gaW4gdmlydHVhbCBuYW1lc3BhY2VzXG4gICAgaWYgKCFtdy5jb25maWcuZ2V0KCd3Z0lzUHJvYmFibHlFZGl0YWJsZScpKSByZXR1cm47IC8vIERvbid0IHJ1biBpZiB1c2VyIGNhbid0IGVkaXQgcGFnZVxuXG4gICAgY29uc3QgZGVwZW5kZW5jaWVzID0gWydtZWRpYXdpa2kudXRpbCcsICdqcXVlcnkudGV4dFNlbGVjdGlvbiddO1xuXG4gICAgaWYgKG13LmNvbmZpZy5nZXQoJ3NraW4nKSAhPT0gJ21pbmVydmEnKSBkZXBlbmRlbmNpZXMucHVzaCgnbW9iaWxlLmVkaXRvci5vdmVybGF5Jyk7XG5cbiAgICBtdy5sb2FkZXIudXNpbmcoZGVwZW5kZW5jaWVzLCAoKSA9PiB7XG4gICAgICAgIGxldCBzaG91bGRBZGRTY3JpcHRNZXNzYWdlID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgU0NSSVBUX01FU1NBR0UgPSAnQ2xlYW5lZCB1cCBhcnRpY2xlIGNvbnRlbnQgKHZpYSBbW1VzZXI6RWVqaXQ0My9zY3JpcHRzL2FydGljbGUtY2xlYW5lcnxhcnRpY2xlLWNsZWFuZXJdXSknO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGVzIHRoZSBzdW1tYXJ5IHRleHRhcmVhIHdpdGggdGhlIHNjcmlwdCBtZXNzYWdlIGlmIGl0IGlzIG5vdCBhbHJlYWR5IHByZXNlbnQuXG4gICAgICAgICAqIEBwYXJhbSB0ZXh0YXJlYSBUaGUgc3VtbWFyeSB0ZXh0YXJlYSBlbGVtZW50IHRvIHVwZGF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVN1bW1hcnkodGV4dGFyZWE6IEhUTUxUZXh0QXJlYUVsZW1lbnQgfCBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgICAvLyBBZGQgdGltZW91dCBiZWZvcmUgc2V0dGluZyB0ZXh0YXJlYSB2YWx1ZSBhcyB0aGlzIGlzIG92ZXJ3cml0dGVuIHNvbWV0aW1lcyBmb3Igc29tZSByZWFzb25cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGV4dGFyZWEudmFsdWUuaW5jbHVkZXMoU0NSSVBUX01FU1NBR0Uuc2xpY2UoMSkpKVxuICAgICAgICAgICAgICAgICAgICB0ZXh0YXJlYS52YWx1ZSArPVxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dGFyZWEudmFsdWUgJiYgIXRleHRhcmVhLnZhbHVlLnN0YXJ0c1dpdGgoJy8qICcpICYmICF0ZXh0YXJlYS52YWx1ZS5lbmRzV2l0aCgnICovICcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgOyAke1NDUklQVF9NRVNTQUdFLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgU0NSSVBUX01FU1NBR0Uuc2xpY2UoMSl9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogU0NSSVBUX01FU1NBR0U7XG4gICAgICAgICAgICB9LCAwKTtcblxuICAgICAgICAgICAgc2hvdWxkQWRkU2NyaXB0TWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZXMgdGhlIGNsaWNrIGV2ZW50IGZvciB0aGUgYWN0aXZhdGlvbiBidXR0b24uXG4gICAgICAgICAqIEBwYXJhbSBldmVudCBUaGUgbW91c2UgZXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIGNsaWNrLlxuICAgICAgICAgKi9cbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQWN0aXZhdGlvbihldmVudDogTW91c2VFdmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgY29uc3QgZWRpdG9yID0gJChtdy5jb25maWcuZ2V0KCdza2luJykgPT09ICdtaW5lcnZhJyA/ICcjd2lraXRleHQtZWRpdG9yJyA6ICcjd3BUZXh0Ym94MScpO1xuICAgICAgICAgICAgaWYgKGVkaXRvci5sZW5ndGggPT09IDApIHJldHVybiBtdy5ub3RpZnkoJ0VkaXQgYm94IG5vdCBmb3VuZCEnLCB7IHR5cGU6ICdlcnJvcicsIGF1dG9IaWRlU2Vjb25kczogJ3Nob3J0JyB9KTtcblxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxUZXh0ID0gZWRpdG9yLnRleHRTZWxlY3Rpb24oJ2dldENvbnRlbnRzJyk7XG5cbiAgICAgICAgICAgIGxldCBmaW5hbFRleHQgPSBvcmlnaW5hbFRleHQ7XG5cbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBTdHJheVVuaWNvZGVDaGFyYWN0ZXJzKGZpbmFsVGV4dCk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwU2VjdGlvbkhlYWRlcnMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBNYWdpY1dvcmRzKGZpbmFsVGV4dCk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwRGlzcGxheXRpdGxlc0FuZERlZmF1bHRzb3J0cyhmaW5hbFRleHQpO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gY2xlYW51cENhdGVnb3JpZXMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBMaW5rcyhmaW5hbFRleHQsIFtjbGVhbnVwSW1wcm9wZXJDaGFyYWN0ZXJzLCBjbGVhbnVwWWVhclJhbmdlc10pO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gY2xlYW51cFN0cmF5TWFya3VwKGZpbmFsVGV4dCk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwU3BhY2luZyhmaW5hbFRleHQpO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gY2xlYW51cFJlZmVyZW5jZXMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGF3YWl0IGZvcm1hdFRlbXBsYXRlcyhmaW5hbFRleHQpO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gcmVtb3ZlQ29tbWVudHMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBTcGFjaW5nKGZpbmFsVGV4dCwgdHJ1ZSk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBhdXRvVGFnUGFnZShmaW5hbFRleHQpO1xuXG4gICAgICAgICAgICBpZiAob3JpZ2luYWxUZXh0ID09PSBmaW5hbFRleHQpIG13Lm5vdGlmeSgnTm8gY2hhbmdlcyB0byBiZSBtYWRlIHRvIHRoZSBhcnRpY2xlIScsIHsgdHlwZTogJ3dhcm4nLCBhdXRvSGlkZVNlY29uZHM6ICdzaG9ydCcgfSk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodmUuaW5pdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdXJmYWNlTW9kZWwgPSB2ZS5pbml0LnRhcmdldC5nZXRTdXJmYWNlKCkuZ2V0TW9kZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBzdXJmYWNlTW9kZWwuZ2V0TGluZWFyRnJhZ21lbnQoc3VyZmFjZU1vZGVsLmdldFJhbmdlRnJvbVNvdXJjZU9mZnNldHMoMCwgb3JpZ2luYWxUZXh0Lmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudC5pbnNlcnRDb250ZW50KGZpbmFsVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHN1cmZhY2VNb2RlbC5zZXRTZWxlY3Rpb24obmV3IHZlLmRtLkxpbmVhclNlbGVjdGlvbihuZXcgdmUuUmFuZ2UoMCwgMCkpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlZGl0b3IudGV4dFNlbGVjdGlvbignc2V0Q29udGVudHMnLCBmaW5hbFRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci50ZXh0U2VsZWN0aW9uKCdzZXRTZWxlY3Rpb24nLCB7IHN0YXJ0OiAwIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG13Lm5vdGlmeSgnQXJ0aWNsZSBjbGVhbnVwIGNvbXBsZXRlIScsIHsgdHlwZTogJ3N1Y2Nlc3MnLCBhdXRvSGlkZVNlY29uZHM6ICdzaG9ydCcgfSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzdW1tYXJ5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjd3BTdW1tYXJ5Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3VtbWFyeUlucHV0KSB1cGRhdGVTdW1tYXJ5KHN1bW1hcnlJbnB1dCk7XG4gICAgICAgICAgICAgICAgZWxzZSBzaG91bGRBZGRTY3JpcHRNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtdy5jb25maWcuZ2V0KCdza2luJykgPT09ICdtaW5lcnZhJykge1xuICAgICAgICAgICAgLy8gU2V0IHVwIGhvb2sgdG8gYWRkIGJ1dHRvbiB0byBlZGl0aW5nIHRvb2xiYXJcbiAgICAgICAgICAgIG13Lmhvb2soJ21vYmlsZUZyb250ZW5kLmVkaXRvck9wZW5lZCcpLmFkZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyU3dpdGNoZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PignLm92ZXJsYXktaGVhZGVyIC5zd2l0Y2hlci1jb250YWluZXInKSE7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0b29sID0gbmV3IE9PLnVpLkJ1dHRvbldpZGdldCh7IGljb246ICdhcnRpY2xlQ2hlY2snLCBmcmFtZWQ6IGZhbHNlIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gdG9vbC4kZWxlbWVudFswXTtcbiAgICAgICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVBY3RpdmF0aW9uKTtcblxuICAgICAgICAgICAgICAgIGhlYWRlclN3aXRjaGVyLmJlZm9yZShidXR0b24pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFNldCB1cCBob29rIGZvciB1cGRhdGluZyBlZGl0IHN1bW1hcnlcbiAgICAgICAgICAgIG13Lmhvb2soJ3dpa2lwYWdlLmNvbnRlbnQnKS5hZGQoKGNvbnRlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgaWYgdHJpZ2dlcmVkIGJ5IG1haW4gY29udGVudCBsb2FkIGluc3RlYWQgb2YgcHJldmlld1xuICAgICAgICAgICAgICAgIGlmICghY29udGVudFswXT8uY2xhc3NMaXN0LmNvbnRhaW5zKCdwcmV2aWV3JykpIHJldHVybjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktY29uZGl0aW9uXG5cbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkQWRkU2NyaXB0TWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdW1tYXJ5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcuc3VtbWFyeS1pbnB1dCB0ZXh0YXJlYScpITtcblxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVTdW1tYXJ5KHN1bW1hcnlJbnB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBTZXQgdXAgbGluayBpbiBzaWRlIG1lbnVcbiAgICAgICAgICAgIG13LnV0aWwuYWRkQ1NTKGBcbiNhcnRpY2xlLWNsZWFuZXIge1xuICAgIGRpc3BsYXk6IG5vbmU7XG59XG5cbiNjb250ZW50Omhhcygjd3BUZXh0Ym94MSkgI2FydGljbGUtY2xlYW5lciB7XG4gICAgZGlzcGxheTogdW5zZXQ7XG59YCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBtdy51dGlsLmFkZFBvcnRsZXRMaW5rKFxuICAgICAgICAgICAgICAgIG13LmNvbmZpZy5nZXQoJ3NraW4nKSA9PT0gJ21pbmVydmEnID8gJ3AtbmF2aWdhdGlvbicgOiAncC1jYWN0aW9ucycsXG4gICAgICAgICAgICAgICAgJyMnLFxuICAgICAgICAgICAgICAgICdQZXJmb3JtIGFydGljbGUgY2xlYW51cCcsXG4gICAgICAgICAgICAgICAgJ2FydGljbGUtY2xlYW5lcicsXG4gICAgICAgICAgICApITtcbiAgICAgICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVBY3RpdmF0aW9uKTtcblxuICAgICAgICAgICAgLy8gU2V0IHVwIGhvb2sgZm9yIHVwZGF0aW5nIGVkaXQgc3VtbWFyeSBpbiBWaXN1YWxFZGl0b3JcbiAgICAgICAgICAgIG13Lmhvb2soJ3ZlLnNhdmVEaWFsb2cuc3RhdGVDaGFuZ2VkJykuYWRkKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkQWRkU2NyaXB0TWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdW1tYXJ5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxUZXh0QXJlYUVsZW1lbnQ+KCcudmUtdWktbXdTYXZlRGlhbG9nLXN1bW1hcnkgdGV4dGFyZWEnKSE7XG5cbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3VtbWFyeShzdW1tYXJ5SW5wdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59KSgpO1xuXG4vKipcbiAqIEVzY2FwZXMgcmVnZXggY2hhcmFjdGVycyBpbiBhIHN0cmluZy5cbiAqIEBwYXJhbSBzdHJpbmcgVGhlIHN0cmluZyB0byBlc2NhcGUgcmVnZXggY2hhcmFjdGVycyBpbi5cbiAqL1xuZnVuY3Rpb24gZXNjYXBlUmVnZXhDaGFyYWN0ZXJzKHN0cmluZzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlQWxsKC9bJCgpKisuP1tcXFxcXFxdXnt8fV0vZywgJ1xcXFwkJicpO1xufVxuXG4vKipcbiAqIENsZWFucyB1cCBzdHJheSBVbmljb2RlIGNoYXJhY3RlcnMgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwU3RyYXlVbmljb2RlQ2hhcmFjdGVycyhjb250ZW50OiBzdHJpbmcpIHtcbiAgICAvLyBUaGlzIHJlZ2V4IHJlbW92ZXM6XG4gICAgLy8gICAtIEFTQ0lJIGNvbnRyb2wgY2hhcmFjdGVycyAoXFx1MDAwMC1cXHUwMDA5LCBcXHUwMDBCLVxcdTAwMEMsIFxcdTAwMEUtXFx1MDAxRilcbiAgICAvLyAgIC0gREVMIChcXHUwMDdGKVxuICAgIC8vICAgLSBTb2Z0IGh5cGhlbiAoXFx1MDBBRClcbiAgICAvLyAgIC0gWmVyby13aWR0aCBjaGFyYWN0ZXJzIGFuZCBkaXJlY3Rpb25hbGl0eSBtYXJrcyAoXFx1MjAwQi1cXHUyMDBGKVxuICAgIC8vICAgLSBCaWRpIG92ZXJyaWRlIGFuZCBmb3JtYXR0aW5nIGNoYXJhY3RlcnMgKFxcdTIwMkEtXFx1MjAyRSlcbiAgICAvLyAgIC0gV29yZCBqb2luZXIgYW5kIGludmlzaWJsZSBzZXBhcmF0b3IgKFxcdTIwNjAsIFxcdTIwNjMpXG4gICAgLy8gICAtIEJ5dGUgb3JkZXIgbWFyayAoQk9NKSAoXFx1RkVGRilcbiAgICBjb25zdCBTVFJBWV9VTklDT0RFX1JFR0VYID0gL1tcXHUwMDAwLVxcdTAwMDlcXHUwMDBCXFx1MDAwQ1xcdTAwMEUtXFx1MDAxRlxcdTAwN0ZcXHUwMEFEXFx1MjAwQi1cXHUyMDBGXFx1MjAyQS1cXHUyMDJFXFx1MjA2MFxcdTIwNjNcXHVGRUZGXS9nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnRyb2wtcmVnZXhcblxuICAgIGlmIChTVFJBWV9VTklDT0RFX1JFR0VYLnRlc3QoY29udGVudCkpIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoU1RSQVlfVU5JQ09ERV9SRUdFWCwgJycpO1xuXG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIHNlY3Rpb24gaGVhZGVycyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBTZWN0aW9uSGVhZGVycyhjb250ZW50OiBzdHJpbmcpIHtcbiAgICBjb25zdCBDT01NT05fUkVQTEFDRU1FTlRTID0ge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb24gKi9cbiAgICAgICAgJ1NlZSBhbHNvJzogWydhbHNvIHNlZSddLFxuICAgICAgICAnUmVmZXJlbmNlcyc6IFsncmVmZXJlbmNlJywgJ3NvdXJjZScsICdzb3VyY2VzJywgJ2NpdGF0aW9uJywgJ2NpdGF0aW9ucyddLFxuICAgICAgICAnRnVydGhlciByZWFkaW5nJzogWydmdXJ0aGVyIHJlYWRpbmcnXSxcbiAgICAgICAgJ0V4dGVybmFsIGxpbmtzJzogWydleHRlcm5hbCBsaW5rJywgJ3dlYmxpbmsnLCAnd2VibGlua3MnXSxcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb24gKi9cbiAgICB9O1xuXG4gICAgY29uc3QgQ09NTU9OX01JU0NBUElUQUxJWkVEX1dPUkRTID0gWydhbmQnLCAnYmlydGgnLCAnY2FyZWVyJywgJ2RlYXRoJywgJ2VkdWNhdGlvbicsICdsaWZlJywgJ29mJywgJ29yJ107XG5cbiAgICBjb25zdCByZXZlcnNlQ29tbW9uUmVwbGFjZW1lbnRzID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICBPYmplY3QuZW50cmllcyhDT01NT05fUkVQTEFDRU1FTlRTKS5mbGF0TWFwKChba2V5LCB2YWx1ZXNdKSA9PiBbXG4gICAgICAgICAgICBba2V5LnRvTG93ZXJDYXNlKCksIGtleV0sXG4gICAgICAgICAgICAuLi4odmFsdWVzLm1hcCgodmFsdWUpID0+IFt2YWx1ZSwga2V5XSkgYXMgW3N0cmluZywgc3RyaW5nXVtdKSwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktdHlwZS1hc3NlcnRpb25cbiAgICAgICAgXSksXG4gICAgKTtcblxuICAgIGNvbnN0IGhlYWRlcnMgPSBjb250ZW50Lm1hdGNoQWxsKC8oPzw9XnxcXG4pXFxuKig/PHN0YXJ0TWFya3VwPj0rKSAqKD88bmFtZT4uKj8pICooPzxlbmRNYXJrdXA+PSspKFxcbit8JCkvZyk7XG5cbiAgICBjb25zdCBwYXJzZWRIZWFkZXJzID0gWy4uLmhlYWRlcnNdLm1hcCgoaGVhZGVyKSA9PiB7XG4gICAgICAgIGxldCB7IG5hbWUgfSA9IGhlYWRlci5ncm91cHMhO1xuICAgICAgICBjb25zdCB7IHN0YXJ0TWFya3VwLCBlbmRNYXJrdXAgfSA9IGhlYWRlci5ncm91cHMhO1xuXG4gICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2VBbGwoLyd7M30vZywgJycpO1xuXG4gICAgICAgIGNvbnN0IGxpbmtzID0gbmFtZS5tYXRjaEFsbCgvXFxbXFxbKC4rPyldXS9nKS50b0FycmF5KCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBsaW5rIG9mIGxpbmtzKSBuYW1lID0gbmFtZS5yZXBsYWNlKGxpbmtbMF0sIGxpbmtbMV0uc3BsaXQoJ3wnKS5hdCgtMSkhKTtcblxuICAgICAgICBjb25zdCBkZXB0aCA9IE1hdGgubWF4KHN0YXJ0TWFya3VwLmxlbmd0aCwgZW5kTWFya3VwLmxlbmd0aCwgMik7XG5cbiAgICAgICAgcmV0dXJuIHsgbmFtZSwgZGVwdGgsIG9yaWdpbmFsOiBoZWFkZXJbMF0gfTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGhlYWRlcnNTZXQgPSBuZXcgU2V0KHBhcnNlZEhlYWRlcnMubWFwKChoZWFkZXIpID0+IGhlYWRlci5uYW1lKSk7XG5cbiAgICBjb25zdCB0aXRsZVNwYWNlciA9IHBhcnNlZEhlYWRlcnMubGVuZ3RoID4gMCA/ICgvXlxcbio9KyB8ID0rXFxuKyQvLnRlc3QocGFyc2VkSGVhZGVyc1swXS5vcmlnaW5hbCkgPyAnICcgOiAnJykgOiAnJztcblxuICAgIGZvciAoY29uc3QgaGVhZGVyIG9mIHBhcnNlZEhlYWRlcnMpIHtcbiAgICAgICAgY29uc3QgbG93ZXJjYXNlTmFtZSA9IGhlYWRlci5uYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgY29uc3QgcmVwbGFjZWROYW1lID1cbiAgICAgICAgICAgIGxvd2VyY2FzZU5hbWUgaW4gcmV2ZXJzZUNvbW1vblJlcGxhY2VtZW50cyAmJiAhaGVhZGVyc1NldC5oYXMocmV2ZXJzZUNvbW1vblJlcGxhY2VtZW50c1tsb3dlcmNhc2VOYW1lXSlcbiAgICAgICAgICAgICAgICA/IHJldmVyc2VDb21tb25SZXBsYWNlbWVudHNbbG93ZXJjYXNlTmFtZV1cbiAgICAgICAgICAgICAgICA6IGhlYWRlci5uYW1lO1xuXG4gICAgICAgIGxldCBjYXBpdGFsaXplZE5hbWUgPSByZXBsYWNlZE5hbWU7XG5cbiAgICAgICAgZm9yIChjb25zdCB3b3JkIG9mIENPTU1PTl9NSVNDQVBJVEFMSVpFRF9XT1JEUylcbiAgICAgICAgICAgIGNhcGl0YWxpemVkTmFtZSA9IGNhcGl0YWxpemVkTmFtZS5yZXBsYWNlQWxsKG5ldyBSZWdFeHAoYFxcXFxiJHt3b3JkfVxcXFxiYCwgJ2dpJyksIHdvcmQpO1xuXG4gICAgICAgIGNhcGl0YWxpemVkTmFtZSA9IGNhcGl0YWxpemVkTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGNhcGl0YWxpemVkTmFtZS5zbGljZSgxKTtcblxuICAgICAgICBjb25zdCBvdXRwdXQgPSBgJHsnPScucmVwZWF0KGhlYWRlci5kZXB0aCl9JHt0aXRsZVNwYWNlcn0ke2NhcGl0YWxpemVkTmFtZX0ke3RpdGxlU3BhY2VyfSR7Jz0nLnJlcGVhdChoZWFkZXIuZGVwdGgpfWA7XG5cbiAgICAgICAgaWYgKGhlYWRlci5vcmlnaW5hbCAhPT0gb3V0cHV0KSBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKGhlYWRlci5vcmlnaW5hbCwgYFxcblxcbiR7b3V0cHV0fVxcbmApO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgdW5uZWNlc3NhcnkgbWFnaWMgd29yZHMgZnJvbSBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBNYWdpY1dvcmRzKGNvbnRlbnQ6IHN0cmluZykge1xuICAgIHJldHVybiBjb250ZW50LnJlcGxhY2VBbGwoL19fKElOREVYfE5PSU5ERVh8TkVXU0VDVElPTkxJTkt8Tk9ORVdTRUNUSU9OTElOS3xOT0VESVRTRUNUSU9OfERJU0FNQklHfFNUQVRJQ1JFRElSRUNUfEZPUkNFVE9DKV9fXFxuKi9nLCAnJyk7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIERJU1BMQVlUSVRMRXMgYW5kIERFRkFVTFRTT1JUcyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBEaXNwbGF5dGl0bGVzQW5kRGVmYXVsdHNvcnRzKGNvbnRlbnQ6IHN0cmluZykge1xuICAgIGNvbnN0IHRhZ3MgPSBjb250ZW50Lm1hdGNoQWxsKC97eyhkaXNwbGF5dGl0bGV8ZGVmYXVsdHNvcnQpWzp8XSguKj8pfX0vZ2kpO1xuXG4gICAgY29uc3QgcGFyc2VkVGFncyA9IFsuLi50YWdzXS5tYXAoKHRhZykgPT4ge1xuICAgICAgICBjb25zdCBbZnVsbFRhZywgdHlwZSwgdmFsdWVdID0gdGFnO1xuXG4gICAgICAgIHJldHVybiB7IHR5cGU6IHR5cGUudG9VcHBlckNhc2UoKSwgdmFsdWUsIG9yaWdpbmFsOiBmdWxsVGFnIH07XG4gICAgfSk7XG5cbiAgICBjb25zdCBjdXJyZW50VGl0bGUgPSBtdy5UaXRsZS5uZXdGcm9tVGV4dChtdy5jb25maWcuZ2V0KCd3Z1BhZ2VOYW1lJykpITtcblxuICAgIGZvciAoY29uc3QgdGFnIG9mIHBhcnNlZFRhZ3MpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxUYWdSZWdleCA9IG5ldyBSZWdFeHAoYCR7ZXNjYXBlUmVnZXhDaGFyYWN0ZXJzKHRhZy5vcmlnaW5hbCl9XFxuKmAsICdnJyk7XG5cbiAgICAgICAgY29uc3QgdW5wcmVmaXhlZFRpdGxlID0gbXcuVGl0bGUubmV3RnJvbVRleHQodGFnLnZhbHVlKTtcblxuICAgICAgICBpZiAoIXVucHJlZml4ZWRUaXRsZSkgY29udGludWU7XG5cbiAgICAgICAgY29uc3QgdGl0bGUgPSBtdy5UaXRsZS5tYWtlVGl0bGUoY3VycmVudFRpdGxlLmdldE5hbWVzcGFjZUlkKCksIHVucHJlZml4ZWRUaXRsZS5nZXRNYWluVGV4dCgpKTtcblxuICAgICAgICBpZiAoIXRpdGxlKSBjb250aW51ZTtcblxuICAgICAgICBjb25zdCBkZWZhdWx0S2V5ID0gdGFnLnR5cGUgPT09ICdESVNQTEFZVElUTEUnID8gY3VycmVudFRpdGxlLnRvVGV4dCgpIDogY3VycmVudFRpdGxlLmdldE1haW5UZXh0KCk7XG5cbiAgICAgICAgY29uc3QgY3VzdG9tS2V5ID0gdGFnLnR5cGUgPT09ICdESVNQTEFZVElUTEUnID8gdGl0bGUudG9UZXh0KCkgOiB0aXRsZS5nZXRNYWluVGV4dCgpO1xuXG4gICAgICAgIGlmIChkZWZhdWx0S2V5ID09PSBjdXN0b21LZXkpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2Uob3JpZ2luYWxUYWdSZWdleCwgJycpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuZXdUZXh0ID0gYHt7JHt0YWcudHlwZX06JHtjdXN0b21LZXl9fX1cXG5gO1xuXG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2Uob3JpZ2luYWxUYWdSZWdleCwgbmV3VGV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIGNhdGVnb3JpZXMgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwQ2F0ZWdvcmllcyhjb250ZW50OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gY29udGVudC5yZXBsYWNlQWxsKFxuICAgICAgICAvKFxcW1xcW3x9fSk6P2NhdGVnb3J5OiguKj8pKF1dfH19KS9naSxcbiAgICAgICAgYFtbJHttdy5jb25maWcuZ2V0KCd3Z0Nhbm9uaWNhbE5hbWVzcGFjZScpID09PSAnRHJhZnQnID8gJzonIDogJyd9Q2F0ZWdvcnk6JDJdXWAsXG4gICAgKTtcbn1cblxuaW50ZXJmYWNlIExpbmtJbmZvcm1hdGlvbiB7XG4gICAgc3RhcnQ6IG51bWJlcjtcbiAgICBlbmQ6IG51bWJlcjtcbiAgICBpc05lc3RlZDogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBDbGVhbnMgdXAgbGlua3MgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICogQHBhcmFtIGZ1bmN0aW9uc0NhbGxlZFdoaWxlRXNjYXBlZCBUaGUgZnVuY3Rpb25zIGNhbGxlZCB3aGlsZSB0aGUgbGlua3MgYXJlIGVzY2FwZWQuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBMaW5rcyhjb250ZW50OiBzdHJpbmcsIGZ1bmN0aW9uc0NhbGxlZFdoaWxlRXNjYXBlZDogKChjb250ZW50OiBzdHJpbmcsIHJ1bjogMSB8IDIpID0+IHN0cmluZylbXSkge1xuICAgIGNvbnN0IGNsb3NlZExpbmtzOiBMaW5rSW5mb3JtYXRpb25bXSA9IFtdO1xuICAgIGNvbnN0IGxpbmtzOiBMaW5rSW5mb3JtYXRpb25bXSA9IFtdO1xuXG4gICAgbGV0IGlzSW5zaWRlTm93aWtpID0gZmFsc2U7XG4gICAgbGV0IGlzSW5zaWRlQ29tbWVudCA9IGZhbHNlO1xuXG4gICAgbGV0IGN1cnJlbnRMb2NhdGlvbiA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGNvbnRlbnQgZm9sbG93aW5nIHRoZSBjdXJyZW50IGxvY2F0aW9uIG1hdGNoZXMgdGhlIGRlc2lyZWQgc3RyaW5nLlxuICAgICAqIEBwYXJhbSBkZXNpcmVkU3RyaW5nIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0gc2hvdWxkSW5jcmVtZW50IFdoZXRoZXIgdG8gaW5jcmVtZW50IHRoZSBjdXJyZW50IGxvY2F0aW9uIGlmIHRoZSBzdHJpbmcgaXMgZm91bmQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBdFN0cmluZyhkZXNpcmVkU3RyaW5nOiBzdHJpbmcsIHNob3VsZEluY3JlbWVudCA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgaXNBdFN0cmluZyA9IGNvbnRlbnQuc2xpY2UoY3VycmVudExvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24gKyBkZXNpcmVkU3RyaW5nLmxlbmd0aCkgPT09IGRlc2lyZWRTdHJpbmc7XG5cbiAgICAgICAgaWYgKGlzQXRTdHJpbmcgJiYgc2hvdWxkSW5jcmVtZW50KSBjdXJyZW50TG9jYXRpb24gKz0gZGVzaXJlZFN0cmluZy5sZW5ndGg7XG5cbiAgICAgICAgcmV0dXJuIGlzQXRTdHJpbmc7XG4gICAgfVxuXG4gICAgd2hpbGUgKGN1cnJlbnRMb2NhdGlvbiA8IGNvbnRlbnQubGVuZ3RoKVxuICAgICAgICBpZiAoaXNBdFN0cmluZygnPG5vd2lraT4nKSkgaXNJbnNpZGVOb3dpa2kgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCc8L25vd2lraT4nKSkgaXNJbnNpZGVOb3dpa2kgPSBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnPCEtLScpKSBpc0luc2lkZUNvbW1lbnQgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCctLT4nKSkgaXNJbnNpZGVDb21tZW50ID0gZmFsc2U7XG4gICAgICAgIGVsc2UgaWYgKCFpc0luc2lkZU5vd2lraSAmJiAhaXNJbnNpZGVDb21tZW50KVxuICAgICAgICAgICAgaWYgKGlzQXRTdHJpbmcoJ1tbJykpIGxpbmtzLnB1c2goeyBzdGFydDogY3VycmVudExvY2F0aW9uIC0gMiwgZW5kOiAtMSwgaXNOZXN0ZWQ6IGxpbmtzLmxlbmd0aCA+IDAgfSk7XG4gICAgICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCddXScpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdExpbmsgPSBsaW5rcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWxhc3RMaW5rKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGxhc3RMaW5rLmVuZCA9IGN1cnJlbnRMb2NhdGlvbjtcblxuICAgICAgICAgICAgICAgIGNsb3NlZExpbmtzLnB1c2gobGFzdExpbmspO1xuICAgICAgICAgICAgfSBlbHNlIGN1cnJlbnRMb2NhdGlvbisrO1xuICAgICAgICBlbHNlIGN1cnJlbnRMb2NhdGlvbisrO1xuXG4gICAgY29uc3QgbmV3TGlua0NvbnRlbnQ6IFtMaW5rSW5mb3JtYXRpb24sIHN0cmluZ11bXSA9IFtdO1xuXG4gICAgY29uc3QgbmFtZXNwYWNlTmFtZXMgPSBPYmplY3QudmFsdWVzKG13LmNvbmZpZy5nZXQoJ3dnRm9ybWF0dGVkTmFtZXNwYWNlcycpKTtcblxuICAgIGZvciAoY29uc3QgbGlua0xvY2F0aW9uIG9mIGNsb3NlZExpbmtzKSB7XG4gICAgICAgIGNvbnN0IGlubmVyTGluayA9IGNvbnRlbnQuc2xpY2UobGlua0xvY2F0aW9uLnN0YXJ0ICsgMiwgbGlua0xvY2F0aW9uLmVuZCAtIDIpO1xuXG4gICAgICAgIGNvbnN0IFt1bnBhcnNlZExpbmssIC4uLnBhcmFtZXRlcnNdID0gaW5uZXJMaW5rLnNwbGl0KCd8Jyk7XG5cbiAgICAgICAgLy8gUmVwbGFjZSBsaW5rIG5hbWVzIHNvIHRoZXNlIHdvbid0IGJlIGFmZmVjdGVkIGJ5IGZ1bmN0aW9ucyBjYWxsZWQgd2hpbGUgZXNjYXBlZFxuICAgICAgICBjb250ZW50ID1cbiAgICAgICAgICAgIGNvbnRlbnQuc2xpY2UoMCwgbGlua0xvY2F0aW9uLnN0YXJ0ICsgMikgK1xuICAgICAgICAgICAgJ1xcMCcucmVwZWF0KHVucGFyc2VkTGluay5sZW5ndGgpICtcbiAgICAgICAgICAgIGNvbnRlbnQuc2xpY2UobGlua0xvY2F0aW9uLnN0YXJ0ICsgMiArIHVucGFyc2VkTGluay5sZW5ndGgpO1xuXG4gICAgICAgIGxldCBsaW5rID0gdW5wYXJzZWRMaW5rLnJlcGxhY2VBbGwoJ18nLCAnICcpLnRyaW0oKTtcbiAgICAgICAgbGV0IGFsdFRleHQgPSBwYXJhbWV0ZXJzLmpvaW4oJ3wnKTtcbiAgICAgICAgYWx0VGV4dCA9IGFsdFRleHQgPT09ICcgJyA/ICcgJyA6IGFsdFRleHQudHJpbSgpO1xuXG4gICAgICAgIGNvbnN0IGlzRmlyc3RDaGFyYWN0ZXJDb2xvbiA9IGxpbmsuc3RhcnRzV2l0aCgnOicpO1xuICAgICAgICBpZiAoaXNGaXJzdENoYXJhY3RlckNvbG9uKSBsaW5rID0gbGluay5zbGljZSgxKTtcblxuICAgICAgICBsZXQgc2hvdWxkRmlyc3RDaGFyYWN0ZXJCZUNvbG9uID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgbGlua1VwcGVyY2FzZVN0YXJ0ID0gbGluay5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGxpbmsuc2xpY2UoMSk7XG4gICAgICAgIGNvbnN0IGxpbmtMb3dlcmNhc2VTdGFydCA9IGxpbmsuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBsaW5rLnNsaWNlKDEpO1xuXG4gICAgICAgIGxldCBuYW1lc3BhY2UgPSBsaW5rLnNwbGl0KCc6JylbMF07XG4gICAgICAgIG5hbWVzcGFjZSA9IG5hbWVzcGFjZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWVzcGFjZS5zbGljZSgxKTtcblxuICAgICAgICBpZiAobGluay5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgICBpZiAobGlua1VwcGVyY2FzZVN0YXJ0LnN0YXJ0c1dpdGgoJ0ltYWdlOicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkU3RhcnRVcHBlcmNhc2UgPSBsaW5rLnN0YXJ0c1dpdGgoJ0ltYWdlOicpO1xuXG4gICAgICAgICAgICAgICAgbGluayA9IGAke3Nob3VsZFN0YXJ0VXBwZXJjYXNlID8gJ0YnIDogJ2YnfWlsZToke2xpbmsuc2xpY2UoNil9YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGlzRmlyc3RDaGFyYWN0ZXJDb2xvbiAmJlxuICAgICAgICAgICAgICAgIChbJ0ltYWdlJywgJ0ZpbGUnLCAnQ2F0ZWdvcnknXS5pbmNsdWRlcyhsaW5rVXBwZXJjYXNlU3RhcnQuc3BsaXQoJzonKVswXSkgfHwgIW5hbWVzcGFjZU5hbWVzLmluY2x1ZGVzKG5hbWVzcGFjZSkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgc2hvdWxkRmlyc3RDaGFyYWN0ZXJCZUNvbG9uID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBiZWZvcmVMaW5rVGV4dCA9ICcnO1xuICAgICAgICBsZXQgYWZ0ZXJMaW5rVGV4dCA9ICcnO1xuXG4gICAgICAgIGNvbnN0IG1hdGNoZWRNYXJrdXAgPSAvXignezIsfSkoLio/KVxcMSQvLmV4ZWMoYWx0VGV4dCk7XG5cbiAgICAgICAgaWYgKG1hdGNoZWRNYXJrdXAgJiYgIW1hdGNoZWRNYXJrdXBbMl0uaW5jbHVkZXMoXCInJ1wiKSkge1xuICAgICAgICAgICAgYmVmb3JlTGlua1RleHQgPSBtYXRjaGVkTWFya3VwWzFdO1xuICAgICAgICAgICAgYWx0VGV4dCA9IG1hdGNoZWRNYXJrdXBbMl0udHJpbSgpO1xuICAgICAgICAgICAgYWZ0ZXJMaW5rVGV4dCA9IG1hdGNoZWRNYXJrdXBbMV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoL1shLC46Oz9dJC8udGVzdChhbHRUZXh0KSAmJiAhWydJbWFnZScsICdGaWxlJywgJ0NhdGVnb3J5J10uaW5jbHVkZXMobGlua1VwcGVyY2FzZVN0YXJ0LnNwbGl0KCc6JylbMF0pKSB7XG4gICAgICAgICAgICBjb25zdCBhZGRlZFB1bmN0dWF0aW9uID0gYWx0VGV4dC5zbGljZSgtMSk7XG5cbiAgICAgICAgICAgIGlmICghbGluay5lbmRzV2l0aChhZGRlZFB1bmN0dWF0aW9uKSkge1xuICAgICAgICAgICAgICAgIGFmdGVyTGlua1RleHQgKz0gYWRkZWRQdW5jdHVhdGlvbjtcbiAgICAgICAgICAgICAgICBhbHRUZXh0ID0gYWx0VGV4dC5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGluayA9PT0gYWx0VGV4dCkgYWx0VGV4dCA9ICcnO1xuICAgICAgICBlbHNlIGlmIChuZXcgUmVnRXhwKGBeJHtlc2NhcGVSZWdleENoYXJhY3RlcnMobGluayl9W2Etel0rJGApLnRlc3QoYWx0VGV4dCkpIHtcbiAgICAgICAgICAgIGFmdGVyTGlua1RleHQgPSBhbHRUZXh0LnNsaWNlKGxpbmsubGVuZ3RoKSArIGFmdGVyTGlua1RleHQ7XG4gICAgICAgICAgICBhbHRUZXh0ID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IG5ld0xpbmsgb2YgW2xpbmtVcHBlcmNhc2VTdGFydCwgbGlua0xvd2VyY2FzZVN0YXJ0XSlcbiAgICAgICAgICAgIGlmIChuZXdMaW5rID09PSBhbHRUZXh0KSB7XG4gICAgICAgICAgICAgICAgbGluayA9IG5ld0xpbms7XG4gICAgICAgICAgICAgICAgYWx0VGV4dCA9ICcnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuZXcgUmVnRXhwKGBeJHtlc2NhcGVSZWdleENoYXJhY3RlcnMobmV3TGluayl9W2Etel0rJGApLnRlc3QoYWx0VGV4dCkpIHtcbiAgICAgICAgICAgICAgICBsaW5rID0gbmV3TGluaztcbiAgICAgICAgICAgICAgICBhZnRlckxpbmtUZXh0ID0gYWx0VGV4dC5zbGljZShuZXdMaW5rLmxlbmd0aCkgKyBhZnRlckxpbmtUZXh0O1xuICAgICAgICAgICAgICAgIGFsdFRleHQgPSAnJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAoYWx0VGV4dCAmJiBsaW5rLmluY2x1ZGVzKCc6JykgJiYgbmFtZXNwYWNlTmFtZXMuaW5jbHVkZXMobmFtZXNwYWNlKSkgfHxcbiAgICAgICAgICAgIGxpbmsuc3RhcnRzV2l0aCgnZmlsZTonKSB8fFxuICAgICAgICAgICAgbGluay5zdGFydHNXaXRoKCdjYXRlZ29yeTonKVxuICAgICAgICApXG4gICAgICAgICAgICBsaW5rID0gbGluay5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGxpbmsuc2xpY2UoMSk7XG5cbiAgICAgICAgbGluayA9IGAke3Nob3VsZEZpcnN0Q2hhcmFjdGVyQmVDb2xvbiA/ICc6JyA6ICcnfSR7bGlua31gO1xuXG4gICAgICAgIGxpbmsgPSBsaW5rLnBhZFN0YXJ0KHVucGFyc2VkTGluay5sZW5ndGgsICdcXDAnKTtcblxuICAgICAgICBjb25zdCBvdXRwdXQgPSBgJHtiZWZvcmVMaW5rVGV4dH1bWyR7bGlua30ke2FsdFRleHQgPyBgfCR7YWx0VGV4dH1gIDogJyd9XV0ke2FmdGVyTGlua1RleHR9YDtcblxuICAgICAgICBuZXdMaW5rQ29udGVudC5wdXNoKFtsaW5rTG9jYXRpb24sIG91dHB1dF0pO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgZnVuY3Rpb25Ub0NhbGwgb2YgZnVuY3Rpb25zQ2FsbGVkV2hpbGVFc2NhcGVkKSBjb250ZW50ID0gZnVuY3Rpb25Ub0NhbGwoY29udGVudCwgMSk7XG5cbiAgICBmb3IgKGxldCBsb29wQ291bnRlciA9IDA7IGxvb3BDb3VudGVyIDwgMjsgbG9vcENvdW50ZXIrKylcbiAgICAgICAgZm9yIChjb25zdCBbbGlua0RhdGEsIGxpbmtDb250ZW50XSBvZiBuZXdMaW5rQ29udGVudCkge1xuICAgICAgICAgICAgaWYgKGxvb3BDb3VudGVyID09PSAwICYmIGxpbmtEYXRhLmlzTmVzdGVkKSBjb250aW51ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGxvb3BDb3VudGVyID09PSAxICYmICFsaW5rRGF0YS5pc05lc3RlZCkgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPVxuICAgICAgICAgICAgICAgIGNvbnRlbnQuc2xpY2UoMCwgbGlua0RhdGEuc3RhcnQpICsgbGlua0NvbnRlbnQucGFkRW5kKGxpbmtEYXRhLmVuZCAtIGxpbmtEYXRhLnN0YXJ0LCAnXFwwJykgKyBjb250ZW50LnNsaWNlKGxpbmtEYXRhLmVuZCk7XG4gICAgICAgIH1cblxuICAgIGZvciAoY29uc3QgZnVuY3Rpb25Ub0NhbGwgb2YgZnVuY3Rpb25zQ2FsbGVkV2hpbGVFc2NhcGVkKSBjb250ZW50ID0gZnVuY3Rpb25Ub0NhbGwoY29udGVudCwgMik7XG5cbiAgICByZXR1cm4gY29udGVudC5yZXBsYWNlQWxsKCdcXDAnLCAnJyk7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIGltcHJvcGVyIGNoYXJhY3RlcnMgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICogQHBhcmFtIHJ1biBUaGUgcnVuIG51bWJlciBvZiB0aGUgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBJbXByb3BlckNoYXJhY3RlcnMoY29udGVudDogc3RyaW5nLCBydW46IDEgfCAyKSB7XG4gICAgY29uc3QgRUxJUFNJU19QTEFDRUhPTERFUiA9ICdcXHUwMDdGJztcbiAgICBjb25zdCBOQlNQX1BMQUNFSE9MREVSID0gJ1xcdTAwOUYnO1xuXG4gICAgaWYgKHJ1biA9PT0gMSkge1xuICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC9bXHUyMDFDXHUyMDFEXHUyMDFFXHUyMDFGXS9nLCAnXCInKTtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvW1x1MjAxOFx1MjAxOVx1MjAxQVx1MjAxQl0vZywgXCInXCIpO1xuICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKCdcdTIwMjYnLCBFTElQU0lTX1BMQUNFSE9MREVSKTtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgnXHUwMEEwJywgTkJTUF9QTEFDRUhPTERFUik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbChFTElQU0lTX1BMQUNFSE9MREVSLCAnLi4uJyk7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoTkJTUF9QTEFDRUhPTERFUiwgJyZuYnNwOycpO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIENsZWFucyB1cCB5ZWFyIHJhbmdlcyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKiBAcGFyYW0gcnVuIFRoZSBydW4gbnVtYmVyIG9mIHRoZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY2xlYW51cFllYXJSYW5nZXMoY29udGVudDogc3RyaW5nLCBydW46IDEgfCAyKSB7XG4gICAgaWYgKHJ1biA9PT0gMSlcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvKFxcKFxcZHszLDR9KSA/W1x1MjAxMlx1MjAxM1x1MjIxMi1dID8oXFxkezMsNH1cXCkpL2csIChvcmlnaW5hbCwgc3RhcnQsIGVuZCkgPT5cbiAgICAgICAgICAgIGAke3N0YXJ0fVx1MjAxMyR7ZW5kfWAucGFkRW5kKG9yaWdpbmFsLmxlbmd0aCwgJ1xcMCcpLFxuICAgICAgICApO1xuXG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBzdHJheSBtYXJrdXAgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwU3RyYXlNYXJrdXAoY29udGVudDogc3RyaW5nKSB7XG4gICAgY29uc3QgU1RSQVlfTUFSS1VQX1JFR0VYRVMgPSBbXG4gICAgICAgIC8nKyhCb2xkfEl0YWxpYykoIHRleHQpPycrICovZyxcbiAgICAgICAgLyg8YmlnPikrQmlnKCB0ZXh0KT8oPFxcL2JpZz4pKyAqL2csXG4gICAgICAgIC8oPHNtYWxsPikrU21hbGwoIHRleHQpPyg8XFwvc21hbGw+KSsgKi9nLFxuICAgICAgICAvKDxzdXA+KStTdXBlcnNjcmlwdCggdGV4dCk/KDxcXC9zdXA+KSsgKi9nLFxuICAgICAgICAvKDxzdWI+KStTdWJzY3JpcHQoIHRleHQpPyg8XFwvc3ViPikrICovZyxcbiAgICAgICAgLyg8cz4pK1N0cmlrZXRocm91Z2goPFxcL3M+KSsgKi9nLFxuICAgICAgICAvKDx1PikrVW5kZXJsaW5lKDxcXC91PikrICovZyxcbiAgICAgICAgLyg8Y29kZT4pK0NvbXB1dGVyIGNvZGUoPFxcL2NvZGU+KSsgKi9nLFxuICAgICAgICAvKDxub3dpa2k+KStJbnNlcnQgbm9uLWZvcm1hdHRlZCB0ZXh0IGhlcmUoPFxcL25vd2lraT4pKyAqL2csXG4gICAgICAgIC89KyBIZWFkaW5nIHRleHQgPSsgKi9nLFxuICAgICAgICAvXFwqIEJ1bGxldGVkIGxpc3QgaXRlbSAqL2csXG4gICAgICAgIC8jIE51bWJlcmVkIGxpc3QgaXRlbSAqL2csXG4gICAgICAgIC88Z2FsbGVyeT5cXG5FeGFtcGxlLmpwZ1xcfENhcHRpb24xXFxuRXhhbXBsZS5qcGdcXHxDYXB0aW9uMlxcbjxcXC9nYWxsZXJ5PiAqL2csXG4gICAgICAgIC8jUkVESVJFQ1QgXFxbXFxbVGFyZ2V0IHBhZ2UgbmFtZV1dICovZyxcbiAgICAgICAgLzwhLS0gSW52aXNpYmxlIGNvbW1lbnQgLS0+ICovZyxcbiAgICAgICAgLzxcXHMqKGJpZ3xzbWFsbHxzdXB8c3VifHN8dXxjb2RlfG5vd2lraXxub2luY2x1ZGV8b25seWluY2x1ZGV8aW5jbHVkZW9ubHl8Y2VudGVyfGJsb2NrcXVvdGV8Z2FsbGVyeSlcXHMqKFxccytbXjw+XSopPz5cXHMqPFxccypcXC9cXHMqXFwxXFxzKj4vZ2ksXG4gICAgXTtcblxuICAgIGZvciAoY29uc3QgcmVnZXggb2YgU1RSQVlfTUFSS1VQX1JFR0VYRVMpIHdoaWxlIChyZWdleC50ZXN0KGNvbnRlbnQpKSBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKHJlZ2V4LCAnJyk7XG5cbiAgICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBDbGVhbnMgdXAgc3BhY2luZyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKiBAcGFyYW0gc2Vjb25kUnVuIFdoZXRoZXIgdGhlIGZ1bmN0aW9uIGlzIGJlaW5nIHJ1biBmb3IgdGhlIHNlY29uZCB0aW1lLCBhZnRlciBvdGhlciBwcm9jZXNzaW5nLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwU3BhY2luZyhjb250ZW50OiBzdHJpbmcsIHNlY29uZFJ1biA9IGZhbHNlKSB7XG4gICAgY29uc3QgUExBQ0VIT0xERVIgPSAnXFx1e0YwMDAwfSc7XG5cbiAgICBjb25zdCBUQUdTX1RPX0lHTk9SRSA9IFsncG9lbScsICdwcmUnLCAndGVtcGxhdGVkYXRhJ107XG5cbiAgICBjb25zdCBpZ25vcmVkVGFnc0NvbnRlbnQ6IHN0cmluZ1tdID0gW107XG5cbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKFxuICAgICAgICBuZXcgUmVnRXhwKGAoPCgke1RBR1NfVE9fSUdOT1JFLmpvaW4oJ3wnKX0pKD86IFtePD5dKj8pPz4pKC4qPykoPC9cXFxcMj4pYCwgJ2dzJyksXG4gICAgICAgIChmdWxsTWF0Y2gsIHN0YXJ0VGFnOiBzdHJpbmcsIHRhZ05hbWU6IHN0cmluZywgaW5uZXJDb250ZW50OiBzdHJpbmcsIGVuZFRhZzogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICBpbm5lckNvbnRlbnQgPSBpbm5lckNvbnRlbnQucmVwbGFjZUFsbCgvICskL2dtLCAnJykudHJpbSgpO1xuXG4gICAgICAgICAgICBpZ25vcmVkVGFnc0NvbnRlbnQucHVzaChgJHtzdGFydFRhZ31cXG4ke2lubmVyQ29udGVudH1cXG4ke2VuZFRhZ31gKTtcblxuICAgICAgICAgICAgcmV0dXJuIFBMQUNFSE9MREVSO1xuICAgICAgICB9LFxuICAgICk7XG5cbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC8oXFxifFxccHtQdW5jdHVhdGlvbn18XFxdXFxdfFxcfVxcfXxcXHc+KSB7Mix9KFxcYnxcXHB7UHVuY3R1YXRpb259fFxcW1xcW3xcXHtcXHt8PFxcdykvZ3UsICckMSAkMicpOyAvLyBSZW1vdmUgZXh0cmEgc3BhY2VzIGJldHdlZW4gd29yZHMgYW5kIHNlbnRlbmNlc1xuICAgIGlmICghc2Vjb25kUnVuKSBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC9eICt8ICskL2dtLCAnJyk7IC8vIFJlbW92ZSBleHRyYSBzcGFjZXMgYXQgdGhlIHN0YXJ0IG9yIGVuZCBvZiBsaW5lc1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoL1xcbnszLH0vZywgJ1xcblxcbicpOyAvLyBSZW1vdmUgZXh0cmEgbmV3bGluZXNcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC9cXHMqKHt7W159XSpzdHVifX0pL2ksICdcXG5cXG4kMScpOyAvLyBFbnN1cmUgdGhlcmUgaXMgb25lIGJsYW5rIGxpbmUgYmVmb3JlIHRoZSBmaXJzdCBzdHViIHRlbXBsYXRlXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvXFxzKyQvZywgJycpOyAvLyBSZW1vdmUgdHJhaWxpbmcgc3BhY2VzXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvXihbIypdKykgKi9nbSwgJyQxICcpOyAvLyBFbnN1cmUgdGhlcmUgaXMgYSBzcGFjZSBhZnRlciBhIGJ1bGxldCBvciBoYXNoIGluIGEgbGlzdCBpdGVtXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvXihbIypdKyAuKilcXG4rKD89WyMqXSsgKS9nbSwgJyQxXFxuJyk7IC8vIFJlbW92ZSBuZXdsaW5lcyBiZXR3ZWVuIGxpc3QgaXRlbXNcbiAgICBpZiAoIXNlY29uZFJ1bikgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvKD88IVxcfClcXHMrKD89PHJlZig/IWVyZW5jZXMpKS9nLCAnJyk7IC8vIFJlbW92ZSBzcGFjZXMgYmVmb3JlIHJlZmVyZW5jZXNcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC88XFwvKFtBLVphLXpdKykgKz4vZywgJzwvJDE+Jyk7IC8vIFJlbW92ZSBleGNlc3Mgc3BhY2UgaW4gY2xvc2luZyB0YWdzXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvXig9Ky4qPz0rKSRcXG57Mix9KD89Xj0rLio/PSskKS9nbSwgJyQxXFxuJyk7IC8vIFJlbW92ZSBleHRyYSBuZXdsaW5lcyBiZXR3ZWVuIGVtcHR5IHNlY3Rpb24gYW5kIGZvbGxvd2luZyBzZWN0aW9uXG4gICAgY29udGVudCA9IGNvbnRlbnQudHJpbSgpOyAvLyBSZW1vdmUgd2hpdGVzcGFjZSBhdCB0aGUgc3RhcnQgb3IgZW5kIG9mIHRoZSBjb250ZW50XG5cbiAgICAvLyBBZGQgYmFjayBpZ25vcmVkIHRhZ3NcbiAgICBmb3IgKGNvbnN0IHRhZ0NvbnRlbnQgb2YgaWdub3JlZFRhZ3NDb250ZW50KSBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKFBMQUNFSE9MREVSLCB0YWdDb250ZW50KTtcblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIENsZWFucyB1cCByZWZlcmVuY2VzIGluIGFuIGFydGljbGUncyBjb250ZW50LlxuICogQHBhcmFtIGNvbnRlbnQgVGhlIGFydGljbGUgY29udGVudCB0byBjbGVhbiB1cC5cbiAqL1xuZnVuY3Rpb24gY2xlYW51cFJlZmVyZW5jZXMoY29udGVudDogc3RyaW5nKSB7XG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbChcbiAgICAgICAgLygoPzo8cmVmKD8hZXJlbmNlcylbXi9dKj8+Lio/PFxcL3JlZj58PHJlZig/IWVyZW5jZXMpLio/XFwvPikrKShbISwuOz9dKT8vZyxcbiAgICAgICAgKGZ1bGxNYXRjaCwgcmVmZXJlbmNlVGFnOiBzdHJpbmcsIHB1bmN0dWF0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IChwdW5jdHVhdGlvbiA/PyAnJykgKyByZWZlcmVuY2VUYWcsXG4gICAgKTsgLy8gRml4IHB1bmN0dWF0aW9uIGZvbGxvd2luZyByZWZlcmVuY2VzXG5cbiAgICBjb25zdCByZWZlcmVuY2VzOiB7IHN0YXJ0OiBudW1iZXI7IGVuZDogbnVtYmVyOyBpc1NlbGZDbG9zaW5nPzogdHJ1ZSB9W10gPSBbXTtcblxuICAgIGxldCBpc0luc2lkZU5vd2lraSA9IGZhbHNlO1xuICAgIGxldCBpc0luc2lkZUNvbW1lbnQgPSBmYWxzZTtcblxuICAgIGxldCBjdXJyZW50TG9jYXRpb24gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBjb250ZW50IGZvbGxvd2luZyB0aGUgY3VycmVudCBsb2NhdGlvbiBtYXRjaGVzIHRoZSBkZXNpcmVkIHN0cmluZy5cbiAgICAgKiBAcGFyYW0gZGVzaXJlZFN0cmluZyBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBdFN0cmluZyhkZXNpcmVkU3RyaW5nOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgaXNBdFN0cmluZyA9IGNvbnRlbnQuc2xpY2UoY3VycmVudExvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24gKyBkZXNpcmVkU3RyaW5nLmxlbmd0aCkgPT09IGRlc2lyZWRTdHJpbmc7XG5cbiAgICAgICAgaWYgKGlzQXRTdHJpbmcpIGN1cnJlbnRMb2NhdGlvbiArPSBkZXNpcmVkU3RyaW5nLmxlbmd0aDtcblxuICAgICAgICByZXR1cm4gaXNBdFN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZWVkcyB0aHJvdWdoIHRoZSBjb250ZW50IHVudGlsIHRoZSBkZXNpcmVkIHN0cmluZyBpcyBmb3VuZC5cbiAgICAgKiBAcGFyYW0gZGVzaXJlZFN0cmluZyBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvY2VlZFVudGlsU3RyaW5nKGRlc2lyZWRTdHJpbmc6IHN0cmluZykge1xuICAgICAgICB3aGlsZSAoY3VycmVudExvY2F0aW9uIDwgY29udGVudC5sZW5ndGggJiYgIWlzQXRTdHJpbmcoZGVzaXJlZFN0cmluZykpIGN1cnJlbnRMb2NhdGlvbisrO1xuICAgIH1cblxuICAgIHdoaWxlIChjdXJyZW50TG9jYXRpb24gPCBjb250ZW50Lmxlbmd0aClcbiAgICAgICAgaWYgKGlzQXRTdHJpbmcoJzxub3dpa2k+JykpIGlzSW5zaWRlTm93aWtpID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnPC9ub3dpa2k+JykpIGlzSW5zaWRlTm93aWtpID0gZmFsc2U7XG4gICAgICAgIGVsc2UgaWYgKGlzQXRTdHJpbmcoJzwhLS0nKSkgaXNJbnNpZGVDb21tZW50ID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnLS0+JykpIGlzSW5zaWRlQ29tbWVudCA9IGZhbHNlO1xuICAgICAgICBlbHNlIGlmICghaXNJbnNpZGVOb3dpa2kgJiYgIWlzSW5zaWRlQ29tbWVudClcbiAgICAgICAgICAgIGlmICghaXNBdFN0cmluZygnPHJlZmVyZW5jZXMnKSAmJiBpc0F0U3RyaW5nKCc8cmVmJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IGN1cnJlbnRMb2NhdGlvbiAtIDQ7XG5cbiAgICAgICAgICAgICAgICBwcm9jZWVkVW50aWxTdHJpbmcoJz4nKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGlzU2VsZkNsb3NpbmcgPSBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgIC5zbGljZShzdGFydCwgY3VycmVudExvY2F0aW9uIC0gMSlcbiAgICAgICAgICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgICAgICAgICAgICAuZW5kc1dpdGgoJy8nKTtcblxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZXMucHVzaChpc1NlbGZDbG9zaW5nID8geyBzdGFydCwgZW5kOiBjdXJyZW50TG9jYXRpb24sIGlzU2VsZkNsb3NpbmcgfSA6IHsgc3RhcnQsIGVuZDogLTEgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzQXRTdHJpbmcoJzwvcmVmPicpKSByZWZlcmVuY2VzLmF0KC0xKSEuZW5kID0gY3VycmVudExvY2F0aW9uO1xuICAgICAgICAgICAgZWxzZSBjdXJyZW50TG9jYXRpb24rKztcbiAgICAgICAgZWxzZSBjdXJyZW50TG9jYXRpb24rKztcblxuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblxuICAgIGNvbnN0IHJlcGxhY2VtZW50czogW3N0cmluZywgc3RyaW5nXVtdID0gW107XG5cbiAgICBmb3IgKGNvbnN0IHJlZmVyZW5jZSBvZiByZWZlcmVuY2VzKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IGNvbnRlbnQuc2xpY2UocmVmZXJlbmNlLnN0YXJ0LCByZWZlcmVuY2UuZW5kKTtcblxuICAgICAgICBjb25zdCBzdGFydFRhZyA9IC88cmVmKD8hZXJlbmNlcykuKj8+L2lzLmV4ZWMob3JpZ2luYWxUZXh0KSFbMF07XG5cbiAgICAgICAgY29uc3QgcGFyc2VkVGFnID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhcbiAgICAgICAgICAgIHJlZmVyZW5jZS5pc1NlbGZDbG9zaW5nID8gc3RhcnRUYWcucmVwbGFjZSgvICpcXC8gKj4vLCAnIC8+JykgOiBzdGFydFRhZyArICc8L3JlZj4nLFxuICAgICAgICAgICAgJ3RleHQvaHRtbCcsXG4gICAgICAgICkuYm9keS5maXJzdENoaWxkIGFzIEhUTUxVbmtub3duRWxlbWVudDtcblxuICAgICAgICBsZXQgb3V0cHV0ID0gcGFyc2VkVGFnLm91dGVySFRNTC5yZXBsYWNlQWxsKCcmYW1wOycsICcmJyk7XG5cbiAgICAgICAgY29uc3QgdGFnQ29udGVudCA9IG9yaWdpbmFsVGV4dFxuICAgICAgICAgICAgLnNsaWNlKHN0YXJ0VGFnLmxlbmd0aCwgLTYpXG4gICAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgICAucmVwbGFjZUFsbCgvXlxcWyAqKFteIFxcXV0qKSAqXSQvZ20sICckMScpXG4gICAgICAgICAgICAudHJpbSgpO1xuXG4gICAgICAgIG91dHB1dCA9XG4gICAgICAgICAgICByZWZlcmVuY2UuaXNTZWxmQ2xvc2luZyB8fCB0YWdDb250ZW50Lmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgID8gb3V0cHV0LnJlcGxhY2UoLz5cXHMqPFxcL3JlZj4vLCAnIC8+JylcbiAgICAgICAgICAgICAgICA6IGAke291dHB1dC5zbGljZSgwLCAtNil9JHt0YWdDb250ZW50fTwvcmVmPmA7XG5cbiAgICAgICAgaWYgKG9yaWdpbmFsVGV4dCAhPT0gb3V0cHV0KSByZXBsYWNlbWVudHMucHVzaChbb3JpZ2luYWxUZXh0LCBvdXRwdXRdKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IFtvcmlnaW5hbFRleHQsIG91dHB1dF0gb2YgcmVwbGFjZW1lbnRzKSBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKG9yaWdpbmFsVGV4dCwgb3V0cHV0KTtcblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG5pbnRlcmZhY2UgVGVtcGxhdGVSZWRpcmVjdCB7XG4gICAgZnJvbTogc3RyaW5nW107XG4gICAgdG86IHN0cmluZztcbn1cblxubGV0IHRlbXBsYXRlQWxpYXNlczogVGVtcGxhdGVSZWRpcmVjdFtdIHwgdW5kZWZpbmVkO1xuXG4vKipcbiAqIEZvcm1hdHMgdGVtcGxhdGUgc3BhY2luZyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gZm9ybWF0LlxuICovXG5hc3luYyBmdW5jdGlvbiBmb3JtYXRUZW1wbGF0ZXMoY29udGVudDogc3RyaW5nKSB7XG4gICAgZW51bSBGb3JtYXRTdHlsZSB7XG4gICAgICAgIEV4cGFuZGVkLFxuICAgICAgICBFeHBhbmRlZEFsaWduZWQsXG4gICAgICAgIE1pbmltaXplZCxcbiAgICAgICAgTWluaW1pemVkU3BhY2VkLFxuICAgIH1cblxuICAgIGVudW0gTmFtZXNwYWNlIHtcbiAgICAgICAgVXNlciA9IDIsXG4gICAgICAgIFRlbXBsYXRlID0gMTAsXG4gICAgICAgIERyYWZ0ID0gMTE4LFxuICAgIH1cblxuICAgIHRlbXBsYXRlQWxpYXNlcyA/Pz0gSlNPTi5wYXJzZSgoYXdhaXQgZ2V0UGFnZUNvbnRlbnQoJ1VzZXI6RWVqaXQ0My9zY3JpcHRzL2FydGljbGUtY2xlYW5lci5qc29uJykpID8/ICdbXScpIGFzIFRlbXBsYXRlUmVkaXJlY3RbXTtcblxuICAgIGNvbnN0IG1hcHBlZFRlbXBsYXRlQWxpYXNlcyA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgdGVtcGxhdGVBbGlhc2VzLmZsYXRNYXAoKGFsaWFzKSA9PiBhbGlhcy5mcm9tLm1hcCgoZnJvbSkgPT4gW2Zyb20uY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBmcm9tLnNsaWNlKDEpLCBhbGlhcy50b10pKSxcbiAgICApO1xuXG4gICAgY2xhc3MgVGVtcGxhdGUge1xuICAgICAgICBwdWJsaWMgbG9jYXRpb246IHsgc3RhcnQ6IG51bWJlcjsgZW5kPzogbnVtYmVyIH07XG4gICAgICAgIHB1YmxpYyBpc05lc3RlZCA9IGZhbHNlO1xuXG4gICAgICAgIHB1YmxpYyBmdWxsVGV4dD86IHN0cmluZztcbiAgICAgICAgcHJpdmF0ZSBmdWxsVGV4dEVzY2FwZWQ/OiBzdHJpbmc7XG4gICAgICAgIHByaXZhdGUgcmF3TmFtZT86IHN0cmluZztcbiAgICAgICAgcHJpdmF0ZSBuYW1lPzogc3RyaW5nO1xuICAgICAgICBwcml2YXRlIHBhcmFtZXRlcnM6IHsga2V5OiBzdHJpbmcgfCBudWxsOyB2YWx1ZTogc3RyaW5nIH1bXSA9IFtdO1xuICAgICAgICBwdWJsaWMgc3ViVGVtcGxhdGVzOiBUZW1wbGF0ZVtdID0gW107XG5cbiAgICAgICAgcHJpdmF0ZSBQTEFDRUhPTERFUl9TVFJJTkdTID0gWydcXHV7RjAwMDB9JywgJ1xcdXsxMEZGRkZ9JywgJ1xcdXtGRkZGRX0nXTtcblxuICAgICAgICBwcml2YXRlIFBJUEVfRVNDQVBFX1JFR0VYRVMgPSBbLyhcXFtcXFtbXlxcXV0qPylcXHwoLio/XV0pL2csIC8oPCEtLS4qPylcXHwoLio/LS0+KS9nLCAvKDxub3dpa2k+Lio/KVxcfCguKj88XFwvbm93aWtpPikvZ107XG5cbiAgICAgICAgcHJpdmF0ZSBUQUdfRVFVQUxTX0VTQ0FQRV9SRUdFWEVTID0gWy88KFxcdyspKCBbXjw+XSs/KSg/PCFcXC8pPi4qPzxcXC9cXDE+L2csIC88KFxcdyspKCBbXjw+XSs/KVxcLz4vZ107XG5cbiAgICAgICAgcHJpdmF0ZSBURU1QTEFURV9BTElBU0VTID0gbWFwcGVkVGVtcGxhdGVBbGlhc2VzO1xuXG4gICAgICAgIHByaXZhdGUgREVGQVVMVF9URU1QTEFURV9TVFlMRVMgPSB7XG4gICAgICAgICAgICBbRm9ybWF0U3R5bGUuRXhwYW5kZWRBbGlnbmVkXTogW1xuICAgICAgICAgICAgICAgICdhbGJ1bSByYXRpbmcnLFxuICAgICAgICAgICAgICAgICdhbGJ1bSByZXZpZXdzJyxcbiAgICAgICAgICAgICAgICAnYW1lcmljYW4gZm9vdGJhbGwgdW5pZm9ybScsXG4gICAgICAgICAgICAgICAgJ2F1c3RyYWxpYW4gcnVsZXMgZm9vdGJhbGwga2l0JyxcbiAgICAgICAgICAgICAgICAnYXV0b21hdGljIHRheG9ib3gnLFxuICAgICAgICAgICAgICAgICdiYXNlYmFsbCB1bmlmb3JtJyxcbiAgICAgICAgICAgICAgICAnYmFza2V0YmFsbCBraXQnLFxuICAgICAgICAgICAgICAgICdiZWFjaGhhbmRiYWxsIGtpdCcsXG4gICAgICAgICAgICAgICAgJ2Jsb2NrcXVvdGUnLFxuICAgICAgICAgICAgICAgICdjaGVtYm94JyxcbiAgICAgICAgICAgICAgICAnY3JpY2tldCB1bmlmb3JtJyxcbiAgICAgICAgICAgICAgICAnZWxlY3Rpb24gYm94JyxcbiAgICAgICAgICAgICAgICAnZXBpc29kZSBsaXN0JyxcbiAgICAgICAgICAgICAgICAnZXh0ZXJuYWwgbXVzaWMgdmlkZW8nLFxuICAgICAgICAgICAgICAgICdleHRyYSBhbGJ1bSBjb3ZlcicsXG4gICAgICAgICAgICAgICAgJ2ZpZWxkIGhvY2tleSBraXQnLFxuICAgICAgICAgICAgICAgICdmb290YmFsbCBib3gnLFxuICAgICAgICAgICAgICAgICdmb290YmFsbCBraXQnLFxuICAgICAgICAgICAgICAgICdmb290YmFsbGJveCcsXG4gICAgICAgICAgICAgICAgJ2hhbmRiYWxsIGtpdCcsXG4gICAgICAgICAgICAgICAgJ2h5YnJpZGJveCcsXG4gICAgICAgICAgICAgICAgJ2ljZWhvY2tleSBraXQnLFxuICAgICAgICAgICAgICAgICdpY2hub2JveCcsXG4gICAgICAgICAgICAgICAgJ2luZm9ib3gnLFxuICAgICAgICAgICAgICAgICdpbmZyYXNwZWNpZXNib3gnLFxuICAgICAgICAgICAgICAgICdqdWRvIGJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICdqdWRvIHJlcGVjaGFnZScsXG4gICAgICAgICAgICAgICAgJ2xpc3RlbicsXG4gICAgICAgICAgICAgICAgJ2xvY2F0aW9uIG1hcCcsXG4gICAgICAgICAgICAgICAgJ21lZGljYWwgcmVzb3VyY2VzJyxcbiAgICAgICAgICAgICAgICAnbW90b3JzcG9ydCBzZWFzb24nLFxuICAgICAgICAgICAgICAgICdtdWx0aXBsZSBpbWFnZScsXG4gICAgICAgICAgICAgICAgJ211c2ljIHJhdGluZ3MnLFxuICAgICAgICAgICAgICAgICdteWNvbW9ycGhib3gnLFxuICAgICAgICAgICAgICAgICduYXZib3gnLFxuICAgICAgICAgICAgICAgICdvb2JveCcsXG4gICAgICAgICAgICAgICAgJ29yYml0Ym94JyxcbiAgICAgICAgICAgICAgICAnb3NtIGxvY2F0aW9uIG1hcCcsXG4gICAgICAgICAgICAgICAgJ3F1b3RlIGJveCcsXG4gICAgICAgICAgICAgICAgJ3JlcGVjaGFnZScsXG4gICAgICAgICAgICAgICAgJ3J1Z2J5Ym94JyxcbiAgICAgICAgICAgICAgICAnc2lkZWJhcicsXG4gICAgICAgICAgICAgICAgJ3NpbmdsZSByYXRpbmdzJyxcbiAgICAgICAgICAgICAgICAnc2luZ2xlcycsXG4gICAgICAgICAgICAgICAgJ3NvbmcgcmF0aW5ncycsXG4gICAgICAgICAgICAgICAgJ3NwZWNpZXNib3gnLFxuICAgICAgICAgICAgICAgICdzdGFyYm94JyxcbiAgICAgICAgICAgICAgICAnc3VjY2Vzc2lvbiBib3gnLFxuICAgICAgICAgICAgICAgICd0YXhvYm94JyxcbiAgICAgICAgICAgICAgICAndGVhbSBicmFja2V0JyxcbiAgICAgICAgICAgICAgICAndHJhY2sgbGlzdGluZycsXG4gICAgICAgICAgICAgICAgJ3R3ZWV0JyxcbiAgICAgICAgICAgICAgICAndmlydXNib3gnLFxuICAgICAgICAgICAgICAgICd2b2xsZXliYWxsIGtpdCcsXG5cbiAgICAgICAgICAgICAgICAvLyBOdW1iZXJlZCBicmFja2V0c1xuICAgICAgICAgICAgICAgICdudGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICcybnRlYW0tbnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnM3RlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnM3RlYW1ycicsXG4gICAgICAgICAgICAgICAgJzR0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzR0ZWFtcnInLFxuICAgICAgICAgICAgICAgICc1dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICc1dGVhbXJyJyxcbiAgICAgICAgICAgICAgICAnNnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnNnRlYW1ycicsXG4gICAgICAgICAgICAgICAgJzd0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzd0ZWFtcnInLFxuICAgICAgICAgICAgICAgICc4dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICc4dGVhbXJvdW5kcm9iaW4nLFxuICAgICAgICAgICAgICAgICc4dGVhbXJyJyxcbiAgICAgICAgICAgICAgICAnOXRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMTB0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzExdGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICcxMnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMTN0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzE0dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICcxNXRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMTZ0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzE4dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICcyMHRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMjR0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzI3dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICczMnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnNDB0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzQ4dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICc2NHRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMTI4dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtGb3JtYXRTdHlsZS5NaW5pbWl6ZWRdOiBbJ2JpcnRoIGRhdGUnLCAnY29vcmQnLCAnZGVhdGggZGF0ZScsICdlbmQgZGF0ZScsICdsYW5nJywgJ3N0YXJ0IGRhdGUnXSxcbiAgICAgICAgICAgIFtGb3JtYXRTdHlsZS5NaW5pbWl6ZWRTcGFjZWRdOiBbJ2luZm9ib3ggbWFwZnJhbWUnXSxcbiAgICAgICAgfTtcblxuICAgICAgICBwcml2YXRlIE5BTUVTUEFDRV9TUEVDSUZJQ19URU1QTEFURVMgPSB7XG4gICAgICAgICAgICBbTmFtZXNwYWNlLkRyYWZ0XTogW1xuICAgICAgICAgICAgICAgICdhZmMgY29tbWVudCcsXG4gICAgICAgICAgICAgICAgJ2FmYyBzdWJtaXNzaW9uJyxcbiAgICAgICAgICAgICAgICAnYWZjIHN1Ym1pc3Npb24vZHJhZnQnLFxuICAgICAgICAgICAgICAgICdhZmMgdG9waWMnLFxuICAgICAgICAgICAgICAgICdkcmFmdCBhcnRpY2xlJyxcbiAgICAgICAgICAgICAgICAnZHJhZnQgY2F0ZWdvcmllcycsXG4gICAgICAgICAgICAgICAgJ2RyYWZ0IHRvcGljcycsXG4gICAgICAgICAgICAgICAgJ2RyYWZ0JyxcbiAgICAgICAgICAgICAgICAnZHJhZnRzIG1vdmVkIGZyb20gbWFpbnNwYWNlJyxcbiAgICAgICAgICAgICAgICAncHJlbG9hZGRyYWZ0IHN1Ym1pdCcsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW05hbWVzcGFjZS5Vc2VyXTogWydkYXNoYm9hcmQud2lraWVkdS5vcmcgc2FuZGJveCcsICd1c2VyIHNhbmRib3gnLCAndXNlcnNwYWNlIGRyYWZ0J10sXG4gICAgICAgIH07XG5cbiAgICAgICAgcHJpdmF0ZSBURU1QTEFURVNfVE9fS0VFUF9DT05URU5UID0gWydkcmFmdCBjYXRlZ29yaWVzJ107XG5cbiAgICAgICAgcHJpdmF0ZSBURU1QTEFURVNfVE9fU1VCU1QgPSBbXG4gICAgICAgICAgICAvLyBNYWdpYyB3b3Jkc1xuICAgICAgICAgICAgJ2FydGljbGVwYWdlbmFtZScsXG4gICAgICAgICAgICAnYXJ0aWNsZXNwYWNlJyxcbiAgICAgICAgICAgICdiYXNlcGFnZW5hbWUnLFxuICAgICAgICAgICAgJ2Z1bGxwYWdlbmFtZScsXG4gICAgICAgICAgICAnbmFtZXNwYWNlJyxcbiAgICAgICAgICAgICduYW1lc3BhY2VudW1iZXInLFxuICAgICAgICAgICAgJ3BhZ2VuYW1lJyxcbiAgICAgICAgICAgICdyb290cGFnZW5hbWUnLFxuICAgICAgICAgICAgJ3N1YmplY3RwYWdlbmFtZScsXG4gICAgICAgICAgICAnc3ViamVjdHNwYWNlJyxcbiAgICAgICAgICAgICdzdWJwYWdlbmFtZScsXG4gICAgICAgICAgICAndGFsa3BhZ2VuYW1lJyxcbiAgICAgICAgICAgICd0YWxrc3BhY2UnLFxuXG4gICAgICAgICAgICAvLyBUZW1wbGF0ZXNcbiAgICAgICAgICAgICdwYWdlbmFtZWJhc2UnLFxuICAgICAgICBdO1xuXG4gICAgICAgIHByaXZhdGUgSU1BR0VfUEFSQU1FVEVSUyA9IG5ldyBTZXQoWydjb3ZlcicsICdpbWFnZV9mbGFnJywgJ2ltYWdlJywgJ2xvZ28nLCAnbWFwX2ltYWdlJ10pO1xuXG4gICAgICAgIHByaXZhdGUgSUdOT1JFRF9JTUFHRV9TWU5UQVggPSBuZXcgU2V0KFtcbiAgICAgICAgICAgIC8vIFR5cGVcbiAgICAgICAgICAgICd0aHVtYicsXG4gICAgICAgICAgICAndGh1bWJuYWlsJyxcbiAgICAgICAgICAgICdmcmFtZScsXG4gICAgICAgICAgICAnZnJhbWVkJyxcbiAgICAgICAgICAgICdmcmFtZWxlc3MnLFxuICAgICAgICAgICAgLy8gQm9yZGVyXG4gICAgICAgICAgICAnYm9yZGVyJyxcbiAgICAgICAgICAgICdyaWdodCcsXG4gICAgICAgICAgICAnbGVmdCcsXG4gICAgICAgICAgICAnY2VudGVyJyxcbiAgICAgICAgICAgICdub25lJyxcbiAgICAgICAgICAgIC8vIEFsaWdubWVudFxuICAgICAgICAgICAgJ2Jhc2VsaW5lJyxcbiAgICAgICAgICAgICdtaWRkbGUnLFxuICAgICAgICAgICAgJ3N1YicsXG4gICAgICAgICAgICAnc3VwZXInLFxuICAgICAgICAgICAgJ3RleHQtdG9wJyxcbiAgICAgICAgICAgICd0ZXh0LWJvdHRvbScsXG4gICAgICAgICAgICAndG9wJyxcbiAgICAgICAgICAgICdib3R0b20nLFxuICAgICAgICBdKTtcblxuICAgICAgICBjb25zdHJ1Y3RvcihzdGFydExvY2F0aW9uOiBudW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMubG9jYXRpb24gPSB7IHN0YXJ0OiBzdGFydExvY2F0aW9uIH07XG5cbiAgICAgICAgICAgIGZvciAobGV0IG51bWJlciA9IDE7IG51bWJlciA8PSAxMDsgbnVtYmVyKyspIHRoaXMuSU1BR0VfUEFSQU1FVEVSUy5hZGQoYGltYWdlJHtudW1iZXJ9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcGFyc2UoKSB7XG4gICAgICAgICAgICB0aGlzLmZ1bGxUZXh0ID0gY29udGVudC5zbGljZSh0aGlzLmxvY2F0aW9uLnN0YXJ0LCB0aGlzLmxvY2F0aW9uLmVuZCk7XG4gICAgICAgICAgICB0aGlzLmZ1bGxUZXh0RXNjYXBlZCA9IHRoaXMuZnVsbFRleHQ7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3Qgc3ViVGVtcGxhdGUgb2YgdGhpcy5zdWJUZW1wbGF0ZXMpIHtcbiAgICAgICAgICAgICAgICBzdWJUZW1wbGF0ZS5wYXJzZSgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5mdWxsVGV4dEVzY2FwZWQgPSB0aGlzLmZ1bGxUZXh0RXNjYXBlZC5yZXBsYWNlKHN1YlRlbXBsYXRlLmZ1bGxUZXh0ISwgdGhpcy5QTEFDRUhPTERFUl9TVFJJTkdTWzBdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHRyaW1tZWRJbm5lclRleHQgPSB0aGlzLmZ1bGxUZXh0RXNjYXBlZC5zbGljZSgyLCAtMikudHJpbSgpO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBpcGVFc2NhcGVSZWdleCBvZiB0aGlzLlBJUEVfRVNDQVBFX1JFR0VYRVMpXG4gICAgICAgICAgICAgICAgd2hpbGUgKHBpcGVFc2NhcGVSZWdleC50ZXN0KHRyaW1tZWRJbm5lclRleHQpKVxuICAgICAgICAgICAgICAgICAgICB0cmltbWVkSW5uZXJUZXh0ID0gdHJpbW1lZElubmVyVGV4dC5yZXBsYWNlQWxsKHBpcGVFc2NhcGVSZWdleCwgYCQxJHt0aGlzLlBMQUNFSE9MREVSX1NUUklOR1NbMV19JDJgKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCByZWdleCBvZiB0aGlzLlRBR19FUVVBTFNfRVNDQVBFX1JFR0VYRVMpXG4gICAgICAgICAgICAgICAgdHJpbW1lZElubmVyVGV4dCA9IHRyaW1tZWRJbm5lclRleHQucmVwbGFjZUFsbChyZWdleCwgKGZ1bGxUZXh0LCB0YWdOYW1lOiBzdHJpbmcsIGF0dHJpYnV0ZXM6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVsbFRleHQucmVwbGFjZShhdHRyaWJ1dGVzLCBhdHRyaWJ1dGVzLnJlcGxhY2VBbGwoJz0nLCB0aGlzLlBMQUNFSE9MREVSX1NUUklOR1NbMl0pKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IHRyaW1tZWRJbm5lclRleHRcbiAgICAgICAgICAgICAgICAuc3BsaXQoJ3wnKVxuICAgICAgICAgICAgICAgIC5tYXAoKHBhcmFtZXRlcikgPT4gcGFyYW1ldGVyLnJlcGxhY2VBbGwodGhpcy5QTEFDRUhPTERFUl9TVFJJTkdTWzFdLCAnfCcpLnRyaW0oKSk7XG5cbiAgICAgICAgICAgIHRoaXMucmF3TmFtZSA9IHBhcmFtZXRlcnMuc2hpZnQoKSE7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLnJhd05hbWUucmVwbGFjZUFsbCgnXycsICcgJyk7XG5cbiAgICAgICAgICAgIC8vIFN0cmlwIG5hbWVzcGFjZSBwcmVmaXggZnJvbSBuYW1lXG4gICAgICAgICAgICBpZiAodGhpcy5uYW1lLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgndGVtcGxhdGU6JykpIHRoaXMubmFtZSA9IHRoaXMubmFtZS5zbGljZSg5KTtcblxuICAgICAgICAgICAgY29uc3QgbmFtZUxvd2VyY2FzZUZpcnN0ID0gdGhpcy5uYW1lLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgdGhpcy5uYW1lLnNsaWNlKDEpO1xuXG4gICAgICAgICAgICAvLyBSZXNvbHZlIHRlbXBsYXRlIGFsaWFzIGluIG5hbWVcbiAgICAgICAgICAgIGlmIChuYW1lTG93ZXJjYXNlRmlyc3QgaW4gdGhpcy5URU1QTEFURV9BTElBU0VTKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNTdGFydExvd2VyID0gdGhpcy5uYW1lLnN0YXJ0c1dpdGgodGhpcy5uYW1lLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IHRoaXMuVEVNUExBVEVfQUxJQVNFU1tuYW1lTG93ZXJjYXNlRmlyc3RdO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbXVzdFN0YXJ0QmVVcHBlcmNhc2UgPVxuICAgICAgICAgICAgICAgICAgICBmaW5hbE5hbWUuc3RhcnRzV2l0aChmaW5hbE5hbWUuc2xpY2UoMCwgMikudG9VcHBlckNhc2UoKSkgJiYgL15bQS1aXSskLy5leGVjKGZpbmFsTmFtZS5zbGljZSgwLCAyKSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm5hbWUgPSBpc1N0YXJ0TG93ZXIgJiYgIW11c3RTdGFydEJlVXBwZXJjYXNlID8gZmluYWxOYW1lLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgZmluYWxOYW1lLnNsaWNlKDEpIDogZmluYWxOYW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzcGxpdFBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzLm1hcCgocGFyYW1ldGVycykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVxdWFsc0xvY2F0aW9uID0gcGFyYW1ldGVycy5pbmRleE9mKCc9Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXF1YWxzTG9jYXRpb24gPT09IC0xKSByZXR1cm4geyBrZXk6IG51bGwsIHZhbHVlOiBwYXJhbWV0ZXJzLnJlcGxhY2VBbGwodGhpcy5QTEFDRUhPTERFUl9TVFJJTkdTWzJdLCAnPScpLnRyaW0oKSB9O1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJhbWV0ZXJzLnNsaWNlKGVxdWFsc0xvY2F0aW9uICsgMSkucmVwbGFjZUFsbCh0aGlzLlBMQUNFSE9MREVSX1NUUklOR1NbMl0sICc9Jyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IHBhcmFtZXRlcnMuc2xpY2UoMCwgZXF1YWxzTG9jYXRpb24pLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGAke3ZhbHVlLnN0YXJ0c1dpdGgoJ1xcbicpID8gJ1xcbicgOiAnJ30ke3ZhbHVlLnRyaW0oKX1gLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gc3BsaXRQYXJhbWV0ZXJzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzaG91bGRCZVJlbW92ZWQoKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtuYW1lc3BhY2UsIHRlbXBsYXRlc10gb2YgT2JqZWN0LmVudHJpZXModGhpcy5OQU1FU1BBQ0VfU1BFQ0lGSUNfVEVNUExBVEVTKSkge1xuICAgICAgICAgICAgICAgIGlmIChtdy5jb25maWcuZ2V0KCd3Z05hbWVzcGFjZU51bWJlcicpID09PSBOdW1iZXIucGFyc2VJbnQobmFtZXNwYWNlKSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBpZiAodGVtcGxhdGVzLmluY2x1ZGVzKHRoaXMubmFtZSEudG9Mb3dlckNhc2UoKSkpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGdldFN0eWxlKCkge1xuICAgICAgICAgICAgbGV0IG1vc3RTcGVjaWZpY0RlZmF1bHRTdHlsZVByZWZpeExlbmd0aCA9IDA7XG4gICAgICAgICAgICBsZXQgbW9zdFNwZWNpZmljRGVmYXVsdFN0eWxlRm9ybWF0U3R5bGU6IEZvcm1hdFN0eWxlIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtmb3JtYXRTdHlsZSwgdGVtcGxhdGVQcmVmaXhlc10gb2YgT2JqZWN0LmVudHJpZXModGhpcy5ERUZBVUxUX1RFTVBMQVRFX1NUWUxFUykpXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0ZW1wbGF0ZVByZWZpeCBvZiB0ZW1wbGF0ZVByZWZpeGVzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWUhLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCh0ZW1wbGF0ZVByZWZpeCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlUHJlZml4Lmxlbmd0aCA+PSBtb3N0U3BlY2lmaWNEZWZhdWx0U3R5bGVQcmVmaXhMZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3N0U3BlY2lmaWNEZWZhdWx0U3R5bGVQcmVmaXhMZW5ndGggPSB0ZW1wbGF0ZVByZWZpeC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3N0U3BlY2lmaWNEZWZhdWx0U3R5bGVGb3JtYXRTdHlsZSA9IE51bWJlci5wYXJzZUludChmb3JtYXRTdHlsZSkgYXMgRm9ybWF0U3R5bGU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG1vc3RTcGVjaWZpY0RlZmF1bHRTdHlsZUZvcm1hdFN0eWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBjbGVhbnVwUGFyYW1ldGVycygpIHtcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHRoaXMucGFyYW1ldGVycy5tYXAoKHsga2V5LCB2YWx1ZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGtleSAmJiB0aGlzLklNQUdFX1BBUkFNRVRFUlMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50cmltKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWVCZWZvcmUgPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgaW1hZ2VQYXJhbWV0ZXJzID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLnN0YXJ0c1dpdGgoJ1tbJykgJiYgdmFsdWUuZW5kc1dpdGgoJ11dJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlUGFyYW1ldGVycyA9IHZhbHVlLnNsaWNlKDIsIC0yKS5zcGxpdCgnfCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGltYWdlUGFyYW1ldGVyc1swXS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL14oRmlsZXxJbWFnZSk6LywgJycpLnJlcGxhY2VBbGwoJ18nLCAnICcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZGl0aW9uYWxEYXRhID0gdmFsdWVCZWZvcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zbGljZSgyLCAtMilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnfCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKHBhcmFtZXRlcikgPT4gcGFyYW1ldGVyLnRyaW0oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHBhcmFtZXRlcikgPT4gIXRoaXMuSUdOT1JFRF9JTUFHRV9TWU5UQVguaGFzKHBhcmFtZXRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAuam9pbignfCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhZGRpdGlvbmFsRGF0YS5sZW5ndGggPiAwKSB2YWx1ZSArPSBgIDwhLS0gUHJldmlvdXMgYWRkaXRpb25hbCBkYXRhOiBcIiR7YWRkaXRpb25hbERhdGF9XCIgLS0+YDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4geyBrZXksIHZhbHVlIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmb3JtYXQoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZnVsbFRleHQpIHRoaXMucGFyc2UoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvdWxkQmVSZW1vdmVkKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuVEVNUExBVEVTX1RPX0tFRVBfQ09OVEVOVC5pbmNsdWRlcyh0aGlzLm5hbWUhLnRvTG93ZXJDYXNlKCkpID8gdGhpcy5wYXJhbWV0ZXJzWzBdLnZhbHVlIDogJyc7XG5cbiAgICAgICAgICAgIGNvbnN0IHNob3VsZFN1YnN0ID1cbiAgICAgICAgICAgICAgICBtdy5jb25maWcuZ2V0KCd3Z05hbWVzcGFjZU51bWJlcicpICE9PSAoTmFtZXNwYWNlLlRlbXBsYXRlIGFzIG51bWJlcikgJiZcbiAgICAgICAgICAgICAgICB0aGlzLlRFTVBMQVRFU19UT19TVUJTVC5zb21lKFxuICAgICAgICAgICAgICAgICAgICAobmFtZSkgPT4gbmFtZSA9PT0gdGhpcy5uYW1lIS50b0xvd2VyQ2FzZSgpIHx8IHRoaXMubmFtZSEudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKGAke25hbWV9OmApLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nZXRTdHlsZSgpO1xuICAgICAgICAgICAgaWYgKHN0eWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV3TmFtZSA9IHRoaXMubmFtZSE7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubmFtZSEudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCd0ZW1wbGF0ZTonKSkgbmV3TmFtZSA9IHRoaXMubmFtZSEuc2xpY2UoOSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkU3Vic3QpIG5ld05hbWUgPSBgc3Vic3Q6JHtuZXdOYW1lfWA7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV3TmFtZSAhPT0gdGhpcy5yYXdOYW1lISkgdGhpcy5mdWxsVGV4dEVzY2FwZWQgPSB0aGlzLmZ1bGxUZXh0RXNjYXBlZCEucmVwbGFjZSh0aGlzLnJhd05hbWUhLCBuZXdOYW1lKTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3ViVGVtcGxhdGUgb2YgdGhpcy5zdWJUZW1wbGF0ZXMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnVsbFRleHRFc2NhcGVkID0gdGhpcy5mdWxsVGV4dEVzY2FwZWQhLnJlcGxhY2UodGhpcy5QTEFDRUhPTERFUl9TVFJJTkdTWzBdLCBzdWJUZW1wbGF0ZS5mb3JtYXQoKSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mdWxsVGV4dEVzY2FwZWQhO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBvdXRwdXQgPSBbYHt7JHtzaG91bGRTdWJzdCA/ICdzdWJzdDonIDogJyd9JHt0aGlzLm5hbWUhfWBdO1xuXG4gICAgICAgICAgICB0aGlzLmNsZWFudXBQYXJhbWV0ZXJzKCk7XG5cbiAgICAgICAgICAgIGlmIChzdHlsZSA9PT0gRm9ybWF0U3R5bGUuRXhwYW5kZWQgfHwgc3R5bGUgPT09IEZvcm1hdFN0eWxlLkV4cGFuZGVkQWxpZ25lZCkge1xuICAgICAgICAgICAgICAgIGxldCByZXF1aXJlZEtleUxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUgPT09IEZvcm1hdFN0eWxlLkV4cGFuZGVkQWxpZ25lZClcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRLZXlMZW5ndGggPSBNYXRoLm1heCguLi50aGlzLnBhcmFtZXRlcnMubWFwKChwYXJhbWV0ZXIpID0+IHBhcmFtZXRlci5rZXk/Lmxlbmd0aCA/PyAwKSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtpbmRleCwgcGFyYW1ldGVyXSBvZiB0aGlzLnBhcmFtZXRlcnMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICFwYXJhbWV0ZXIua2V5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhcGFyYW1ldGVyLnZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2xpY2UoaW5kZXggKyAxKS5ldmVyeSgocGFyYW1ldGVyKSA9PiBwYXJhbWV0ZXIua2V5ID8/ICFwYXJhbWV0ZXIudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKGB8ICR7cGFyYW1ldGVyLmtleSA/IGAke3BhcmFtZXRlci5rZXkucGFkRW5kKHJlcXVpcmVkS2V5TGVuZ3RoKX0gPSBgIDogJyd9JHtwYXJhbWV0ZXIudmFsdWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIHBhcmFtZXRlcl0gb2YgdGhpcy5wYXJhbWV0ZXJzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAhcGFyYW1ldGVyLnZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAocGFyYW1ldGVyLmtleSB8fCB0aGlzLnBhcmFtZXRlcnMuc2xpY2UoaW5kZXggKyAxKS5ldmVyeSgocGFyYW1ldGVyKSA9PiBwYXJhbWV0ZXIua2V5ID8/ICFwYXJhbWV0ZXIudmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChgfCR7cGFyYW1ldGVyLmtleSA/IGAke3BhcmFtZXRlci5rZXl9PWAgOiAnJ30ke3BhcmFtZXRlci52YWx1ZX1gKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG91dHB1dC5wdXNoKCd9fScpO1xuXG4gICAgICAgICAgICBpZiAob3V0cHV0Lmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIG91dHB1dFswXSArPSAnfX0nO1xuXG4gICAgICAgICAgICAgICAgb3V0cHV0LnBvcCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHlsZSA9PT0gRm9ybWF0U3R5bGUuTWluaW1pemVkU3BhY2VkKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W291dHB1dC5sZW5ndGggLSAyXSArPSAnfX0nO1xuXG4gICAgICAgICAgICAgICAgb3V0cHV0LnBvcCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgam9pbmVkT3V0cHV0ID0gb3V0cHV0LmpvaW4oXG4gICAgICAgICAgICAgICAgc3R5bGUgPT09IEZvcm1hdFN0eWxlLkV4cGFuZGVkIHx8IHN0eWxlID09PSBGb3JtYXRTdHlsZS5FeHBhbmRlZEFsaWduZWRcbiAgICAgICAgICAgICAgICAgICAgPyAnXFxuJ1xuICAgICAgICAgICAgICAgICAgICA6IHN0eWxlID09PSBGb3JtYXRTdHlsZS5NaW5pbWl6ZWRTcGFjZWRcbiAgICAgICAgICAgICAgICAgICAgICA/ICcgJ1xuICAgICAgICAgICAgICAgICAgICAgIDogJycsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN1YlRlbXBsYXRlIG9mIHRoaXMuc3ViVGVtcGxhdGVzKVxuICAgICAgICAgICAgICAgIGpvaW5lZE91dHB1dCA9IGpvaW5lZE91dHB1dC5yZXBsYWNlKHRoaXMuUExBQ0VIT0xERVJfU1RSSU5HU1swXSwgc3ViVGVtcGxhdGUuZm9ybWF0KCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gam9pbmVkT3V0cHV0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYWxsVGVtcGxhdGVzOiBUZW1wbGF0ZVtdID0gW107XG5cbiAgICBjb25zdCBpbnNpZGVUZW1wbGF0ZXM6IFRlbXBsYXRlW10gPSBbXTtcbiAgICBsZXQgaXNJbnNpZGVMaW5rID0gZmFsc2U7XG4gICAgbGV0IGlzSW5zaWRlTm93aWtpID0gZmFsc2U7XG4gICAgbGV0IGlzSW5zaWRlQ29tbWVudCA9IGZhbHNlO1xuXG4gICAgbGV0IGN1cnJlbnRMb2NhdGlvbiA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGNvbnRlbnQgZm9sbG93aW5nIHRoZSBjdXJyZW50IGxvY2F0aW9uIG1hdGNoZXMgdGhlIGRlc2lyZWQgc3RyaW5nLlxuICAgICAqIEBwYXJhbSBkZXNpcmVkU3RyaW5nIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0F0U3RyaW5nKGRlc2lyZWRTdHJpbmc6IHN0cmluZykge1xuICAgICAgICBjb25zdCBpc0F0U3RyaW5nID0gY29udGVudC5zbGljZShjdXJyZW50TG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbiArIGRlc2lyZWRTdHJpbmcubGVuZ3RoKSA9PT0gZGVzaXJlZFN0cmluZztcblxuICAgICAgICBpZiAoaXNBdFN0cmluZykgY3VycmVudExvY2F0aW9uICs9IGRlc2lyZWRTdHJpbmcubGVuZ3RoO1xuXG4gICAgICAgIHJldHVybiBpc0F0U3RyaW5nO1xuICAgIH1cblxuICAgIHdoaWxlIChjdXJyZW50TG9jYXRpb24gPCBjb250ZW50Lmxlbmd0aClcbiAgICAgICAgaWYgKGlzQXRTdHJpbmcoJzxub3dpa2k+JykpIGlzSW5zaWRlTm93aWtpID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnPC9ub3dpa2k+JykpIGlzSW5zaWRlTm93aWtpID0gZmFsc2U7XG4gICAgICAgIGVsc2UgaWYgKGlzQXRTdHJpbmcoJzwhLS0nKSkgaXNJbnNpZGVDb21tZW50ID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnLS0+JykpIGlzSW5zaWRlQ29tbWVudCA9IGZhbHNlO1xuICAgICAgICBlbHNlIGlmICghaXNJbnNpZGVOb3dpa2kgJiYgIWlzSW5zaWRlQ29tbWVudClcbiAgICAgICAgICAgIGlmIChpc0F0U3RyaW5nKCdbWycpKSBpc0luc2lkZUxpbmsgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNJbnNpZGVMaW5rICYmIGlzQXRTdHJpbmcoJ11dJykpIGlzSW5zaWRlTGluayA9IGZhbHNlO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygne3snKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKGN1cnJlbnRMb2NhdGlvbiAtIDIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluc2lkZVRlbXBsYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlLmlzTmVzdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaW5zaWRlVGVtcGxhdGVzLmF0KC0xKT8uc3ViVGVtcGxhdGVzLnB1c2godGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGluc2lkZVRlbXBsYXRlcy5wdXNoKHRlbXBsYXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBdFN0cmluZygnfX0nKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RUZW1wbGF0ZSA9IGluc2lkZVRlbXBsYXRlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWxhc3RUZW1wbGF0ZSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBsYXN0VGVtcGxhdGUubG9jYXRpb24uZW5kID0gY3VycmVudExvY2F0aW9uO1xuXG4gICAgICAgICAgICAgICAgYWxsVGVtcGxhdGVzLnB1c2gobGFzdFRlbXBsYXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSBjdXJyZW50TG9jYXRpb24rKztcbiAgICAgICAgZWxzZSBjdXJyZW50TG9jYXRpb24rKztcblxuICAgIGxldCBuZXdDb250ZW50ID0gY29udGVudDtcblxuICAgIGZvciAoY29uc3QgdGVtcGxhdGUgb2YgYWxsVGVtcGxhdGVzKVxuICAgICAgICBpZiAoIXRlbXBsYXRlLmlzTmVzdGVkKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZS5wYXJzZSgpO1xuXG4gICAgICAgICAgICBuZXdDb250ZW50ID0gbmV3Q29udGVudC5yZXBsYWNlKHRlbXBsYXRlLmZ1bGxUZXh0ISwgdGVtcGxhdGUuZm9ybWF0KCkpO1xuICAgICAgICB9XG5cbiAgICByZXR1cm4gbmV3Q29udGVudDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHVubmVjZXNzYXJ5IGNvbW1lbnRzIGZyb20gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICovXG5mdW5jdGlvbiByZW1vdmVDb21tZW50cyhjb250ZW50OiBzdHJpbmcpIHtcbiAgICBpZiAobXcuY29uZmlnLmdldCgnd2dOYW1lc3BhY2VOdW1iZXInKSAhPT0gMCkgcmV0dXJuIGNvbnRlbnQ7XG5cbiAgICBjb25zdCBDT01NRU5UU19UT19SRU1PVkUgPSBbXG4gICAgICAgICdEbyBub3QgcmVtb3ZlIHRoaXMgbGluZScsXG4gICAgICAgICdFRElUIEJFTE9XIFRISVMgTElORScsXG4gICAgICAgICdJbXBvcnRhbnQsIGRvIG5vdCByZW1vdmUgYW55dGhpbmcgYWJvdmUgdGhpcyBsaW5lIGJlZm9yZSBhcnRpY2xlIGhhcyBiZWVuIGNyZWF0ZWQnLFxuICAgICAgICAnSW1wb3J0YW50LCBkbyBub3QgcmVtb3ZlIHRoaXMgbGluZSBiZWZvcmUgYXJ0aWNsZSBoYXMgYmVlbiBjcmVhdGVkJyxcbiAgICAgICAgJ0lubGluZSBjaXRhdGlvbnMgYWRkZWQgdG8geW91ciBhcnRpY2xlIHdpbGwgYXV0b21hdGljYWxseSBkaXNwbGF5IGhlcmUnLFxuICAgICAgICAnTm90ZTogVGhlIGZvbGxvd2luZyBwYWdlcyB3ZXJlIHJlZGlyZWN0cyB0byAnLFxuICAgIF07XG5cbiAgICBmb3IgKGNvbnN0IGNvbW1lbnQgb2YgQ09NTUVOVFNfVE9fUkVNT1ZFKVxuICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKG5ldyBSZWdFeHAoYCAqPCEtLSA/JHtlc2NhcGVSZWdleENoYXJhY3RlcnMoY29tbWVudCl9Lio/LS0+ICpcXG4/YCwgJ2dzJyksICcnKTtcblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIEFkZHMgcmVsZXZhbnQgdGFncyB0byBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gYWRkIHRhZ3MgdG8uXG4gKi9cbmZ1bmN0aW9uIGF1dG9UYWdQYWdlKGNvbnRlbnQ6IHN0cmluZykge1xuICAgIGlmIChtdy5jb25maWcuZ2V0KCd3Z05hbWVzcGFjZU51bWJlcicpICE9PSAwKSByZXR1cm4gY29udGVudDtcblxuICAgIGNvbnN0IG51bWJlck9mQ2F0ZWdvcmllcyA9IFsuLi5jb250ZW50Lm1hdGNoQWxsKC9cXFtcXFtDYXRlZ29yeTovZyldLmxlbmd0aDtcblxuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoL1xcbip7eyh1bmNhdGVnb3JpemVkfGltcHJvdmUgY2F0ZWdvcmllcykoXFx8Lis/KT99fSh7e3xcXG4rfCQpL2dpLCAnJyk7XG5cbiAgICBpZiAobnVtYmVyT2ZDYXRlZ29yaWVzID09PSAwICYmICEve3t1bmNhdGVnb3JpemVkL2kudGVzdChjb250ZW50KSlcbiAgICAgICAgY29udGVudCArPSAnXFxuXFxue3tVbmNhdGVnb3JpemVkfHt7c3Vic3Q6Q1VSUkVOVE1PTlRITkFNRX19IHt7c3Vic3Q6Q1VSUkVOVFlFQVJ9fX19JztcbiAgICBlbHNlIGlmIChudW1iZXJPZkNhdGVnb3JpZXMgPT09IDEgJiYgIS97e2ltcHJvdmUgY2F0ZWdvcmllcy9pLnRlc3QoY29udGVudCkpXG4gICAgICAgIGNvbnRlbnQgKz0gJ1xcblxcbnt7SW1wcm92ZSBjYXRlZ29yaWVzfHt7c3Vic3Q6Q1VSUkVOVE1PTlRITkFNRX19IHt7c3Vic3Q6Q1VSUkVOVFlFQVJ9fX19JztcblxuICAgIHJldHVybiBjb250ZW50O1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7O21CQUdPLElBQU1BLEVBQU0sSUFBSSxHQUFHLElBTTFCLGVBQXNCQyxFQUFlQyxFQUFlLENBQ2hELE9BQ0ssTUFBTUYsRUFBSSxJQUFJLENBQ1gsT0FBUSxRQUNSLGNBQWUsSUFDZixLQUFNLFlBQ04sT0FBUSxVQUNSLFFBQVMsT0FDVCxPQUFRRSxDQUNaLENBQW1DLEdBQ3JDLE1BQU0sTUFBTSxDQUFDLEVBQUUsWUFBWSxDQUFDLEVBQUUsTUFBTSxLQUFLLFFBQVEsS0FBSyxDQUM1RCxFQ2dCQyxJQUFNLENBRUgsR0FESSxHQUFHLE9BQU8sSUFBSSxtQkFBbUIsRUFBSSxHQUNyQyxDQUFDLEdBQUcsT0FBTyxJQUFJLHNCQUFzQixFQUFHLE9BRTVD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VkEsRUFBUyxNQUFNLEVBRWZFLEVBQWFBLEVBQVcsUUFBUUYsRUFBUyxTQUFXQSxFQUFTLE9BQU8sQ0FBQyxHQUc3RSxPQUFPRSxDQUNYLENBTUEsU0FBUzNJLEVBQWVNLEVBQWlCLENBQ3JDLEdBQUksR0FBRyxPQUFPLElBQUksbUJBQW1CLElBQU0sRUFBRyxPQUFPQSxFQUVyRCxJQUFNc0ksRUFBcUIsQ0FDdkIsMEJBQ0EsdUJBQ0Esb0ZBQ0EscUVBQ0EseUVBQ0EsOENBQ0osRUFFQSxRQUFXQyxLQUFXRCxFQUNsQnRJLEVBQVVBLEVBQVEsV0FBVyxJQUFJLE9BQU8sV0FBV0MsRUFBc0JzSSxDQUFPLENBQUM7QUFBQSxHQUFlLElBQUksRUFBRyxFQUFFLEVBRTdHLE9BQU92SSxDQUNYLENBTUEsU0FBU0wsRUFBWUssRUFBaUIsQ0FDbEMsR0FBSSxHQUFHLE9BQU8sSUFBSSxtQkFBbUIsSUFBTSxFQUFHLE9BQU9BLEVBRXJELElBQU13SSxFQUFxQixDQUFDLEdBQUd4SSxFQUFRLFNBQVMsZ0JBQWdCLENBQUMsRUFBRSxPQUVuRSxPQUFBQSxFQUFVQSxFQUFRLFdBQVcsZ0VBQWlFLEVBQUUsRUFFNUZ3SSxJQUF1QixHQUFLLENBQUMsbUJBQW1CLEtBQUt4SSxDQUFPLEVBQzVEQSxHQUFXO0FBQUE7QUFBQSxvRUFDTndJLElBQXVCLEdBQUssQ0FBQyx3QkFBd0IsS0FBS3hJLENBQU8sSUFDdEVBLEdBQVc7QUFBQTtBQUFBLDBFQUVSQSxDQUNYIiwKICAibmFtZXMiOiBbImFwaSIsICJnZXRQYWdlQ29udGVudCIsICJ0aXRsZSIsICJkZXBlbmRlbmNpZXMiLCAic2hvdWxkQWRkU2NyaXB0TWVzc2FnZSIsICJTQ1JJUFRfTUVTU0FHRSIsICJ1cGRhdGVTdW1tYXJ5IiwgInRleHRhcmVhIiwgImhhbmRsZUFjdGl2YXRpb24iLCAiZXZlbnQiLCAiZWRpdG9yIiwgIm9yaWdpbmFsVGV4dCIsICJmaW5hbFRleHQiLCAiY2xlYW51cFN0cmF5VW5pY29kZUNoYXJhY3RlcnMiLCAiY2xlYW51cFNlY3Rpb25IZWFkZXJzIiwgImNsZWFudXBNYWdpY1dvcmRzIiwgImNsZWFudXBEaXNwbGF5dGl0bGVzQW5kRGVmYXVsdHNvcnRzIiwgImNsZWFudXBDYXRlZ29yaWVzIiwgImNsZWFudXBMaW5rcyIsICJjbGVhbnVwSW1wcm9wZXJDaGFyYWN0ZXJzIiwgImNsZWFudXBZZWFyUmFuZ2VzIiwgImNsZWFudXBTdHJheU1hcmt1cCIsICJjbGVhbnVwU3BhY2luZyIsICJjbGVhbnVwUmVmZXJlbmNlcyIsICJmb3JtYXRUZW1wbGF0ZXMiLCAicmVtb3ZlQ29tbWVudHMiLCAiYXV0b1RhZ1BhZ2UiLCAic3VyZmFjZU1vZGVsIiwgInN1bW1hcnlJbnB1dCIsICJoZWFkZXJTd2l0Y2hlciIsICJidXR0b24iLCAiY29udGVudCIsICJlc2NhcGVSZWdleENoYXJhY3RlcnMiLCAic3RyaW5nIiwgIlNUUkFZX1VOSUNPREVfUkVHRVgiLCAiQ09NTU9OX1JFUExBQ0VNRU5UUyIsICJDT01NT05fTUlTQ0FQSVRBTElaRURfV09SRFMiLCAicmV2ZXJzZUNvbW1vblJlcGxhY2VtZW50cyIsICJrZXkiLCAidmFsdWVzIiwgInZhbHVlIiwgInBhcnNlZEhlYWRlcnMiLCAiaGVhZGVyIiwgIm5hbWUiLCAic3RhcnRNYXJrdXAiLCAiZW5kTWFya3VwIiwgImxpbmtzIiwgImxpbmsiLCAiZGVwdGgiLCAiaGVhZGVyc1NldCIsICJ0aXRsZVNwYWNlciIsICJsb3dlcmNhc2VOYW1lIiwgImNhcGl0YWxpemVkTmFtZSIsICJ3b3JkIiwgIm91dHB1dCIsICJwYXJzZWRUYWdzIiwgInRhZyIsICJmdWxsVGFnIiwgInR5cGUiLCAiY3VycmVudFRpdGxlIiwgIm9yaWdpbmFsVGFnUmVnZXgiLCAidW5wcmVmaXhlZFRpdGxlIiwgInRpdGxlIiwgImRlZmF1bHRLZXkiLCAiY3VzdG9tS2V5IiwgIm5ld1RleHQiLCAiZnVuY3Rpb25zQ2FsbGVkV2hpbGVFc2NhcGVkIiwgImNsb3NlZExpbmtzIiwgImlzSW5zaWRlTm93aWtpIiwgImlzSW5zaWRlQ29tbWVudCIsICJjdXJyZW50TG9jYXRpb24iLCAiaXNBdFN0cmluZyIsICJkZXNpcmVkU3RyaW5nIiwgInNob3VsZEluY3JlbWVudCIsICJsYXN0TGluayIsICJuZXdMaW5rQ29udGVudCIsICJuYW1lc3BhY2VOYW1lcyIsICJsaW5rTG9jYXRpb24iLCAiaW5uZXJMaW5rIiwgInVucGFyc2VkTGluayIsICJwYXJhbWV0ZXJzIiwgImFsdFRleHQiLCAiaXNGaXJzdENoYXJhY3RlckNvbG9uIiwgInNob3VsZEZpcnN0Q2hhcmFjdGVyQmVDb2xvbiIsICJsaW5rVXBwZXJjYXNlU3RhcnQiLCAibGlua0xvd2VyY2FzZVN0YXJ0IiwgIm5hbWVzcGFjZSIsICJiZWZvcmVMaW5rVGV4dCIsICJhZnRlckxpbmtUZXh0IiwgIm1hdGNoZWRNYXJrdXAiLCAiYWRkZWRQdW5jdHVhdGlvbiIsICJuZXdMaW5rIiwgImZ1bmN0aW9uVG9DYWxsIiwgImxvb3BDb3VudGVyIiwgImxpbmtEYXRhIiwgImxpbmtDb250ZW50IiwgInJ1biIsICJFTElQU0lTX1BMQUNFSE9MREVSIiwgIk5CU1BfUExBQ0VIT0xERVIiLCAib3JpZ2luYWwiLCAic3RhcnQiLCAiZW5kIiwgIlNUUkFZX01BUktVUF9SRUdFWEVTIiwgInJlZ2V4IiwgInNlY29uZFJ1biIsICJQTEFDRUhPTERFUiIsICJUQUdTX1RPX0lHTk9SRSIsICJpZ25vcmVkVGFnc0NvbnRlbnQiLCAiZnVsbE1hdGNoIiwgInN0YXJ0VGFnIiwgInRhZ05hbWUiLCAiaW5uZXJDb250ZW50IiwgImVuZFRhZyIsICJ0YWdDb250ZW50IiwgInJlZmVyZW5jZVRhZyIsICJwdW5jdHVhdGlvbiIsICJyZWZlcmVuY2VzIiwgInByb2NlZWRVbnRpbFN0cmluZyIsICJpc1NlbGZDbG9zaW5nIiwgInBhcnNlciIsICJyZXBsYWNlbWVudHMiLCAicmVmZXJlbmNlIiwgInRlbXBsYXRlQWxpYXNlcyIsICJGb3JtYXRTdHlsZSIsICJOYW1lc3BhY2UiLCAiZ2V0UGFnZUNvbnRlbnQiLCAibWFwcGVkVGVtcGxhdGVBbGlhc2VzIiwgImFsaWFzIiwgImZyb20iLCAiVGVtcGxhdGUiLCAic3RhcnRMb2NhdGlvbiIsICJudW1iZXIiLCAic3ViVGVtcGxhdGUiLCAidHJpbW1lZElubmVyVGV4dCIsICJwaXBlRXNjYXBlUmVnZXgiLCAiZnVsbFRleHQiLCAiYXR0cmlidXRlcyIsICJwYXJhbWV0ZXIiLCAibmFtZUxvd2VyY2FzZUZpcnN0IiwgImlzU3RhcnRMb3dlciIsICJmaW5hbE5hbWUiLCAibXVzdFN0YXJ0QmVVcHBlcmNhc2UiLCAic3BsaXRQYXJhbWV0ZXJzIiwgImVxdWFsc0xvY2F0aW9uIiwgInRlbXBsYXRlcyIsICJtb3N0U3BlY2lmaWNEZWZhdWx0U3R5bGVQcmVmaXhMZW5ndGgiLCAibW9zdFNwZWNpZmljRGVmYXVsdFN0eWxlRm9ybWF0U3R5bGUiLCAiZm9ybWF0U3R5bGUiLCAidGVtcGxhdGVQcmVmaXhlcyIsICJ0ZW1wbGF0ZVByZWZpeCIsICJ2YWx1ZUJlZm9yZSIsICJpbWFnZVBhcmFtZXRlcnMiLCAiYWRkaXRpb25hbERhdGEiLCAic2hvdWxkU3Vic3QiLCAic3R5bGUiLCAibmV3TmFtZSIsICJyZXF1aXJlZEtleUxlbmd0aCIsICJpbmRleCIsICJqb2luZWRPdXRwdXQiLCAiYWxsVGVtcGxhdGVzIiwgImluc2lkZVRlbXBsYXRlcyIsICJpc0luc2lkZUxpbmsiLCAidGVtcGxhdGUiLCAibGFzdFRlbXBsYXRlIiwgIm5ld0NvbnRlbnQiLCAiQ09NTUVOVFNfVE9fUkVNT1ZFIiwgImNvbW1lbnQiLCAibnVtYmVyT2ZDYXRlZ29yaWVzIl0KfQo=
