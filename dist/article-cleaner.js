// <nowiki>
// Note: This script was compiled and minified from TypeScript. For a more readable version, see https://github.com/Eejit43/wikipedia-scripts/blob/main/scripts/article-cleaner.ts

"use strict";(()=>{mw.config.get("wgNamespaceNumber")<0||mw.config.get("wgIsProbablyEditable")&&mw.loader.using(["mediawiki.util","jquery.textSelection"],()=>{mw.util.addCSS(`
#article-cleaner {
    display: none;
}

#content:has(#wpTextbox1) #article-cleaner {
    display: unset;
}`);let e=mw.util.addPortletLink(mw.config.get("skin")==="minerva"?"p-navigation":"p-cactions","#","Perform article cleanup","article-cleaner"),f=!1,a="Cleaned up article content (via [[User:Eejit43/scripts/article-cleaner|article-cleaner]])";mw.hook("ve.saveDialog.stateChanged").add(()=>{if(f){let u=document.querySelector(".ve-ui-mwSaveDialog-summary textarea");u.value.includes(a.slice(1))||(u.value?u.value+=`; ${a.charAt(0).toLowerCase()+a.slice(1)}`:u.value=a),f=!1}}),e.addEventListener("click",u=>{u.preventDefault();let p=$("#wpTextbox1");if(p.length===0)return mw.notify("Edit box not found!",{type:"error",autoHideSeconds:"short"});let g=p.textSelection("getContents"),i=g;if(i=C(i),i=A(i),i=y(i),i=v(i),i=E(i,[L]),i=I(i),i=N(i),i=M(i),i=R(i),g===i)mw.notify("No changes to be made to the article!",{type:"warn",autoHideSeconds:"short"});else{if(ve.init){let t=ve.init.target.getSurface().getModel();t.getLinearFragment(t.getRangeFromSourceOffsets(0,g.length)).insertContent(i),t.setSelection(new ve.dm.LinearSelection(new ve.Range(0,0)))}else p.textSelection("setContents",i),p.textSelection("setSelection",{start:0});mw.notify("Article cleanup complete!",{type:"success",autoHideSeconds:"short"});let l=document.querySelector("#wpSummary");l?l.value.includes(a.slice(1))||(l.value?l.value+=`; ${a.charAt(0).toLowerCase()+a.slice(1)}`:l.value=a):f=!0}})});function b(e){return e.replaceAll(/[$()*+.?[\\\]^{|}]/g,"\\$&")}function C(e){let f={"See also":["also see"],References:["reference","source","sources","citation","citations"],"Further reading":["further reading"],"External links":["external link","weblink","weblinks"]},a=["life","career"],u=Object.fromEntries(Object.entries(f).flatMap(([l,t])=>t.map(r=>[r,l]))),g=[...e.matchAll(/\n+(?<startMarkup>=+) *(?<name>.*?) *(?<endMarkup>=+)\n+/g)].map(l=>{let{name:t}=l.groups,{startMarkup:r,endMarkup:m}=l.groups;t=t.replaceAll(/'{3}/g,"");let c=t.matchAll(/\[\[(.+?)]]/g).toArray();for(let n of c)t=t.replace(n[0],n[1].split("|").at(-1));let s=Math.max(r.length,m.length,2);return{name:t,depth:s,original:l[0]}}),i=/^\n+=+ | =+\n+$/.test(g[0].original)?" ":"";for(let l of g){let r=l.name.toLowerCase()in u?u[l.name.toLowerCase()]:l.name;for(let c of a)r=r.replaceAll(new RegExp(`\\b${c}\\b`,"gi"),c);r=r.charAt(0).toUpperCase()+r.slice(1);let m=`${"=".repeat(l.depth)}${i}${r}${i}${"=".repeat(l.depth)}`;l.original!==m&&(e=e.replace(l.original,`

${m}
`))}return e}function A(e){return e.replaceAll(/__(INDEX|NOINDEX|NEWSECTIONLINK|NONEWSECTIONLINK|NOEDITSECTION|DISAMBIG|STATICREDIRECT|FORCETOC)__\n*/g,"")}function y(e){let a=[...e.matchAll(/{{(displaytitle|defaultsort)[:|](.*?)}}/gi)].map(p=>{let[g,i,l]=p;return{type:i.toUpperCase(),value:l,original:g}}),u=mw.Title.newFromText(mw.config.get("wgPageName"));for(let p of a){let g=new RegExp(`${b(p.original)}
*`,"g"),i=mw.Title.makeTitle(u.getNamespaceId(),p.value.includes(":")?p.value.split(":")[1]:p.value);if(u.toText()===i.toText()){e=e.replace(g,"");continue}let l=`{{${p.type}:${i.toText()}}}
`;e=e.replace(g,l)}return e}function v(e){return e.replaceAll(/(\[\[|}}):?category:(.*?)(]]|}})/gi,`[[${mw.config.get("wgCanonicalNamespace")==="Draft"?":":""}Category:$2]]`)}function E(e,f){let a=[],u=[],p=0;function g(t,r=!0){let m=e.slice(p,p+t.length)===t;return m&&r&&(p+=t.length),m}for(;p<e.length;)if(g("[["))u.push({start:p-2,end:-1,isNested:u.length>0});else if(g("]]")){let t=u.pop();if(!t)continue;t.end=p,a.push(t)}else p++;let i=[],l=Object.values(mw.config.get("wgFormattedNamespaces"));for(let t of a){let r=e.slice(t.start+2,t.end-2),[m,...c]=r.split("|");e=e.slice(0,t.start+2)+"\0".repeat(m.length)+e.slice(t.start+2+m.length);let s=m.replaceAll("_"," ").trim(),n=c.join("|");n=n===" "?" ":n.trim();let h=s.startsWith(":");h&&(s=s.slice(1));let o=!1,d=s.charAt(0).toUpperCase()+s.slice(1),T=s.charAt(0).toLowerCase()+s.slice(1);s.includes(":")&&(d.startsWith("Image:")&&(s=`${s.startsWith("Image:")?"F":"f"}ile:${s.slice(6)}`),h&&["Image","File","Category"].includes(d.split(":")[0])&&(o=!0));let w="";s===n?n="":new RegExp(`^${b(s)}[a-z]+$`).test(n)&&(w=n.slice(s.length),n="");for(let x of[d,T])x===n?(s=x,n=""):new RegExp(`^${b(x)}[a-z]+$`).test(n)&&(s=x,w=n.slice(x.length),n="");let S=s.split(":")[0];S=S.charAt(0).toUpperCase()+S.slice(1),(n&&s.includes(":")&&l.includes(S)||s.startsWith("file:")||s.startsWith("category:"))&&(s=s.charAt(0).toUpperCase()+s.slice(1));let k=`[[${o?":":""}${s}${n?`|${n}`:""}]]${w}`;i.push([t,k])}for(let t of f)e=t(e,1);for(let t=0;t<2;t++)for(let[r,m]of i)t===0&&r.isNested||t===1&&!r.isNested||(e=e.slice(0,r.start)+m.padStart(r.end-r.start,"\0")+e.slice(r.end));for(let t of f)e=t(e,2);return e.replaceAll("\0","")}function L(e,f){let a="\x7F",u="\x9F";return f===1?(e=e.replaceAll(/[“”]/g,'"'),e=e.replaceAll(/[‘’]/g,"'"),e=e.replaceAll("\u2026",a),e=e.replaceAll("\xA0",u)):(e=e.replaceAll(a,"..."),e=e.replaceAll(u,"&nbsp;")),e}function I(e){let f=[/'+(Bold|Italic)( text)?'+ */g,/(<big>)+Big( text)?(<\/big>)+ */g,/(<small>)+Small( text)?(<\/small>)+ */g,/(<sup>)+Superscript( text)?(<\/sup>)+ */g,/(<sub>)+Subscript( text)?(<\/sub>)+ */g,/(<s>)+Strikethrough(<\/s>)+ */g,/(<u>)+Underline(<\/u>)+ */g,/(<code>)+Computer code(<\/code>)+ */g,/(<nowiki>)+Insert non-formatted text here(<\/nowiki>)+ */g,/=+ Heading text =+ */g,/\* Bulleted list item */g,/# Numbered list item */g,/<gallery>\nExample.jpg\|Caption1\nExample.jpg\|Caption2\n<\/gallery> */g,/#REDIRECT \[\[Target page name]] */g,/<!-- Invisible comment --> */g,/<noinclude>\s*<\/noinclude> */g];for(let a of f)for(;a.test(e);)e=e.replace(a,"");return e}function N(e){return e=e.replaceAll(/(\b|\p{Punctuation}|\]\]|\}\}) {2,}(\b|\p{Punctuation}|\[\[|\{\{)/gu,"$1 $2"),e=e.replaceAll(/^ +| +$/gm,""),e=e.replaceAll(/\n{3,}/g,`

`),e=e.replace(/\s*({{[^}]*stub}})/i,`


$1`),e=e.replaceAll(/\s+$/g,""),e=e.replaceAll(/^([#*]+) */gm,"$1 "),e=e.replaceAll(/^([#*] .*)\n+(?=[#*] )/gm,`$1
`),e=e.replaceAll(/\s+(?=<ref)/g,""),e}function M(e){e=e.replaceAll(/((?:<ref.*?>.*?<\/ref>)+)([!,.?])/g,"$2$1");let f=[],a=0;function u(l){let t=e.slice(a,a+l.length)===l;return t&&(a+=l.length),t}function p(l){for(;a<e.length&&!u(l);)a++}for(;a<e.length;)if(u("<ref")){let l=a-4;p(">");let t=e.slice(l,a-1).trim().endsWith("/");f.push(t?{start:l,end:a,isSelfClosing:t}:{start:l,end:-1})}else u("</ref>")?f.at(-1).end=a:a++;let g=new DOMParser,i=[];for(let l of f){let t=e.slice(l.start,l.end),r=/<ref.*?>/i.exec(t)[0],c=g.parseFromString(l.isSelfClosing?r.replace(/ *\/ *>/," />"):r+"</ref>","text/html").body.firstChild.outerHTML,s=t.slice(r.length,-6).trim();c=l.isSelfClosing||s.length===0?c.replace(/>\s*<\/ref>/," />"):`${c.slice(0,-6)}${s}</ref>`,t!==c&&i.push([t,c])}for(let[l,t]of i)e=e.replace(l,t);return e}function R(e){let f;(o=>(o[o.Expanded=0]="Expanded",o[o.ExpandedAligned=1]="ExpandedAligned",o[o.Minimized=2]="Minimized",o[o.MinimizedSpaced=3]="MinimizedSpaced"))(f||={});class a{location;isNested=!1;fullText;fullTextEscaped;name;parameters=[];subTemplates=[];placeholderStrings=["\u{F0000}","\u{10FFFF}"];pipeEscapeRegexes=[/(\[\[[^\]]*?)\|(.*?]])/g,/(<!--.*?)\|(.*?-->)/g,/(<nowiki>.*?)\|(.*?<\/nowiki>)/g];defaultTemplateStyles={1:["infobox","speciesbox","taxobox","automatic taxobox","osm location map","motorsport season","blockquote","quote box"],2:["coord","start date","end date","lang","langx"]};constructor(s){this.location={start:s}}parse(){this.fullText=e.slice(this.location.start,this.location.end),this.fullTextEscaped=this.fullText;for(let o of this.subTemplates)o.parse(),this.fullTextEscaped=this.fullTextEscaped.replace(o.fullText,this.placeholderStrings[0]);let s=this.fullTextEscaped.slice(2,-2).trim();for(let o of this.pipeEscapeRegexes)for(;o.test(s);)s=s.replaceAll(o,`$1${this.placeholderStrings[1]}$2`);let n=s.split("|").map(o=>o.replaceAll(this.placeholderStrings[1],"|").trim());this.name=n.shift();let h=n.map(o=>{let d=o.indexOf("=");if(d===-1)return{key:null,value:o.trim()};let T=o.slice(d+1);return{key:o.slice(0,d).trim(),value:`${T.startsWith(`
`)?`
`:""}${T.trim()}`}});this.parameters=h}getStyle(){for(let[s,n]of Object.entries(this.defaultTemplateStyles))for(let h of n)if(this.name.toLowerCase().startsWith(h))return Number.parseInt(s)}format(){this.fullText||this.parse();let s=this.getStyle();if(s===void 0)return this.fullText;let n=[`{{${this.name}`];if(s===0||s===1){let o=0;s===1&&(o=Math.max(...this.parameters.map(d=>d.key?.length??0)));for(let d of this.parameters)n.push(`| ${d.key?`${d.key.padEnd(o)} = `:""}${d.value}`)}else for(let o of this.parameters)o.value&&n.push(`|${o.key?`${o.key}=`:""}${o.value}`);n.push("}}"),n.length===2?(n[0]+="}}",n.pop()):s===3&&(n[n.length-2]+="}}",n.pop());let h=n.join(s===0||s===1?`
`:s===3?" ":"");for(let o of this.subTemplates)h=h.replace(this.placeholderStrings[0],o.format());return h}}let u=[],p=[],g=!1,i=!1,l=!1,t=0;function r(c){let s=e.slice(t,t+c.length)===c;return s&&(t+=c.length),s}for(;t<e.length;)if(r("<nowiki>"))i=!0;else if(r("</nowiki>"))i=!1;else if(r("<!--"))l=!0;else if(r("-->"))l=!1;else if(!i&&!l)if(r("[["))g=!0;else if(g&&r("]]"))g=!1;else if(r("{{")){let c=new a(t-2);p.length>0&&(c.isNested=!0,p.at(-1)?.subTemplates.push(c)),p.push(c)}else if(r("}}")){let c=p.pop();if(!c)continue;c.location.end=t,u.push(c)}else t++;else t++;let m=e;for(let c of u)c.isNested||(c.parse(),m=m.replace(c.fullText,c.format()));return m}})();

// </nowiki>
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc2NyaXB0cy9hcnRpY2xlLWNsZWFuZXIudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImRlY2xhcmUgZ2xvYmFsIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4dHJhbmVvdXMtY2xhc3NcbiAgICBjbGFzcyBWZVJhbmdlIHtcbiAgICAgICAgY29uc3RydWN0b3Ioc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpO1xuICAgIH1cblxuICAgIGNsYXNzIFZlRnJhZ21lbnQge1xuICAgICAgICBpbnNlcnRDb250ZW50KGNvbnRlbnQ6IHN0cmluZyk6IHZvaWQ7XG4gICAgfVxuXG4gICAgY2xhc3MgVmVTdXJmYWNlTW9kZWwge1xuICAgICAgICBnZXRMaW5lYXJGcmFnbWVudChyYW5nZTogVmVSYW5nZSk6IFZlRnJhZ21lbnQ7XG4gICAgICAgIGdldFJhbmdlRnJvbVNvdXJjZU9mZnNldHMoc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpOiBWZVJhbmdlO1xuICAgICAgICBzZXRTZWxlY3Rpb24oc2VsZWN0aW9uOiBWZUxpbmVhclNlbGVjdGlvbik6IHZvaWQ7XG4gICAgfVxuXG4gICAgY2xhc3MgVmVUYXJnZXQge1xuICAgICAgICBnZXRTdXJmYWNlKCk6IHsgZ2V0TW9kZWwoKTogVmVTdXJmYWNlTW9kZWwgfTtcbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4dHJhbmVvdXMtY2xhc3NcbiAgICBjbGFzcyBWZUxpbmVhclNlbGVjdGlvbiB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHJhbmdlOiBWZVJhbmdlKTtcbiAgICB9XG5cbiAgICBjb25zdCB2ZToge1xuICAgICAgICBSYW5nZTogdHlwZW9mIFZlUmFuZ2U7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uXG4gICAgICAgIGRtOiB7IExpbmVhclNlbGVjdGlvbjogdHlwZW9mIFZlTGluZWFyU2VsZWN0aW9uIH07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uXG4gICAgICAgIGluaXQ/OiB7IHRhcmdldDogVmVUYXJnZXQgfTtcbiAgICB9O1xufVxuXG5leHBvcnQge307XG5cbigoKSA9PiB7XG4gICAgaWYgKG13LmNvbmZpZy5nZXQoJ3dnTmFtZXNwYWNlTnVtYmVyJykgPCAwKSByZXR1cm47IC8vIERvbid0IHJ1biBpbiB2aXJ0dWFsIG5hbWVzcGFjZXNcbiAgICBpZiAoIW13LmNvbmZpZy5nZXQoJ3dnSXNQcm9iYWJseUVkaXRhYmxlJykpIHJldHVybjsgLy8gRG9uJ3QgcnVuIGlmIHVzZXIgY2FuJ3QgZWRpdCBwYWdlXG5cbiAgICBtdy5sb2FkZXIudXNpbmcoWydtZWRpYXdpa2kudXRpbCcsICdqcXVlcnkudGV4dFNlbGVjdGlvbiddLCAoKSA9PiB7XG4gICAgICAgIG13LnV0aWwuYWRkQ1NTKGBcbiNhcnRpY2xlLWNsZWFuZXIge1xuICAgIGRpc3BsYXk6IG5vbmU7XG59XG5cbiNjb250ZW50Omhhcygjd3BUZXh0Ym94MSkgI2FydGljbGUtY2xlYW5lciB7XG4gICAgZGlzcGxheTogdW5zZXQ7XG59YCk7XG5cbiAgICAgICAgY29uc3QgbGluayA9IG13LnV0aWwuYWRkUG9ydGxldExpbmsoXG4gICAgICAgICAgICBtdy5jb25maWcuZ2V0KCdza2luJykgPT09ICdtaW5lcnZhJyA/ICdwLW5hdmlnYXRpb24nIDogJ3AtY2FjdGlvbnMnLFxuICAgICAgICAgICAgJyMnLFxuICAgICAgICAgICAgJ1BlcmZvcm0gYXJ0aWNsZSBjbGVhbnVwJyxcbiAgICAgICAgICAgICdhcnRpY2xlLWNsZWFuZXInLFxuICAgICAgICApITtcblxuICAgICAgICBsZXQgc2hvdWxkQWRkU2NyaXB0TWVzc2FnZSA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IHNjcmlwdE1lc3NhZ2UgPSAnQ2xlYW5lZCB1cCBhcnRpY2xlIGNvbnRlbnQgKHZpYSBbW1VzZXI6RWVqaXQ0My9zY3JpcHRzL2FydGljbGUtY2xlYW5lcnxhcnRpY2xlLWNsZWFuZXJdXSknO1xuXG4gICAgICAgIG13Lmhvb2soJ3ZlLnNhdmVEaWFsb2cuc3RhdGVDaGFuZ2VkJykuYWRkKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChzaG91bGRBZGRTY3JpcHRNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3VtbWFyeUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MVGV4dEFyZWFFbGVtZW50PignLnZlLXVpLW13U2F2ZURpYWxvZy1zdW1tYXJ5IHRleHRhcmVhJykhO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzdW1tYXJ5SW5wdXQudmFsdWUuaW5jbHVkZXMoc2NyaXB0TWVzc2FnZS5zbGljZSgxKSkpXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdW1tYXJ5SW5wdXQudmFsdWUpIHN1bW1hcnlJbnB1dC52YWx1ZSArPSBgOyAke3NjcmlwdE1lc3NhZ2UuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBzY3JpcHRNZXNzYWdlLnNsaWNlKDEpfWA7XG4gICAgICAgICAgICAgICAgICAgIGVsc2Ugc3VtbWFyeUlucHV0LnZhbHVlID0gc2NyaXB0TWVzc2FnZTtcblxuICAgICAgICAgICAgICAgIHNob3VsZEFkZFNjcmlwdE1lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgY29uc3QgZWRpdEJveCA9ICQoJyN3cFRleHRib3gxJyk7XG4gICAgICAgICAgICBpZiAoZWRpdEJveC5sZW5ndGggPT09IDApIHJldHVybiBtdy5ub3RpZnkoJ0VkaXQgYm94IG5vdCBmb3VuZCEnLCB7IHR5cGU6ICdlcnJvcicsIGF1dG9IaWRlU2Vjb25kczogJ3Nob3J0JyB9KTtcblxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxUZXh0ID0gZWRpdEJveC50ZXh0U2VsZWN0aW9uKCdnZXRDb250ZW50cycpO1xuXG4gICAgICAgICAgICBsZXQgZmluYWxUZXh0ID0gb3JpZ2luYWxUZXh0O1xuXG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwU2VjdGlvbkhlYWRlcnMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBNYWdpY1dvcmRzKGZpbmFsVGV4dCk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwRGlzcGxheXRpdGxlc0FuZERlZmF1bHRzb3J0cyhmaW5hbFRleHQpO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gY2xlYW51cENhdGVnb3JpZXMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBMaW5rcyhmaW5hbFRleHQsIFtjbGVhbnVwSW1wcm9wZXJDaGFyYWN0ZXJzXSk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwU3RyYXlNYXJrdXAoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBTcGFjaW5nKGZpbmFsVGV4dCk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwUmVmZXJlbmNlcyhmaW5hbFRleHQpO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gZm9ybWF0VGVtcGxhdGVzKGZpbmFsVGV4dCk7XG5cbiAgICAgICAgICAgIGlmIChvcmlnaW5hbFRleHQgPT09IGZpbmFsVGV4dCkgbXcubm90aWZ5KCdObyBjaGFuZ2VzIHRvIGJlIG1hZGUgdG8gdGhlIGFydGljbGUhJywgeyB0eXBlOiAnd2FybicsIGF1dG9IaWRlU2Vjb25kczogJ3Nob3J0JyB9KTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh2ZS5pbml0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1cmZhY2VNb2RlbCA9IHZlLmluaXQudGFyZ2V0LmdldFN1cmZhY2UoKS5nZXRNb2RlbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcmFnbWVudCA9IHN1cmZhY2VNb2RlbC5nZXRMaW5lYXJGcmFnbWVudChzdXJmYWNlTW9kZWwuZ2V0UmFuZ2VGcm9tU291cmNlT2Zmc2V0cygwLCBvcmlnaW5hbFRleHQubGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgICAgIGZyYWdtZW50Lmluc2VydENvbnRlbnQoZmluYWxUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgc3VyZmFjZU1vZGVsLnNldFNlbGVjdGlvbihuZXcgdmUuZG0uTGluZWFyU2VsZWN0aW9uKG5ldyB2ZS5SYW5nZSgwLCAwKSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRCb3gudGV4dFNlbGVjdGlvbignc2V0Q29udGVudHMnLCBmaW5hbFRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGVkaXRCb3gudGV4dFNlbGVjdGlvbignc2V0U2VsZWN0aW9uJywgeyBzdGFydDogMCB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBtdy5ub3RpZnkoJ0FydGljbGUgY2xlYW51cCBjb21wbGV0ZSEnLCB7IHR5cGU6ICdzdWNjZXNzJywgYXV0b0hpZGVTZWNvbmRzOiAnc2hvcnQnIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3VtbWFyeUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI3dwU3VtbWFyeScpO1xuICAgICAgICAgICAgICAgIGlmIChzdW1tYXJ5SW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdW1tYXJ5SW5wdXQudmFsdWUuaW5jbHVkZXMoc2NyaXB0TWVzc2FnZS5zbGljZSgxKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VtbWFyeUlucHV0LnZhbHVlKSBzdW1tYXJ5SW5wdXQudmFsdWUgKz0gYDsgJHtzY3JpcHRNZXNzYWdlLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc2NyaXB0TWVzc2FnZS5zbGljZSgxKX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBzdW1tYXJ5SW5wdXQudmFsdWUgPSBzY3JpcHRNZXNzYWdlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBzaG91bGRBZGRTY3JpcHRNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59KSgpO1xuXG4vKipcbiAqIEVzY2FwZXMgcmVnZXggY2hhcmFjdGVycyBpbiBhIHN0cmluZy5cbiAqIEBwYXJhbSBzdHJpbmcgVGhlIHN0cmluZyB0byBlc2NhcGUgcmVnZXggY2hhcmFjdGVycyBpbi5cbiAqL1xuZnVuY3Rpb24gZXNjYXBlUmVnZXhDaGFyYWN0ZXJzKHN0cmluZzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlQWxsKC9bJCgpKisuP1tcXFxcXFxdXnt8fV0vZywgJ1xcXFwkJicpO1xufVxuXG4vKipcbiAqIENsZWFucyB1cCBzZWN0aW9uIGhlYWRlcnMgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwU2VjdGlvbkhlYWRlcnMoY29udGVudDogc3RyaW5nKSB7XG4gICAgY29uc3QgY29tbW9uUmVwbGFjZW1lbnRzID0ge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb24gKi9cbiAgICAgICAgJ1NlZSBhbHNvJzogWydhbHNvIHNlZSddLFxuICAgICAgICAnUmVmZXJlbmNlcyc6IFsncmVmZXJlbmNlJywgJ3NvdXJjZScsICdzb3VyY2VzJywgJ2NpdGF0aW9uJywgJ2NpdGF0aW9ucyddLFxuICAgICAgICAnRnVydGhlciByZWFkaW5nJzogWydmdXJ0aGVyIHJlYWRpbmcnXSxcbiAgICAgICAgJ0V4dGVybmFsIGxpbmtzJzogWydleHRlcm5hbCBsaW5rJywgJ3dlYmxpbmsnLCAnd2VibGlua3MnXSxcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb24gKi9cbiAgICB9O1xuXG4gICAgY29uc3QgY29tbW9uTWlzY2FwaXRhbGl6ZWRXb3JkcyA9IFsnbGlmZScsICdjYXJlZXInXTtcblxuICAgIGNvbnN0IHJldmVyc2VDb21tb25SZXBsYWNlbWVudHMgPSBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGNvbW1vblJlcGxhY2VtZW50cykuZmxhdE1hcCgoW2tleSwgdmFsdWVzXSkgPT4gdmFsdWVzLm1hcCgodmFsdWUpID0+IFt2YWx1ZSwga2V5XSkpLFxuICAgICk7XG5cbiAgICBjb25zdCBoZWFkZXJzID0gY29udGVudC5tYXRjaEFsbCgvXFxuKyg/PHN0YXJ0TWFya3VwPj0rKSAqKD88bmFtZT4uKj8pICooPzxlbmRNYXJrdXA+PSspXFxuKy9nKTtcblxuICAgIGNvbnN0IHBhcnNlZEhlYWRlcnMgPSBbLi4uaGVhZGVyc10ubWFwKChoZWFkZXIpID0+IHtcbiAgICAgICAgbGV0IHsgbmFtZSB9ID0gaGVhZGVyLmdyb3VwcyE7XG4gICAgICAgIGNvbnN0IHsgc3RhcnRNYXJrdXAsIGVuZE1hcmt1cCB9ID0gaGVhZGVyLmdyb3VwcyE7XG5cbiAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZUFsbCgvJ3szfS9nLCAnJyk7XG5cbiAgICAgICAgY29uc3QgbGlua3MgPSBuYW1lLm1hdGNoQWxsKC9cXFtcXFsoLis/KV1dL2cpLnRvQXJyYXkoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGxpbmsgb2YgbGlua3MpIG5hbWUgPSBuYW1lLnJlcGxhY2UobGlua1swXSwgbGlua1sxXS5zcGxpdCgnfCcpLmF0KC0xKSEpO1xuXG4gICAgICAgIGNvbnN0IGRlcHRoID0gTWF0aC5tYXgoc3RhcnRNYXJrdXAubGVuZ3RoLCBlbmRNYXJrdXAubGVuZ3RoLCAyKTtcblxuICAgICAgICByZXR1cm4geyBuYW1lLCBkZXB0aCwgb3JpZ2luYWw6IGhlYWRlclswXSB9O1xuICAgIH0pO1xuXG4gICAgY29uc3QgdGl0bGVTcGFjZXIgPSAvXlxcbis9KyB8ID0rXFxuKyQvLnRlc3QocGFyc2VkSGVhZGVyc1swXS5vcmlnaW5hbCkgPyAnICcgOiAnJztcblxuICAgIGZvciAoY29uc3QgaGVhZGVyIG9mIHBhcnNlZEhlYWRlcnMpIHtcbiAgICAgICAgY29uc3QgcmVwbGFjZWROYW1lID1cbiAgICAgICAgICAgIGhlYWRlci5uYW1lLnRvTG93ZXJDYXNlKCkgaW4gcmV2ZXJzZUNvbW1vblJlcGxhY2VtZW50cyA/IHJldmVyc2VDb21tb25SZXBsYWNlbWVudHNbaGVhZGVyLm5hbWUudG9Mb3dlckNhc2UoKV0gOiBoZWFkZXIubmFtZTtcblxuICAgICAgICBsZXQgY2FwaXRhbGl6ZWROYW1lID0gcmVwbGFjZWROYW1lO1xuXG4gICAgICAgIGZvciAoY29uc3Qgd29yZCBvZiBjb21tb25NaXNjYXBpdGFsaXplZFdvcmRzKSBjYXBpdGFsaXplZE5hbWUgPSBjYXBpdGFsaXplZE5hbWUucmVwbGFjZUFsbChuZXcgUmVnRXhwKGBcXFxcYiR7d29yZH1cXFxcYmAsICdnaScpLCB3b3JkKTtcblxuICAgICAgICBjYXBpdGFsaXplZE5hbWUgPSBjYXBpdGFsaXplZE5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjYXBpdGFsaXplZE5hbWUuc2xpY2UoMSk7XG5cbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gYCR7Jz0nLnJlcGVhdChoZWFkZXIuZGVwdGgpfSR7dGl0bGVTcGFjZXJ9JHtjYXBpdGFsaXplZE5hbWV9JHt0aXRsZVNwYWNlcn0keyc9Jy5yZXBlYXQoaGVhZGVyLmRlcHRoKX1gO1xuXG4gICAgICAgIGlmIChoZWFkZXIub3JpZ2luYWwgIT09IG91dHB1dCkgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZShoZWFkZXIub3JpZ2luYWwsIGBcXG5cXG4ke291dHB1dH1cXG5gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHVubmVjZXNzYXJ5IG1hZ2ljIHdvcmRzIGZyb20gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwTWFnaWNXb3Jkcyhjb250ZW50OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gY29udGVudC5yZXBsYWNlQWxsKC9fXyhJTkRFWHxOT0lOREVYfE5FV1NFQ1RJT05MSU5LfE5PTkVXU0VDVElPTkxJTkt8Tk9FRElUU0VDVElPTnxESVNBTUJJR3xTVEFUSUNSRURJUkVDVHxGT1JDRVRPQylfX1xcbiovZywgJycpO1xufVxuXG4vKipcbiAqIENsZWFucyB1cCBESVNQTEFZVElUTEVzIGFuZCBERUZBVUxUU09SVHMgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwRGlzcGxheXRpdGxlc0FuZERlZmF1bHRzb3J0cyhjb250ZW50OiBzdHJpbmcpIHtcbiAgICBjb25zdCB0YWdzID0gY29udGVudC5tYXRjaEFsbCgve3soZGlzcGxheXRpdGxlfGRlZmF1bHRzb3J0KVs6fF0oLio/KX19L2dpKTtcblxuICAgIGNvbnN0IHBhcnNlZFRhZ3MgPSBbLi4udGFnc10ubWFwKCh0YWcpID0+IHtcbiAgICAgICAgY29uc3QgW2Z1bGxUYWcsIHR5cGUsIHZhbHVlXSA9IHRhZztcblxuICAgICAgICByZXR1cm4geyB0eXBlOiB0eXBlLnRvVXBwZXJDYXNlKCksIHZhbHVlLCBvcmlnaW5hbDogZnVsbFRhZyB9O1xuICAgIH0pO1xuXG4gICAgY29uc3QgY3VycmVudFRpdGxlID0gbXcuVGl0bGUubmV3RnJvbVRleHQobXcuY29uZmlnLmdldCgnd2dQYWdlTmFtZScpKSE7XG5cbiAgICBmb3IgKGNvbnN0IHRhZyBvZiBwYXJzZWRUYWdzKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVGFnUmVnZXggPSBuZXcgUmVnRXhwKGAke2VzY2FwZVJlZ2V4Q2hhcmFjdGVycyh0YWcub3JpZ2luYWwpfVxcbipgLCAnZycpO1xuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gbXcuVGl0bGUubWFrZVRpdGxlKGN1cnJlbnRUaXRsZS5nZXROYW1lc3BhY2VJZCgpLCB0YWcudmFsdWUuaW5jbHVkZXMoJzonKSA/IHRhZy52YWx1ZS5zcGxpdCgnOicpWzFdIDogdGFnLnZhbHVlKSE7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRUaXRsZS50b1RleHQoKSA9PT0gdGl0bGUudG9UZXh0KCkpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2Uob3JpZ2luYWxUYWdSZWdleCwgJycpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuZXdUZXh0ID0gYHt7JHt0YWcudHlwZX06JHt0aXRsZS50b1RleHQoKX19fVxcbmA7XG5cbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZShvcmlnaW5hbFRhZ1JlZ2V4LCBuZXdUZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBDbGVhbnMgdXAgY2F0ZWdvcmllcyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBDYXRlZ29yaWVzKGNvbnRlbnQ6IHN0cmluZykge1xuICAgIHJldHVybiBjb250ZW50LnJlcGxhY2VBbGwoXG4gICAgICAgIC8oXFxbXFxbfH19KTo/Y2F0ZWdvcnk6KC4qPykoXV18fX0pL2dpLFxuICAgICAgICBgW1ske213LmNvbmZpZy5nZXQoJ3dnQ2Fub25pY2FsTmFtZXNwYWNlJykgPT09ICdEcmFmdCcgPyAnOicgOiAnJ31DYXRlZ29yeTokMl1dYCxcbiAgICApO1xufVxuXG5pbnRlcmZhY2UgTGlua0luZm9ybWF0aW9uIHtcbiAgICBzdGFydDogbnVtYmVyO1xuICAgIGVuZDogbnVtYmVyO1xuICAgIGlzTmVzdGVkOiBib29sZWFuO1xufVxuXG4vKipcbiAqIENsZWFucyB1cCBsaW5rcyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKiBAcGFyYW0gZnVuY3Rpb25zQ2FsbGVkV2hpbGVFc2NhcGVkIFRoZSBmdW5jdGlvbnMgY2FsbGVkIHdoaWxlIHRoZSBsaW5rcyBhcmUgZXNjYXBlZC5cbiAqL1xuZnVuY3Rpb24gY2xlYW51cExpbmtzKGNvbnRlbnQ6IHN0cmluZywgZnVuY3Rpb25zQ2FsbGVkV2hpbGVFc2NhcGVkOiAoKGNvbnRlbnQ6IHN0cmluZywgcnVuOiAxIHwgMikgPT4gc3RyaW5nKVtdKSB7XG4gICAgY29uc3QgY2xvc2VkTGlua3M6IExpbmtJbmZvcm1hdGlvbltdID0gW107XG4gICAgY29uc3QgbGlua3M6IExpbmtJbmZvcm1hdGlvbltdID0gW107XG5cbiAgICBsZXQgY3VycmVudExvY2F0aW9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgY29udGVudCBmb2xsb3dpbmcgdGhlIGN1cnJlbnQgbG9jYXRpb24gbWF0Y2hlcyB0aGUgZGVzaXJlZCBzdHJpbmcuXG4gICAgICogQHBhcmFtIGRlc2lyZWRTdHJpbmcgVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSBzaG91bGRJbmNyZW1lbnQgV2hldGhlciB0byBpbmNyZW1lbnQgdGhlIGN1cnJlbnQgbG9jYXRpb24gaWYgdGhlIHN0cmluZyBpcyBmb3VuZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0F0U3RyaW5nKGRlc2lyZWRTdHJpbmc6IHN0cmluZywgc2hvdWxkSW5jcmVtZW50ID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBpc0F0U3RyaW5nID0gY29udGVudC5zbGljZShjdXJyZW50TG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbiArIGRlc2lyZWRTdHJpbmcubGVuZ3RoKSA9PT0gZGVzaXJlZFN0cmluZztcblxuICAgICAgICBpZiAoaXNBdFN0cmluZyAmJiBzaG91bGRJbmNyZW1lbnQpIGN1cnJlbnRMb2NhdGlvbiArPSBkZXNpcmVkU3RyaW5nLmxlbmd0aDtcblxuICAgICAgICByZXR1cm4gaXNBdFN0cmluZztcbiAgICB9XG5cbiAgICB3aGlsZSAoY3VycmVudExvY2F0aW9uIDwgY29udGVudC5sZW5ndGgpXG4gICAgICAgIGlmIChpc0F0U3RyaW5nKCdbWycpKSBsaW5rcy5wdXNoKHsgc3RhcnQ6IGN1cnJlbnRMb2NhdGlvbiAtIDIsIGVuZDogLTEsIGlzTmVzdGVkOiBsaW5rcy5sZW5ndGggPiAwIH0pO1xuICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCddXScpKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0TGluayA9IGxpbmtzLnBvcCgpO1xuICAgICAgICAgICAgaWYgKCFsYXN0TGluaykgY29udGludWU7XG5cbiAgICAgICAgICAgIGxhc3RMaW5rLmVuZCA9IGN1cnJlbnRMb2NhdGlvbjtcblxuICAgICAgICAgICAgY2xvc2VkTGlua3MucHVzaChsYXN0TGluayk7XG4gICAgICAgIH0gZWxzZSBjdXJyZW50TG9jYXRpb24rKztcblxuICAgIGNvbnN0IG5ld0xpbmtDb250ZW50OiBbTGlua0luZm9ybWF0aW9uLCBzdHJpbmddW10gPSBbXTtcblxuICAgIGNvbnN0IG5hbWVzcGFjZU5hbWVzID0gT2JqZWN0LnZhbHVlcyhtdy5jb25maWcuZ2V0KCd3Z0Zvcm1hdHRlZE5hbWVzcGFjZXMnKSk7XG5cbiAgICBmb3IgKGNvbnN0IGxpbmtMb2NhdGlvbiBvZiBjbG9zZWRMaW5rcykge1xuICAgICAgICBjb25zdCBpbm5lckxpbmsgPSBjb250ZW50LnNsaWNlKGxpbmtMb2NhdGlvbi5zdGFydCArIDIsIGxpbmtMb2NhdGlvbi5lbmQgLSAyKTtcblxuICAgICAgICBjb25zdCBbdW5wYXJzZWRMaW5rLCAuLi5wYXJhbWV0ZXJzXSA9IGlubmVyTGluay5zcGxpdCgnfCcpO1xuXG4gICAgICAgIC8vIFJlcGxhY2UgbGluayBuYW1lcyBzbyB0aGVzZSB3b24ndCBiZSBhZmZlY3RlZCBieSBmdW5jdGlvbnMgY2FsbGVkIHdoaWxlIGVzY2FwZWRcbiAgICAgICAgY29udGVudCA9XG4gICAgICAgICAgICBjb250ZW50LnNsaWNlKDAsIGxpbmtMb2NhdGlvbi5zdGFydCArIDIpICtcbiAgICAgICAgICAgICdcXDAnLnJlcGVhdCh1bnBhcnNlZExpbmsubGVuZ3RoKSArXG4gICAgICAgICAgICBjb250ZW50LnNsaWNlKGxpbmtMb2NhdGlvbi5zdGFydCArIDIgKyB1bnBhcnNlZExpbmsubGVuZ3RoKTtcblxuICAgICAgICBsZXQgbGluayA9IHVucGFyc2VkTGluay5yZXBsYWNlQWxsKCdfJywgJyAnKS50cmltKCk7XG4gICAgICAgIGxldCBhbHRUZXh0ID0gcGFyYW1ldGVycy5qb2luKCd8Jyk7XG4gICAgICAgIGFsdFRleHQgPSBhbHRUZXh0ID09PSAnICcgPyAnICcgOiBhbHRUZXh0LnRyaW0oKTtcblxuICAgICAgICBjb25zdCBpc0ZpcnN0Q2hhcmFjdGVyQ29sb24gPSBsaW5rLnN0YXJ0c1dpdGgoJzonKTtcbiAgICAgICAgaWYgKGlzRmlyc3RDaGFyYWN0ZXJDb2xvbikgbGluayA9IGxpbmsuc2xpY2UoMSk7XG5cbiAgICAgICAgbGV0IHNob3VsZEZpcnN0Q2hhcmFjdGVyQmVDb2xvbiA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGxpbmtVcHBlcmNhc2VTdGFydCA9IGxpbmsuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBsaW5rLnNsaWNlKDEpO1xuICAgICAgICBjb25zdCBsaW5rTG93ZXJjYXNlU3RhcnQgPSBsaW5rLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgbGluay5zbGljZSgxKTtcblxuICAgICAgICBpZiAobGluay5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgICBpZiAobGlua1VwcGVyY2FzZVN0YXJ0LnN0YXJ0c1dpdGgoJ0ltYWdlOicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkU3RhcnRVcHBlcmNhc2UgPSBsaW5rLnN0YXJ0c1dpdGgoJ0ltYWdlOicpO1xuXG4gICAgICAgICAgICAgICAgbGluayA9IGAke3Nob3VsZFN0YXJ0VXBwZXJjYXNlID8gJ0YnIDogJ2YnfWlsZToke2xpbmsuc2xpY2UoNil9YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzRmlyc3RDaGFyYWN0ZXJDb2xvbiAmJiBbJ0ltYWdlJywgJ0ZpbGUnLCAnQ2F0ZWdvcnknXS5pbmNsdWRlcyhsaW5rVXBwZXJjYXNlU3RhcnQuc3BsaXQoJzonKVswXSkpXG4gICAgICAgICAgICAgICAgc2hvdWxkRmlyc3RDaGFyYWN0ZXJCZUNvbG9uID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBhZnRlckxpbmtUZXh0ID0gJyc7XG5cbiAgICAgICAgaWYgKGxpbmsgPT09IGFsdFRleHQpIGFsdFRleHQgPSAnJztcbiAgICAgICAgZWxzZSBpZiAobmV3IFJlZ0V4cChgXiR7ZXNjYXBlUmVnZXhDaGFyYWN0ZXJzKGxpbmspfVthLXpdKyRgKS50ZXN0KGFsdFRleHQpKSB7XG4gICAgICAgICAgICBhZnRlckxpbmtUZXh0ID0gYWx0VGV4dC5zbGljZShsaW5rLmxlbmd0aCk7XG4gICAgICAgICAgICBhbHRUZXh0ID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IG5ld0xpbmsgb2YgW2xpbmtVcHBlcmNhc2VTdGFydCwgbGlua0xvd2VyY2FzZVN0YXJ0XSlcbiAgICAgICAgICAgIGlmIChuZXdMaW5rID09PSBhbHRUZXh0KSB7XG4gICAgICAgICAgICAgICAgbGluayA9IG5ld0xpbms7XG4gICAgICAgICAgICAgICAgYWx0VGV4dCA9ICcnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuZXcgUmVnRXhwKGBeJHtlc2NhcGVSZWdleENoYXJhY3RlcnMobmV3TGluayl9W2Etel0rJGApLnRlc3QoYWx0VGV4dCkpIHtcbiAgICAgICAgICAgICAgICBsaW5rID0gbmV3TGluaztcbiAgICAgICAgICAgICAgICBhZnRlckxpbmtUZXh0ID0gYWx0VGV4dC5zbGljZShuZXdMaW5rLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgYWx0VGV4dCA9ICcnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIGxldCBuYW1lc3BhY2UgPSBsaW5rLnNwbGl0KCc6JylbMF07XG4gICAgICAgIG5hbWVzcGFjZSA9IG5hbWVzcGFjZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWVzcGFjZS5zbGljZSgxKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAoYWx0VGV4dCAmJiBsaW5rLmluY2x1ZGVzKCc6JykgJiYgbmFtZXNwYWNlTmFtZXMuaW5jbHVkZXMobmFtZXNwYWNlKSkgfHxcbiAgICAgICAgICAgIGxpbmsuc3RhcnRzV2l0aCgnZmlsZTonKSB8fFxuICAgICAgICAgICAgbGluay5zdGFydHNXaXRoKCdjYXRlZ29yeTonKVxuICAgICAgICApXG4gICAgICAgICAgICBsaW5rID0gbGluay5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGxpbmsuc2xpY2UoMSk7XG5cbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gYFtbJHtzaG91bGRGaXJzdENoYXJhY3RlckJlQ29sb24gPyAnOicgOiAnJ30ke2xpbmt9JHthbHRUZXh0ID8gYHwke2FsdFRleHR9YCA6ICcnfV1dJHthZnRlckxpbmtUZXh0fWA7XG5cbiAgICAgICAgbmV3TGlua0NvbnRlbnQucHVzaChbbGlua0xvY2F0aW9uLCBvdXRwdXRdKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGZ1bmN0aW9uVG9DYWxsIG9mIGZ1bmN0aW9uc0NhbGxlZFdoaWxlRXNjYXBlZCkgY29udGVudCA9IGZ1bmN0aW9uVG9DYWxsKGNvbnRlbnQsIDEpO1xuXG4gICAgZm9yIChsZXQgbG9vcENvdW50ZXIgPSAwOyBsb29wQ291bnRlciA8IDI7IGxvb3BDb3VudGVyKyspXG4gICAgICAgIGZvciAoY29uc3QgW2xpbmtEYXRhLCBsaW5rQ29udGVudF0gb2YgbmV3TGlua0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGlmIChsb29wQ291bnRlciA9PT0gMCAmJiBsaW5rRGF0YS5pc05lc3RlZCkgY29udGludWU7XG4gICAgICAgICAgICBlbHNlIGlmIChsb29wQ291bnRlciA9PT0gMSAmJiAhbGlua0RhdGEuaXNOZXN0ZWQpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjb250ZW50ID1cbiAgICAgICAgICAgICAgICBjb250ZW50LnNsaWNlKDAsIGxpbmtEYXRhLnN0YXJ0KSArIGxpbmtDb250ZW50LnBhZFN0YXJ0KGxpbmtEYXRhLmVuZCAtIGxpbmtEYXRhLnN0YXJ0LCAnXFwwJykgKyBjb250ZW50LnNsaWNlKGxpbmtEYXRhLmVuZCk7XG4gICAgICAgIH1cblxuICAgIGZvciAoY29uc3QgZnVuY3Rpb25Ub0NhbGwgb2YgZnVuY3Rpb25zQ2FsbGVkV2hpbGVFc2NhcGVkKSBjb250ZW50ID0gZnVuY3Rpb25Ub0NhbGwoY29udGVudCwgMik7XG5cbiAgICByZXR1cm4gY29udGVudC5yZXBsYWNlQWxsKCdcXDAnLCAnJyk7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIGltcHJvcGVyIGNoYXJhY3RlcnMgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICogQHBhcmFtIHJ1biBUaGUgcnVuIG51bWJlciBvZiB0aGUgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBJbXByb3BlckNoYXJhY3RlcnMoY29udGVudDogc3RyaW5nLCBydW46IDEgfCAyKSB7XG4gICAgY29uc3QgZWxpcHNpc1BsYWNlaG9sZGVyID0gJ1xcdTAwN0YnO1xuICAgIGNvbnN0IG5ic3BQbGFjZWhvbGRlciA9ICdcXHUwMDlGJztcblxuICAgIGlmIChydW4gPT09IDEpIHtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvW1x1MjAxQ1x1MjAxRF0vZywgJ1wiJyk7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoL1tcdTIwMThcdTIwMTldL2csIFwiJ1wiKTtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgnXHUyMDI2JywgZWxpcHNpc1BsYWNlaG9sZGVyKTtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgnXHUwMEEwJywgbmJzcFBsYWNlaG9sZGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKGVsaXBzaXNQbGFjZWhvbGRlciwgJy4uLicpO1xuICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKG5ic3BQbGFjZWhvbGRlciwgJyZuYnNwOycpO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgc3RyYXkgbWFya3VwIGluIGFuIGFydGljbGUncyBjb250ZW50LlxuICogQHBhcmFtIGNvbnRlbnQgVGhlIGFydGljbGUgY29udGVudCB0byBjbGVhbiB1cC5cbiAqL1xuZnVuY3Rpb24gY2xlYW51cFN0cmF5TWFya3VwKGNvbnRlbnQ6IHN0cmluZykge1xuICAgIGNvbnN0IHN0cmF5TWFya3VwUmVnZXhlcyA9IFtcbiAgICAgICAgLycrKEJvbGR8SXRhbGljKSggdGV4dCk/JysgKi9nLFxuICAgICAgICAvKDxiaWc+KStCaWcoIHRleHQpPyg8XFwvYmlnPikrICovZyxcbiAgICAgICAgLyg8c21hbGw+KStTbWFsbCggdGV4dCk/KDxcXC9zbWFsbD4pKyAqL2csXG4gICAgICAgIC8oPHN1cD4pK1N1cGVyc2NyaXB0KCB0ZXh0KT8oPFxcL3N1cD4pKyAqL2csXG4gICAgICAgIC8oPHN1Yj4pK1N1YnNjcmlwdCggdGV4dCk/KDxcXC9zdWI+KSsgKi9nLFxuICAgICAgICAvKDxzPikrU3RyaWtldGhyb3VnaCg8XFwvcz4pKyAqL2csXG4gICAgICAgIC8oPHU+KStVbmRlcmxpbmUoPFxcL3U+KSsgKi9nLFxuICAgICAgICAvKDxjb2RlPikrQ29tcHV0ZXIgY29kZSg8XFwvY29kZT4pKyAqL2csXG4gICAgICAgIC8oPG5vd2lraT4pK0luc2VydCBub24tZm9ybWF0dGVkIHRleHQgaGVyZSg8XFwvbm93aWtpPikrICovZyxcbiAgICAgICAgLz0rIEhlYWRpbmcgdGV4dCA9KyAqL2csXG4gICAgICAgIC9cXCogQnVsbGV0ZWQgbGlzdCBpdGVtICovZyxcbiAgICAgICAgLyMgTnVtYmVyZWQgbGlzdCBpdGVtICovZyxcbiAgICAgICAgLzxnYWxsZXJ5PlxcbkV4YW1wbGUuanBnXFx8Q2FwdGlvbjFcXG5FeGFtcGxlLmpwZ1xcfENhcHRpb24yXFxuPFxcL2dhbGxlcnk+ICovZyxcbiAgICAgICAgLyNSRURJUkVDVCBcXFtcXFtUYXJnZXQgcGFnZSBuYW1lXV0gKi9nLFxuICAgICAgICAvPCEtLSBJbnZpc2libGUgY29tbWVudCAtLT4gKi9nLFxuICAgICAgICAvPG5vaW5jbHVkZT5cXHMqPFxcL25vaW5jbHVkZT4gKi9nLFxuICAgIF07XG5cbiAgICBmb3IgKGNvbnN0IHJlZ2V4IG9mIHN0cmF5TWFya3VwUmVnZXhlcykgd2hpbGUgKHJlZ2V4LnRlc3QoY29udGVudCkpIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UocmVnZXgsICcnKTtcblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIENsZWFucyB1cCBzcGFjaW5nIGluIGFuIGFydGljbGUncyBjb250ZW50LlxuICogQHBhcmFtIGNvbnRlbnQgVGhlIGFydGljbGUgY29udGVudCB0byBjbGVhbiB1cC5cbiAqL1xuZnVuY3Rpb24gY2xlYW51cFNwYWNpbmcoY29udGVudDogc3RyaW5nKSB7XG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvKFxcYnxcXHB7UHVuY3R1YXRpb259fFxcXVxcXXxcXH1cXH0pIHsyLH0oXFxifFxccHtQdW5jdHVhdGlvbn18XFxbXFxbfFxce1xceykvZ3UsICckMSAkMicpOyAvLyBSZW1vdmUgZXh0cmEgc3BhY2VzIGJldHdlZW4gd29yZHMgYW5kIHNlbnRlbmNlc1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoL14gK3wgKyQvZ20sICcnKTsgLy8gUmVtb3ZlIGV4dHJhIHNwYWNlcyBhdCB0aGUgc3RhcnQgb3IgZW5kIG9mIGxpbmVzXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvXFxuezMsfS9nLCAnXFxuXFxuJyk7IC8vIFJlbW92ZSBleHRyYSBuZXdsaW5lc1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoL1xccyooe3tbXn1dKnN0dWJ9fSkvaSwgJ1xcblxcblxcbiQxJyk7IC8vIEVuc3VyZSB0aGVyZSBhcmUgdGhyZWUgbmV3bGluZXMgYmVmb3JlIHRoZSBmaXJzdCBzdHViIHRlbXBsYXRlXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvXFxzKyQvZywgJycpOyAvLyBSZW1vdmUgdHJhaWxpbmcgc3BhY2VzXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvXihbIypdKykgKi9nbSwgJyQxICcpOyAvLyBFbnN1cmUgdGhlcmUgaXMgYSBzcGFjZSBhZnRlciBhIGJ1bGxldCBvciBoYXNoIGluIGEgbGlzdCBpdGVtXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvXihbIypdIC4qKVxcbisoPz1bIypdICkvZ20sICckMVxcbicpOyAvLyBSZW1vdmUgbmV3bGluZXMgYmV0d2VlbiBsaXN0IGl0ZW1zXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvXFxzKyg/PTxyZWYpL2csICcnKTsgLy8gUmVtb3ZlIHNwYWNlcyBiZWZvcmUgcmVmZXJlbmNlc1xuXG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIHJlZmVyZW5jZXMgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwUmVmZXJlbmNlcyhjb250ZW50OiBzdHJpbmcpIHtcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC8oKD86PHJlZi4qPz4uKj88XFwvcmVmPikrKShbISwuP10pL2csICckMiQxJyk7IC8vIEZpeCBwdW5jdHVhdGlvbiBmb2xsb3dpbmcgcmVmZXJlbmNlc1xuXG4gICAgY29uc3QgcmVmZXJlbmNlczogeyBzdGFydDogbnVtYmVyOyBlbmQ6IG51bWJlcjsgaXNTZWxmQ2xvc2luZz86IHRydWUgfVtdID0gW107XG5cbiAgICBsZXQgY3VycmVudExvY2F0aW9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgY29udGVudCBmb2xsb3dpbmcgdGhlIGN1cnJlbnQgbG9jYXRpb24gbWF0Y2hlcyB0aGUgZGVzaXJlZCBzdHJpbmcuXG4gICAgICogQHBhcmFtIGRlc2lyZWRTdHJpbmcgVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXRTdHJpbmcoZGVzaXJlZFN0cmluZzogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGlzQXRTdHJpbmcgPSBjb250ZW50LnNsaWNlKGN1cnJlbnRMb2NhdGlvbiwgY3VycmVudExvY2F0aW9uICsgZGVzaXJlZFN0cmluZy5sZW5ndGgpID09PSBkZXNpcmVkU3RyaW5nO1xuXG4gICAgICAgIGlmIChpc0F0U3RyaW5nKSBjdXJyZW50TG9jYXRpb24gKz0gZGVzaXJlZFN0cmluZy5sZW5ndGg7XG5cbiAgICAgICAgcmV0dXJuIGlzQXRTdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2VlZHMgdGhyb3VnaCB0aGUgY29udGVudCB1bnRpbCB0aGUgZGVzaXJlZCBzdHJpbmcgaXMgZm91bmQuXG4gICAgICogQHBhcmFtIGRlc2lyZWRTdHJpbmcgVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb2NlZWRVbnRpbFN0cmluZyhkZXNpcmVkU3RyaW5nOiBzdHJpbmcpIHtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRMb2NhdGlvbiA8IGNvbnRlbnQubGVuZ3RoICYmICFpc0F0U3RyaW5nKGRlc2lyZWRTdHJpbmcpKSBjdXJyZW50TG9jYXRpb24rKztcbiAgICB9XG5cbiAgICB3aGlsZSAoY3VycmVudExvY2F0aW9uIDwgY29udGVudC5sZW5ndGgpXG4gICAgICAgIGlmIChpc0F0U3RyaW5nKCc8cmVmJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gY3VycmVudExvY2F0aW9uIC0gNDtcblxuICAgICAgICAgICAgcHJvY2VlZFVudGlsU3RyaW5nKCc+Jyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGlzU2VsZkNsb3NpbmcgPSBjb250ZW50XG4gICAgICAgICAgICAgICAgLnNsaWNlKHN0YXJ0LCBjdXJyZW50TG9jYXRpb24gLSAxKVxuICAgICAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgICAgICAuZW5kc1dpdGgoJy8nKTtcblxuICAgICAgICAgICAgcmVmZXJlbmNlcy5wdXNoKGlzU2VsZkNsb3NpbmcgPyB7IHN0YXJ0LCBlbmQ6IGN1cnJlbnRMb2NhdGlvbiwgaXNTZWxmQ2xvc2luZyB9IDogeyBzdGFydCwgZW5kOiAtMSB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0F0U3RyaW5nKCc8L3JlZj4nKSkgcmVmZXJlbmNlcy5hdCgtMSkhLmVuZCA9IGN1cnJlbnRMb2NhdGlvbjtcbiAgICAgICAgZWxzZSBjdXJyZW50TG9jYXRpb24rKztcblxuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblxuICAgIGNvbnN0IHJlcGxhY2VtZW50czogW3N0cmluZywgc3RyaW5nXVtdID0gW107XG5cbiAgICBmb3IgKGNvbnN0IHJlZmVyZW5jZSBvZiByZWZlcmVuY2VzKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IGNvbnRlbnQuc2xpY2UocmVmZXJlbmNlLnN0YXJ0LCByZWZlcmVuY2UuZW5kKTtcblxuICAgICAgICBjb25zdCBzdGFydFRhZyA9IC88cmVmLio/Pi9pLmV4ZWMob3JpZ2luYWxUZXh0KSFbMF07XG5cbiAgICAgICAgY29uc3QgcGFyc2VkVGFnID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhcbiAgICAgICAgICAgIHJlZmVyZW5jZS5pc1NlbGZDbG9zaW5nID8gc3RhcnRUYWcucmVwbGFjZSgvICpcXC8gKj4vLCAnIC8+JykgOiBzdGFydFRhZyArICc8L3JlZj4nLFxuICAgICAgICAgICAgJ3RleHQvaHRtbCcsXG4gICAgICAgICkuYm9keS5maXJzdENoaWxkIGFzIEhUTUxVbmtub3duRWxlbWVudDtcblxuICAgICAgICBsZXQgb3V0cHV0ID0gcGFyc2VkVGFnLm91dGVySFRNTDtcblxuICAgICAgICBjb25zdCB0YWdDb250ZW50ID0gb3JpZ2luYWxUZXh0LnNsaWNlKHN0YXJ0VGFnLmxlbmd0aCwgLTYpLnRyaW0oKTtcblxuICAgICAgICBvdXRwdXQgPVxuICAgICAgICAgICAgcmVmZXJlbmNlLmlzU2VsZkNsb3NpbmcgfHwgdGFnQ29udGVudC5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICA/IG91dHB1dC5yZXBsYWNlKC8+XFxzKjxcXC9yZWY+LywgJyAvPicpXG4gICAgICAgICAgICAgICAgOiBgJHtvdXRwdXQuc2xpY2UoMCwgLTYpfSR7dGFnQ29udGVudH08L3JlZj5gO1xuXG4gICAgICAgIGlmIChvcmlnaW5hbFRleHQgIT09IG91dHB1dCkgcmVwbGFjZW1lbnRzLnB1c2goW29yaWdpbmFsVGV4dCwgb3V0cHV0XSk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBbb3JpZ2luYWxUZXh0LCBvdXRwdXRdIG9mIHJlcGxhY2VtZW50cykgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZShvcmlnaW5hbFRleHQsIG91dHB1dCk7XG5cbiAgICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBGb3JtYXRzIHRlbXBsYXRlIHNwYWNpbmcgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGZvcm1hdC5cbiAqL1xuZnVuY3Rpb24gZm9ybWF0VGVtcGxhdGVzKGNvbnRlbnQ6IHN0cmluZykge1xuICAgIGVudW0gRm9ybWF0U3R5bGUge1xuICAgICAgICBFeHBhbmRlZCxcbiAgICAgICAgRXhwYW5kZWRBbGlnbmVkLFxuICAgICAgICBNaW5pbWl6ZWQsXG4gICAgICAgIE1pbmltaXplZFNwYWNlZCxcbiAgICB9XG5cbiAgICBjbGFzcyBUZW1wbGF0ZSB7XG4gICAgICAgIHB1YmxpYyBsb2NhdGlvbjogeyBzdGFydDogbnVtYmVyOyBlbmQ/OiBudW1iZXIgfTtcbiAgICAgICAgcHVibGljIGlzTmVzdGVkID0gZmFsc2U7XG5cbiAgICAgICAgcHVibGljIGZ1bGxUZXh0Pzogc3RyaW5nO1xuICAgICAgICBwcml2YXRlIGZ1bGxUZXh0RXNjYXBlZD86IHN0cmluZztcbiAgICAgICAgcHJpdmF0ZSBuYW1lPzogc3RyaW5nO1xuICAgICAgICBwcml2YXRlIHBhcmFtZXRlcnM6IHsga2V5OiBzdHJpbmcgfCBudWxsOyB2YWx1ZTogc3RyaW5nIH1bXSA9IFtdO1xuICAgICAgICBwdWJsaWMgc3ViVGVtcGxhdGVzOiBUZW1wbGF0ZVtdID0gW107XG5cbiAgICAgICAgcHJpdmF0ZSBwbGFjZWhvbGRlclN0cmluZ3MgPSBbJ1xcdXtGMDAwMH0nLCAnXFx1ezEwRkZGRn0nXTtcblxuICAgICAgICBwcml2YXRlIHBpcGVFc2NhcGVSZWdleGVzID0gWy8oXFxbXFxbW15cXF1dKj8pXFx8KC4qP11dKS9nLCAvKDwhLS0uKj8pXFx8KC4qPy0tPikvZywgLyg8bm93aWtpPi4qPylcXHwoLio/PFxcL25vd2lraT4pL2ddO1xuXG4gICAgICAgIHByaXZhdGUgZGVmYXVsdFRlbXBsYXRlU3R5bGVzID0ge1xuICAgICAgICAgICAgW0Zvcm1hdFN0eWxlLkV4cGFuZGVkQWxpZ25lZF06IFtcbiAgICAgICAgICAgICAgICAnaW5mb2JveCcsXG4gICAgICAgICAgICAgICAgJ3NwZWNpZXNib3gnLFxuICAgICAgICAgICAgICAgICd0YXhvYm94JyxcbiAgICAgICAgICAgICAgICAnYXV0b21hdGljIHRheG9ib3gnLFxuICAgICAgICAgICAgICAgICdvc20gbG9jYXRpb24gbWFwJyxcbiAgICAgICAgICAgICAgICAnbW90b3JzcG9ydCBzZWFzb24nLFxuICAgICAgICAgICAgICAgICdibG9ja3F1b3RlJyxcbiAgICAgICAgICAgICAgICAncXVvdGUgYm94JyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbRm9ybWF0U3R5bGUuTWluaW1pemVkXTogWydjb29yZCcsICdzdGFydCBkYXRlJywgJ2VuZCBkYXRlJywgJ2xhbmcnLCAnbGFuZ3gnXSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdHJ1Y3RvcihzdGFydExvY2F0aW9uOiBudW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMubG9jYXRpb24gPSB7IHN0YXJ0OiBzdGFydExvY2F0aW9uIH07XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcGFyc2UoKSB7XG4gICAgICAgICAgICB0aGlzLmZ1bGxUZXh0ID0gY29udGVudC5zbGljZSh0aGlzLmxvY2F0aW9uLnN0YXJ0LCB0aGlzLmxvY2F0aW9uLmVuZCk7XG4gICAgICAgICAgICB0aGlzLmZ1bGxUZXh0RXNjYXBlZCA9IHRoaXMuZnVsbFRleHQ7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3Qgc3ViVGVtcGxhdGUgb2YgdGhpcy5zdWJUZW1wbGF0ZXMpIHtcbiAgICAgICAgICAgICAgICBzdWJUZW1wbGF0ZS5wYXJzZSgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5mdWxsVGV4dEVzY2FwZWQgPSB0aGlzLmZ1bGxUZXh0RXNjYXBlZC5yZXBsYWNlKHN1YlRlbXBsYXRlLmZ1bGxUZXh0ISwgdGhpcy5wbGFjZWhvbGRlclN0cmluZ3NbMF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdHJpbW1lZElubmVyVGV4dCA9IHRoaXMuZnVsbFRleHRFc2NhcGVkLnNsaWNlKDIsIC0yKS50cmltKCk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgcGlwZUVzY2FwZVJlZ2V4IG9mIHRoaXMucGlwZUVzY2FwZVJlZ2V4ZXMpXG4gICAgICAgICAgICAgICAgd2hpbGUgKHBpcGVFc2NhcGVSZWdleC50ZXN0KHRyaW1tZWRJbm5lclRleHQpKVxuICAgICAgICAgICAgICAgICAgICB0cmltbWVkSW5uZXJUZXh0ID0gdHJpbW1lZElubmVyVGV4dC5yZXBsYWNlQWxsKHBpcGVFc2NhcGVSZWdleCwgYCQxJHt0aGlzLnBsYWNlaG9sZGVyU3RyaW5nc1sxXX0kMmApO1xuXG4gICAgICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0gdHJpbW1lZElubmVyVGV4dC5zcGxpdCgnfCcpLm1hcCgocGFyYW1ldGVyKSA9PiBwYXJhbWV0ZXIucmVwbGFjZUFsbCh0aGlzLnBsYWNlaG9sZGVyU3RyaW5nc1sxXSwgJ3wnKS50cmltKCkpO1xuXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBwYXJhbWV0ZXJzLnNoaWZ0KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNwbGl0UGFyYW1ldGVycyA9IHBhcmFtZXRlcnMubWFwKChwYXJhbWV0ZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXF1YWxzTG9jYXRpb24gPSBwYXJhbWV0ZXJzLmluZGV4T2YoJz0nKTtcblxuICAgICAgICAgICAgICAgIGlmIChlcXVhbHNMb2NhdGlvbiA9PT0gLTEpIHJldHVybiB7IGtleTogbnVsbCwgdmFsdWU6IHBhcmFtZXRlcnMudHJpbSgpIH07XG5cbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcmFtZXRlcnMuc2xpY2UoZXF1YWxzTG9jYXRpb24gKyAxKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogcGFyYW1ldGVycy5zbGljZSgwLCBlcXVhbHNMb2NhdGlvbikudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYCR7dmFsdWUuc3RhcnRzV2l0aCgnXFxuJykgPyAnXFxuJyA6ICcnfSR7dmFsdWUudHJpbSgpfWAsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBzcGxpdFBhcmFtZXRlcnM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGdldFN0eWxlKCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBbZm9ybWF0U3R5bGUsIHRlbXBsYXRlUHJlZml4ZXNdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuZGVmYXVsdFRlbXBsYXRlU3R5bGVzKSlcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRlbXBsYXRlUHJlZml4IG9mIHRlbXBsYXRlUHJlZml4ZXMpXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5hbWUhLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCh0ZW1wbGF0ZVByZWZpeCkpIHJldHVybiBOdW1iZXIucGFyc2VJbnQoZm9ybWF0U3R5bGUpIGFzIEZvcm1hdFN0eWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGZvcm1hdCgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5mdWxsVGV4dCkgdGhpcy5wYXJzZSgpO1xuXG4gICAgICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2V0U3R5bGUoKTtcbiAgICAgICAgICAgIGlmIChzdHlsZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5mdWxsVGV4dCE7XG5cbiAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IFtge3ske3RoaXMubmFtZX1gXTtcblxuICAgICAgICAgICAgaWYgKHN0eWxlID09PSBGb3JtYXRTdHlsZS5FeHBhbmRlZCB8fCBzdHlsZSA9PT0gRm9ybWF0U3R5bGUuRXhwYW5kZWRBbGlnbmVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlcXVpcmVkS2V5TGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZSA9PT0gRm9ybWF0U3R5bGUuRXhwYW5kZWRBbGlnbmVkKVxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZEtleUxlbmd0aCA9IE1hdGgubWF4KC4uLnRoaXMucGFyYW1ldGVycy5tYXAoKHBhcmFtZXRlcikgPT4gcGFyYW1ldGVyLmtleT8ubGVuZ3RoID8/IDApKTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFyYW1ldGVyIG9mIHRoaXMucGFyYW1ldGVycylcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goYHwgJHtwYXJhbWV0ZXIua2V5ID8gYCR7cGFyYW1ldGVyLmtleS5wYWRFbmQocmVxdWlyZWRLZXlMZW5ndGgpfSA9IGAgOiAnJ30ke3BhcmFtZXRlci52YWx1ZX1gKTtcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFyYW1ldGVyIG9mIHRoaXMucGFyYW1ldGVycylcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtZXRlci52YWx1ZSkgb3V0cHV0LnB1c2goYHwke3BhcmFtZXRlci5rZXkgPyBgJHtwYXJhbWV0ZXIua2V5fT1gIDogJyd9JHtwYXJhbWV0ZXIudmFsdWV9YCk7XG5cbiAgICAgICAgICAgIG91dHB1dC5wdXNoKCd9fScpO1xuXG4gICAgICAgICAgICBpZiAob3V0cHV0Lmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIG91dHB1dFswXSArPSAnfX0nO1xuXG4gICAgICAgICAgICAgICAgb3V0cHV0LnBvcCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHlsZSA9PT0gRm9ybWF0U3R5bGUuTWluaW1pemVkU3BhY2VkKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W291dHB1dC5sZW5ndGggLSAyXSArPSAnfX0nO1xuXG4gICAgICAgICAgICAgICAgb3V0cHV0LnBvcCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgam9pbmVkT3V0cHV0ID0gb3V0cHV0LmpvaW4oXG4gICAgICAgICAgICAgICAgc3R5bGUgPT09IEZvcm1hdFN0eWxlLkV4cGFuZGVkIHx8IHN0eWxlID09PSBGb3JtYXRTdHlsZS5FeHBhbmRlZEFsaWduZWRcbiAgICAgICAgICAgICAgICAgICAgPyAnXFxuJ1xuICAgICAgICAgICAgICAgICAgICA6IHN0eWxlID09PSBGb3JtYXRTdHlsZS5NaW5pbWl6ZWRTcGFjZWRcbiAgICAgICAgICAgICAgICAgICAgICA/ICcgJ1xuICAgICAgICAgICAgICAgICAgICAgIDogJycsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN1YlRlbXBsYXRlIG9mIHRoaXMuc3ViVGVtcGxhdGVzKVxuICAgICAgICAgICAgICAgIGpvaW5lZE91dHB1dCA9IGpvaW5lZE91dHB1dC5yZXBsYWNlKHRoaXMucGxhY2Vob2xkZXJTdHJpbmdzWzBdLCBzdWJUZW1wbGF0ZS5mb3JtYXQoKSk7XG5cbiAgICAgICAgICAgIHJldHVybiBqb2luZWRPdXRwdXQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBhbGxUZW1wbGF0ZXM6IFRlbXBsYXRlW10gPSBbXTtcblxuICAgIGNvbnN0IGluc2lkZVRlbXBsYXRlczogVGVtcGxhdGVbXSA9IFtdO1xuICAgIGxldCBpc0luc2lkZUxpbmsgPSBmYWxzZTtcbiAgICBsZXQgaXNJbnNpZGVOb3dpa2kgPSBmYWxzZTtcbiAgICBsZXQgaXNJbnNpZGVDb21tZW50ID0gZmFsc2U7XG5cbiAgICBsZXQgY3VycmVudExvY2F0aW9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgY29udGVudCBmb2xsb3dpbmcgdGhlIGN1cnJlbnQgbG9jYXRpb24gbWF0Y2hlcyB0aGUgZGVzaXJlZCBzdHJpbmcuXG4gICAgICogQHBhcmFtIGRlc2lyZWRTdHJpbmcgVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXRTdHJpbmcoZGVzaXJlZFN0cmluZzogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGlzQXRTdHJpbmcgPSBjb250ZW50LnNsaWNlKGN1cnJlbnRMb2NhdGlvbiwgY3VycmVudExvY2F0aW9uICsgZGVzaXJlZFN0cmluZy5sZW5ndGgpID09PSBkZXNpcmVkU3RyaW5nO1xuXG4gICAgICAgIGlmIChpc0F0U3RyaW5nKSBjdXJyZW50TG9jYXRpb24gKz0gZGVzaXJlZFN0cmluZy5sZW5ndGg7XG5cbiAgICAgICAgcmV0dXJuIGlzQXRTdHJpbmc7XG4gICAgfVxuXG4gICAgd2hpbGUgKGN1cnJlbnRMb2NhdGlvbiA8IGNvbnRlbnQubGVuZ3RoKVxuICAgICAgICBpZiAoaXNBdFN0cmluZygnPG5vd2lraT4nKSkgaXNJbnNpZGVOb3dpa2kgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCc8L25vd2lraT4nKSkgaXNJbnNpZGVOb3dpa2kgPSBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnPCEtLScpKSBpc0luc2lkZUNvbW1lbnQgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCctLT4nKSkgaXNJbnNpZGVDb21tZW50ID0gZmFsc2U7XG4gICAgICAgIGVsc2UgaWYgKCFpc0luc2lkZU5vd2lraSAmJiAhaXNJbnNpZGVDb21tZW50KVxuICAgICAgICAgICAgaWYgKGlzQXRTdHJpbmcoJ1tbJykpIGlzSW5zaWRlTGluayA9IHRydWU7XG4gICAgICAgICAgICBlbHNlIGlmIChpc0luc2lkZUxpbmsgJiYgaXNBdFN0cmluZygnXV0nKSkgaXNJbnNpZGVMaW5rID0gZmFsc2U7XG4gICAgICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCd7eycpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUoY3VycmVudExvY2F0aW9uIC0gMik7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5zaWRlVGVtcGxhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUuaXNOZXN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpbnNpZGVUZW1wbGF0ZXMuYXQoLTEpPy5zdWJUZW1wbGF0ZXMucHVzaCh0ZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaW5zaWRlVGVtcGxhdGVzLnB1c2godGVtcGxhdGUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0F0U3RyaW5nKCd9fScpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdFRlbXBsYXRlID0gaW5zaWRlVGVtcGxhdGVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlmICghbGFzdFRlbXBsYXRlKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGxhc3RUZW1wbGF0ZS5sb2NhdGlvbi5lbmQgPSBjdXJyZW50TG9jYXRpb247XG5cbiAgICAgICAgICAgICAgICBhbGxUZW1wbGF0ZXMucHVzaChsYXN0VGVtcGxhdGUpO1xuICAgICAgICAgICAgfSBlbHNlIGN1cnJlbnRMb2NhdGlvbisrO1xuICAgICAgICBlbHNlIGN1cnJlbnRMb2NhdGlvbisrO1xuXG4gICAgbGV0IG5ld0NvbnRlbnQgPSBjb250ZW50O1xuXG4gICAgZm9yIChjb25zdCB0ZW1wbGF0ZSBvZiBhbGxUZW1wbGF0ZXMpXG4gICAgICAgIGlmICghdGVtcGxhdGUuaXNOZXN0ZWQpIHtcbiAgICAgICAgICAgIHRlbXBsYXRlLnBhcnNlKCk7XG5cbiAgICAgICAgICAgIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LnJlcGxhY2UodGVtcGxhdGUuZnVsbFRleHQhLCB0ZW1wbGF0ZS5mb3JtYXQoKSk7XG4gICAgICAgIH1cblxuICAgIHJldHVybiBuZXdDb250ZW50O1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7O21CQW1DUSxHQUFHLE9BQU8sSUFBSSxtQkFBbUIsRUFBSSxHQUNwQyxHQUFHLE9BQU8sSUFBSSxzQkFBc0IsR0FFekMsR0FBRyxPQUFPLE1BQU0sQ0FBQyxpQkFBa0Isc0JBQXNCLEVBQUcsSUFBTSxDQUM5RCxHQUFHLEtBQUssT0FBTztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT3JCLEVBRU0sSUFBTUEsRUFBTyxHQUFHLEtBQUssZUFDakIsR0FBRyxPQUFPLElBQUksTUFBTSxJQUFNLFVBQVksZUFBaUIsYUFDdkQsSUFDQSwwQkFDQSxpQkFDSixFQUVJQyxFQUF5QixHQUV2QkMsRUFBZ0IsNEZBRXRCLEdBQUcsS0FBSyw0QkFBNEIsRUFBRSxJQUFJLElBQU0sQ0FDNUMsR0FBSUQsRUFBd0IsQ0FDeEIsSUFBTUUsRUFBZSxTQUFTLGNBQW1DLHNDQUFzQyxFQUVsR0EsRUFBYSxNQUFNLFNBQVNELEVBQWMsTUFBTSxDQUFDLENBQUMsSUFDL0NDLEVBQWEsTUFBT0EsRUFBYSxPQUFTLEtBQUtELEVBQWMsT0FBTyxDQUFDLEVBQUUsWUFBWSxFQUFJQSxFQUFjLE1BQU0sQ0FBQyxDQUFDLEdBQzVHQyxFQUFhLE1BQVFELEdBRTlCRCxFQUF5QixFQUM3QixDQUNKLENBQUMsRUFFREQsRUFBSyxpQkFBaUIsUUFBVUksR0FBVSxDQUN0Q0EsRUFBTSxlQUFlLEVBRXJCLElBQU1DLEVBQVUsRUFBRSxhQUFhLEVBQy9CLEdBQUlBLEVBQVEsU0FBVyxFQUFHLE9BQU8sR0FBRyxPQUFPLHNCQUF1QixDQUFFLEtBQU0sUUFBUyxnQkFBaUIsT0FBUSxDQUFDLEVBRTdHLElBQU1DLEVBQWVELEVBQVEsY0FBYyxh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LFFBQVdxRixLQUFZTCxFQUNkSyxFQUFTLFdBQ1ZBLEVBQVMsTUFBTSxFQUVmRSxFQUFhQSxFQUFXLFFBQVFGLEVBQVMsU0FBV0EsRUFBUyxPQUFPLENBQUMsR0FHN0UsT0FBT0UsQ0FDWCIsCiAgIm5hbWVzIjogWyJsaW5rIiwgInNob3VsZEFkZFNjcmlwdE1lc3NhZ2UiLCAic2NyaXB0TWVzc2FnZSIsICJzdW1tYXJ5SW5wdXQiLCAiZXZlbnQiLCAiZWRpdEJveCIsICJvcmlnaW5hbFRleHQiLCAiZmluYWxUZXh0IiwgImNsZWFudXBTZWN0aW9uSGVhZGVycyIsICJjbGVhbnVwTWFnaWNXb3JkcyIsICJjbGVhbnVwRGlzcGxheXRpdGxlc0FuZERlZmF1bHRzb3J0cyIsICJjbGVhbnVwQ2F0ZWdvcmllcyIsICJjbGVhbnVwTGlua3MiLCAiY2xlYW51cEltcHJvcGVyQ2hhcmFjdGVycyIsICJjbGVhbnVwU3RyYXlNYXJrdXAiLCAiY2xlYW51cFNwYWNpbmciLCAiY2xlYW51cFJlZmVyZW5jZXMiLCAiZm9ybWF0VGVtcGxhdGVzIiwgInN1cmZhY2VNb2RlbCIsICJlc2NhcGVSZWdleENoYXJhY3RlcnMiLCAic3RyaW5nIiwgImNvbnRlbnQiLCAiY29tbW9uUmVwbGFjZW1lbnRzIiwgImNvbW1vbk1pc2NhcGl0YWxpemVkV29yZHMiLCAicmV2ZXJzZUNvbW1vblJlcGxhY2VtZW50cyIsICJrZXkiLCAidmFsdWVzIiwgInZhbHVlIiwgInBhcnNlZEhlYWRlcnMiLCAiaGVhZGVyIiwgIm5hbWUiLCAic3RhcnRNYXJrdXAiLCAiZW5kTWFya3VwIiwgImxpbmtzIiwgImRlcHRoIiwgInRpdGxlU3BhY2VyIiwgImNhcGl0YWxpemVkTmFtZSIsICJ3b3JkIiwgIm91dHB1dCIsICJwYXJzZWRUYWdzIiwgInRhZyIsICJmdWxsVGFnIiwgInR5cGUiLCAiY3VycmVudFRpdGxlIiwgIm9yaWdpbmFsVGFnUmVnZXgiLCAidGl0bGUiLCAibmV3VGV4dCIsICJmdW5jdGlvbnNDYWxsZWRXaGlsZUVzY2FwZWQiLCAiY2xvc2VkTGlua3MiLCAiY3VycmVudExvY2F0aW9uIiwgImlzQXRTdHJpbmciLCAiZGVzaXJlZFN0cmluZyIsICJzaG91bGRJbmNyZW1lbnQiLCAibGFzdExpbmsiLCAibmV3TGlua0NvbnRlbnQiLCAibmFtZXNwYWNlTmFtZXMiLCAibGlua0xvY2F0aW9uIiwgImlubmVyTGluayIsICJ1bnBhcnNlZExpbmsiLCAicGFyYW1ldGVycyIsICJhbHRUZXh0IiwgImlzRmlyc3RDaGFyYWN0ZXJDb2xvbiIsICJzaG91bGRGaXJzdENoYXJhY3RlckJlQ29sb24iLCAibGlua1VwcGVyY2FzZVN0YXJ0IiwgImxpbmtMb3dlcmNhc2VTdGFydCIsICJhZnRlckxpbmtUZXh0IiwgIm5ld0xpbmsiLCAibmFtZXNwYWNlIiwgImZ1bmN0aW9uVG9DYWxsIiwgImxvb3BDb3VudGVyIiwgImxpbmtEYXRhIiwgImxpbmtDb250ZW50IiwgInJ1biIsICJlbGlwc2lzUGxhY2Vob2xkZXIiLCAibmJzcFBsYWNlaG9sZGVyIiwgInN0cmF5TWFya3VwUmVnZXhlcyIsICJyZWdleCIsICJyZWZlcmVuY2VzIiwgInByb2NlZWRVbnRpbFN0cmluZyIsICJzdGFydCIsICJpc1NlbGZDbG9zaW5nIiwgInBhcnNlciIsICJyZXBsYWNlbWVudHMiLCAicmVmZXJlbmNlIiwgInN0YXJ0VGFnIiwgInRhZ0NvbnRlbnQiLCAiRm9ybWF0U3R5bGUiLCAiVGVtcGxhdGUiLCAic3RhcnRMb2NhdGlvbiIsICJzdWJUZW1wbGF0ZSIsICJ0cmltbWVkSW5uZXJUZXh0IiwgInBpcGVFc2NhcGVSZWdleCIsICJwYXJhbWV0ZXIiLCAic3BsaXRQYXJhbWV0ZXJzIiwgImVxdWFsc0xvY2F0aW9uIiwgImZvcm1hdFN0eWxlIiwgInRlbXBsYXRlUHJlZml4ZXMiLCAidGVtcGxhdGVQcmVmaXgiLCAic3R5bGUiLCAicmVxdWlyZWRLZXlMZW5ndGgiLCAiam9pbmVkT3V0cHV0IiwgImFsbFRlbXBsYXRlcyIsICJpbnNpZGVUZW1wbGF0ZXMiLCAiaXNJbnNpZGVMaW5rIiwgImlzSW5zaWRlTm93aWtpIiwgImlzSW5zaWRlQ29tbWVudCIsICJ0ZW1wbGF0ZSIsICJsYXN0VGVtcGxhdGUiLCAibmV3Q29udGVudCJdCn0K
