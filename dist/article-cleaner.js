// <nowiki>
// Note: This script was compiled and minified from TypeScript. For a more readable version, see https://github.com/Eejit43/wikipedia-scripts/blob/main/scripts/article-cleaner.ts

"use strict";(()=>{mw.config.get("wgNamespaceNumber")<0||mw.config.get("wgIsProbablyEditable")&&mw.loader.using(["mediawiki.util","jquery.textSelection"],()=>{mw.util.addCSS(`
#article-cleaner {
    display: none;
}

#content:has(#wpTextbox1) #article-cleaner {
    display: unset;
}`);let e=mw.util.addPortletLink(mw.config.get("skin")==="minerva"?"p-navigation":"p-cactions","#","Perform article cleanup","article-cleaner"),h=!1,u="Cleaned up article content (via [[User:Eejit43/scripts/article-cleaner|article-cleaner]])";mw.hook("ve.saveDialog.stateChanged").add(()=>{if(h){let g=document.querySelector(".ve-ui-mwSaveDialog-summary textarea");g.value.includes(u.slice(1))||(g.value?g.value+=`; ${u.charAt(0).toLowerCase()+u.slice(1)}`:g.value=u),h=!1}}),e.addEventListener("click",g=>{g.preventDefault();let o=$("#wpTextbox1");if(o.length===0)return mw.notify("Edit box not found!",{type:"error",autoHideSeconds:"short"});let p=o.textSelection("getContents"),s=p;if(s=C(s),s=E(s),s=v(s),s=L(s),s=I(s,[N,F]),s=R(s),s=M(s),s=O(s),s=D(s),p===s)mw.notify("No changes to be made to the article!",{type:"warn",autoHideSeconds:"short"});else{if(ve.init){let c=ve.init.target.getSurface().getModel();c.getLinearFragment(c.getRangeFromSourceOffsets(0,p.length)).insertContent(s),c.setSelection(new ve.dm.LinearSelection(new ve.Range(0,0)))}else o.textSelection("setContents",s),o.textSelection("setSelection",{start:0});mw.notify("Article cleanup complete!",{type:"success",autoHideSeconds:"short"});let d=document.querySelector("#wpSummary");d?d.value.includes(u.slice(1))||(d.value?d.value+=`; ${u.charAt(0).toLowerCase()+u.slice(1)}`:d.value=u):h=!0}})});function y(e){return e.replaceAll(/[$()*+.?[\\\]^{|}]/g,"\\$&")}function C(e){let h={"See also":["also see"],References:["reference","source","sources","citation","citations"],"Further reading":["further reading"],"External links":["external link","weblink","weblinks"]},u=["and","birth","career","death","education","life","or"],g=Object.fromEntries(Object.entries(h).flatMap(([c,i])=>i.map(t=>[t,c]))),p=[...e.matchAll(/\n*(?<startMarkup>=+) *(?<name>.*?) *(?<endMarkup>=+)\n+/g)].map(c=>{let{name:i}=c.groups,{startMarkup:t,endMarkup:a}=c.groups;i=i.replaceAll(/'{3}/g,"");let r=i.matchAll(/\[\[(.+?)]]/g).toArray();for(let l of r)i=i.replace(l[0],l[1].split("|").at(-1));let f=Math.max(t.length,a.length,2);return{name:i,depth:f,original:c[0]}}),s=new Set(p.map(c=>c.name.toLowerCase())),d=p.length>0&&/^\n*=+ | =+\n+$/.test(p[0].original)?" ":"";for(let c of p){let i=c.name.toLowerCase(),a=i in g&&!s.has(g[i].toLowerCase())?g[i]:c.name;for(let f of u)a=a.replaceAll(new RegExp(`\\b${f}\\b`,"gi"),f);a=a.charAt(0).toUpperCase()+a.slice(1);let r=`${"=".repeat(c.depth)}${d}${a}${d}${"=".repeat(c.depth)}`;c.original!==r&&(e=e.replace(c.original,`

${r}
`))}return e}function E(e){return e.replaceAll(/__(INDEX|NOINDEX|NEWSECTIONLINK|NONEWSECTIONLINK|NOEDITSECTION|DISAMBIG|STATICREDIRECT|FORCETOC)__\n*/g,"")}function v(e){let u=[...e.matchAll(/{{(displaytitle|defaultsort)[:|](.*?)}}/gi)].map(o=>{let[p,s,d]=o;return{type:s.toUpperCase(),value:d,original:p}}),g=mw.Title.newFromText(mw.config.get("wgPageName"));for(let o of u){let p=new RegExp(`${y(o.original)}
*`,"g"),s=mw.Title.makeTitle(g.getNamespaceId(),o.value.includes(":")?o.value.split(":")[1]:o.value);if(g.toText()===s.toText()){e=e.replace(p,"");continue}let d=`{{${o.type}:${s.toText()}}}
`;e=e.replace(p,d)}return e}function L(e){return e.replaceAll(/(\[\[|}}):?category:(.*?)(]]|}})/gi,`[[${mw.config.get("wgCanonicalNamespace")==="Draft"?":":""}Category:$2]]`)}function I(e,h){let u=[],g=[],o=!1,p=!1,s=0;function d(t,a=!0){let r=e.slice(s,s+t.length)===t;return r&&a&&(s+=t.length),r}for(;s<e.length;)if(d("<nowiki>"))o=!0;else if(d("</nowiki>"))o=!1;else if(d("<!--"))p=!0;else if(d("-->"))p=!1;else if(!o&&!p)if(d("[["))g.push({start:s-2,end:-1,isNested:g.length>0});else if(d("]]")){let t=g.pop();if(!t)continue;t.end=s,u.push(t)}else s++;else s++;let c=[],i=Object.values(mw.config.get("wgFormattedNamespaces"));for(let t of u){let a=e.slice(t.start+2,t.end-2),[r,...f]=a.split("|");e=e.slice(0,t.start+2)+"\0".repeat(r.length)+e.slice(t.start+2+r.length);let l=r.replaceAll("_"," ").trim(),n=f.join("|");n=n===" "?" ":n.trim();let m=l.startsWith(":");m&&(l=l.slice(1));let x=!1,S=l.charAt(0).toUpperCase()+l.slice(1),T=l.charAt(0).toLowerCase()+l.slice(1),b=l.split(":")[0];b=b.charAt(0).toUpperCase()+b.slice(1),l.includes(":")&&(S.startsWith("Image:")&&(l=`${l.startsWith("Image:")?"F":"f"}ile:${l.slice(6)}`),m&&(["Image","File","Category"].includes(S.split(":")[0])||!i.includes(b))&&(x=!0));let k="";l===n?n="":new RegExp(`^${y(l)}[a-z]+$`).test(n)&&(k=n.slice(l.length),n="");for(let w of[S,T])w===n?(l=w,n=""):new RegExp(`^${y(w)}[a-z]+$`).test(n)&&(l=w,k=n.slice(w.length),n="");(n&&l.includes(":")&&i.includes(b)||l.startsWith("file:")||l.startsWith("category:"))&&(l=l.charAt(0).toUpperCase()+l.slice(1)),l=`${x?":":""}${l}`,l=l.padStart(r.length,"\0");let A=`[[${l}${n?`|${n}`:""}]]${k}`;c.push([t,A])}for(let t of h)e=t(e,1);for(let t=0;t<2;t++)for(let[a,r]of c)t===0&&a.isNested||t===1&&!a.isNested||(e=e.slice(0,a.start)+r.padEnd(a.end-a.start,"\0")+e.slice(a.end));for(let t of h)e=t(e,2);return e.replaceAll("\0","")}function N(e,h){let u="\x7F",g="\x9F";return h===1?(e=e.replaceAll(/[«»“”„‟「」]/g,'"'),e=e.replaceAll(/[‘’‚‛‹›]/g,"'"),e=e.replaceAll("\u2026",u),e=e.replaceAll("\xA0",g)):(e=e.replaceAll(u,"..."),e=e.replaceAll(g,"&nbsp;")),e}function F(e,h){return h===1&&(e=e.replaceAll(/(\(\d{3,4}) ?[‒–−-] ?(\d{3,4}\))/g,(u,g,o)=>`${g}\u2013${o}`.padEnd(u.length,"\0"))),e}function R(e){let h=[/'+(Bold|Italic)( text)?'+ */g,/(<big>)+Big( text)?(<\/big>)+ */g,/(<small>)+Small( text)?(<\/small>)+ */g,/(<sup>)+Superscript( text)?(<\/sup>)+ */g,/(<sub>)+Subscript( text)?(<\/sub>)+ */g,/(<s>)+Strikethrough(<\/s>)+ */g,/(<u>)+Underline(<\/u>)+ */g,/(<code>)+Computer code(<\/code>)+ */g,/(<nowiki>)+Insert non-formatted text here(<\/nowiki>)+ */g,/=+ Heading text =+ */g,/\* Bulleted list item */g,/# Numbered list item */g,/<gallery>\nExample.jpg\|Caption1\nExample.jpg\|Caption2\n<\/gallery> */g,/#REDIRECT \[\[Target page name]] */g,/<!-- Invisible comment --> */g,/<\s*(big|small|sup|sub|s|u|code|nowiki|noinclude|onlyinclude|includeonly|center|blockquote|gallery)\s*(\s+[^<>]*)?>\s*<\s*\/\s*\1\s*>/gi];for(let u of h)for(;u.test(e);)e=e.replace(u,"");return e}function M(e){return e=e.replaceAll(/(\b|\p{Punctuation}|\]\]|\}\}) {2,}(\b|\p{Punctuation}|\[\[|\{\{)/gu,"$1 $2"),e=e.replaceAll(/^ +| +$/gm,""),e=e.replaceAll(/\n{3,}/g,`

`),e=e.replace(/\s*({{[^}]*stub}})/i,`


$1`),e=e.replaceAll(/\s+$/g,""),e=e.replaceAll(/^([#*]+) */gm,"$1 "),e=e.replaceAll(/^([#*] .*)\n+(?=[#*] )/gm,`$1
`),e=e.replaceAll(/\s+(?=<ref(?!erences))/g,""),e=e.replaceAll(/^(=+.*?=+)$\n{2,}^(=+.*?=+)$/gm,`$1
$2`),e=e.trim(),e}function O(e){e=e.replaceAll(/((?:<ref(?!erences).*?>.*?<\/ref>)+)([!,.?])/g,"$2$1");let h=[],u=!1,g=!1,o=0;function p(i){let t=e.slice(o,o+i.length)===i;return t&&(o+=i.length),t}function s(i){for(;o<e.length&&!p(i);)o++}for(;o<e.length;)if(p("<nowiki>"))u=!0;else if(p("</nowiki>"))u=!1;else if(p("<!--"))g=!0;else if(p("-->"))g=!1;else if(!u&&!g)if(!p("<references")&&p("<ref")){let i=o-4;s(">");let t=e.slice(i,o-1).trim().endsWith("/");h.push(t?{start:i,end:o,isSelfClosing:t}:{start:i,end:-1})}else p("</ref>")?h.at(-1).end=o:o++;else o++;let d=new DOMParser,c=[];for(let i of h){let t=e.slice(i.start,i.end),a=/<ref(?!erences).*?>/is.exec(t)[0],f=d.parseFromString(i.isSelfClosing?a.replace(/ *\/ *>/," />"):a+"</ref>","text/html").body.firstChild.outerHTML.replaceAll("&amp;","&"),l=t.slice(a.length,-6).trim();f=i.isSelfClosing||l.length===0?f.replace(/>\s*<\/ref>/," />"):`${f.slice(0,-6)}${l}</ref>`,t!==f&&c.push([t,f])}for(let[i,t]of c)e=e.replace(i,t);return e}function D(e){let h;(n=>(n[n.Expanded=0]="Expanded",n[n.ExpandedAligned=1]="ExpandedAligned",n[n.Minimized=2]="Minimized",n[n.MinimizedSpaced=3]="MinimizedSpaced"))(h||={});class u{location;isNested=!1;fullText;fullTextEscaped;name;parameters=[];subTemplates=[];placeholderStrings=["\u{F0000}","\u{10FFFF}","\u{FFFFE}"];pipeEscapeRegexes=[/(\[\[[^\]]*?)\|(.*?]])/g,/(<!--.*?)\|(.*?-->)/g,/(<nowiki>.*?)\|(.*?<\/nowiki>)/g];defaultTemplateStyles={1:["automatic taxobox","blockquote","hybridbox","ichnobox","infobox","infraspeciesbox","listen","location map many","motorsport season","multiple image","mycomorphbox","oobox","osm location map","quote box","speciesbox","taxobox","virusbox"],2:["coord","end date","lang","langx","start date"],3:["infobox mapframe"]};constructor(r){this.location={start:r}}parse(){this.fullText=e.slice(this.location.start,this.location.end),this.fullTextEscaped=this.fullText;for(let m of this.subTemplates)m.parse(),this.fullTextEscaped=this.fullTextEscaped.replace(m.fullText,this.placeholderStrings[0]);let r=this.fullTextEscaped.slice(2,-2).trim();for(let m of this.pipeEscapeRegexes)for(;m.test(r);)r=r.replaceAll(m,`$1${this.placeholderStrings[1]}$2`);let f=[/<(\w+)( [^<>]+?)(?<!\/)>.*?<\/\1>/g,/<(\w+)( [^<>]+?)\/>/g];for(let m of f)r=r.replaceAll(m,(x,S,T)=>x.replace(T,T.replaceAll("=",this.placeholderStrings[2])));let l=r.split("|").map(m=>m.replaceAll(this.placeholderStrings[1],"|").trim());this.name=l.shift();let n=l.map(m=>{let x=m.indexOf("=");if(x===-1)return{key:null,value:m.replaceAll(this.placeholderStrings[2],"=").trim()};let S=m.slice(x+1).replaceAll(this.placeholderStrings[2],"=");return{key:m.slice(0,x).trim(),value:`${S.startsWith(`
`)?`
`:""}${S.trim()}`}});this.parameters=n}getStyle(){let r=0,f;for(let[l,n]of Object.entries(this.defaultTemplateStyles))for(let m of n)this.name.toLowerCase().startsWith(m)&&m.length>=r&&(r=m.length,f=Number.parseInt(l));return f}format(){this.fullText||this.parse();let r=this.getStyle();if(r===void 0)return this.fullText;let f=[`{{${this.name}`];if(r===0||r===1){let n=0;r===1&&(n=Math.max(...this.parameters.map(m=>m.key?.length??0)));for(let m of this.parameters)f.push(`| ${m.key?`${m.key.padEnd(n)} = `:""}${m.value}`)}else for(let n of this.parameters)n.value&&f.push(`|${n.key?`${n.key}=`:""}${n.value}`);f.push("}}"),f.length===2?(f[0]+="}}",f.pop()):r===3&&(f[f.length-2]+="}}",f.pop());let l=f.join(r===0||r===1?`
`:r===3?" ":"");for(let n of this.subTemplates)l=l.replace(this.placeholderStrings[0],n.format());return l}}let g=[],o=[],p=!1,s=!1,d=!1,c=0;function i(a){let r=e.slice(c,c+a.length)===a;return r&&(c+=a.length),r}for(;c<e.length;)if(i("<nowiki>"))s=!0;else if(i("</nowiki>"))s=!1;else if(i("<!--"))d=!0;else if(i("-->"))d=!1;else if(!s&&!d)if(i("[["))p=!0;else if(p&&i("]]"))p=!1;else if(i("{{")){let a=new u(c-2);o.length>0&&(a.isNested=!0,o.at(-1)?.subTemplates.push(a)),o.push(a)}else if(i("}}")){let a=o.pop();if(!a)continue;a.location.end=c,g.push(a)}else c++;else c++;let t=e;for(let a of g)a.isNested||(a.parse(),t=t.replace(a.fullText,a.format()));return t}})();

// </nowiki>
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc2NyaXB0cy9hcnRpY2xlLWNsZWFuZXIudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImRlY2xhcmUgZ2xvYmFsIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4dHJhbmVvdXMtY2xhc3NcbiAgICBjbGFzcyBWZVJhbmdlIHtcbiAgICAgICAgY29uc3RydWN0b3Ioc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpO1xuICAgIH1cblxuICAgIGNsYXNzIFZlRnJhZ21lbnQge1xuICAgICAgICBpbnNlcnRDb250ZW50KGNvbnRlbnQ6IHN0cmluZyk6IHZvaWQ7XG4gICAgfVxuXG4gICAgY2xhc3MgVmVTdXJmYWNlTW9kZWwge1xuICAgICAgICBnZXRMaW5lYXJGcmFnbWVudChyYW5nZTogVmVSYW5nZSk6IFZlRnJhZ21lbnQ7XG4gICAgICAgIGdldFJhbmdlRnJvbVNvdXJjZU9mZnNldHMoc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpOiBWZVJhbmdlO1xuICAgICAgICBzZXRTZWxlY3Rpb24oc2VsZWN0aW9uOiBWZUxpbmVhclNlbGVjdGlvbik6IHZvaWQ7XG4gICAgfVxuXG4gICAgY2xhc3MgVmVUYXJnZXQge1xuICAgICAgICBnZXRTdXJmYWNlKCk6IHsgZ2V0TW9kZWwoKTogVmVTdXJmYWNlTW9kZWwgfTtcbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4dHJhbmVvdXMtY2xhc3NcbiAgICBjbGFzcyBWZUxpbmVhclNlbGVjdGlvbiB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHJhbmdlOiBWZVJhbmdlKTtcbiAgICB9XG5cbiAgICBjb25zdCB2ZToge1xuICAgICAgICBSYW5nZTogdHlwZW9mIFZlUmFuZ2U7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uXG4gICAgICAgIGRtOiB7IExpbmVhclNlbGVjdGlvbjogdHlwZW9mIFZlTGluZWFyU2VsZWN0aW9uIH07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uXG4gICAgICAgIGluaXQ/OiB7IHRhcmdldDogVmVUYXJnZXQgfTtcbiAgICB9O1xufVxuXG5leHBvcnQge307XG5cbigoKSA9PiB7XG4gICAgaWYgKG13LmNvbmZpZy5nZXQoJ3dnTmFtZXNwYWNlTnVtYmVyJykgPCAwKSByZXR1cm47IC8vIERvbid0IHJ1biBpbiB2aXJ0dWFsIG5hbWVzcGFjZXNcbiAgICBpZiAoIW13LmNvbmZpZy5nZXQoJ3dnSXNQcm9iYWJseUVkaXRhYmxlJykpIHJldHVybjsgLy8gRG9uJ3QgcnVuIGlmIHVzZXIgY2FuJ3QgZWRpdCBwYWdlXG5cbiAgICBtdy5sb2FkZXIudXNpbmcoWydtZWRpYXdpa2kudXRpbCcsICdqcXVlcnkudGV4dFNlbGVjdGlvbiddLCAoKSA9PiB7XG4gICAgICAgIG13LnV0aWwuYWRkQ1NTKGBcbiNhcnRpY2xlLWNsZWFuZXIge1xuICAgIGRpc3BsYXk6IG5vbmU7XG59XG5cbiNjb250ZW50Omhhcygjd3BUZXh0Ym94MSkgI2FydGljbGUtY2xlYW5lciB7XG4gICAgZGlzcGxheTogdW5zZXQ7XG59YCk7XG5cbiAgICAgICAgY29uc3QgbGluayA9IG13LnV0aWwuYWRkUG9ydGxldExpbmsoXG4gICAgICAgICAgICBtdy5jb25maWcuZ2V0KCdza2luJykgPT09ICdtaW5lcnZhJyA/ICdwLW5hdmlnYXRpb24nIDogJ3AtY2FjdGlvbnMnLFxuICAgICAgICAgICAgJyMnLFxuICAgICAgICAgICAgJ1BlcmZvcm0gYXJ0aWNsZSBjbGVhbnVwJyxcbiAgICAgICAgICAgICdhcnRpY2xlLWNsZWFuZXInLFxuICAgICAgICApITtcblxuICAgICAgICBsZXQgc2hvdWxkQWRkU2NyaXB0TWVzc2FnZSA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IHNjcmlwdE1lc3NhZ2UgPSAnQ2xlYW5lZCB1cCBhcnRpY2xlIGNvbnRlbnQgKHZpYSBbW1VzZXI6RWVqaXQ0My9zY3JpcHRzL2FydGljbGUtY2xlYW5lcnxhcnRpY2xlLWNsZWFuZXJdXSknO1xuXG4gICAgICAgIG13Lmhvb2soJ3ZlLnNhdmVEaWFsb2cuc3RhdGVDaGFuZ2VkJykuYWRkKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChzaG91bGRBZGRTY3JpcHRNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3VtbWFyeUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MVGV4dEFyZWFFbGVtZW50PignLnZlLXVpLW13U2F2ZURpYWxvZy1zdW1tYXJ5IHRleHRhcmVhJykhO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzdW1tYXJ5SW5wdXQudmFsdWUuaW5jbHVkZXMoc2NyaXB0TWVzc2FnZS5zbGljZSgxKSkpXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdW1tYXJ5SW5wdXQudmFsdWUpIHN1bW1hcnlJbnB1dC52YWx1ZSArPSBgOyAke3NjcmlwdE1lc3NhZ2UuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBzY3JpcHRNZXNzYWdlLnNsaWNlKDEpfWA7XG4gICAgICAgICAgICAgICAgICAgIGVsc2Ugc3VtbWFyeUlucHV0LnZhbHVlID0gc2NyaXB0TWVzc2FnZTtcblxuICAgICAgICAgICAgICAgIHNob3VsZEFkZFNjcmlwdE1lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgY29uc3QgZWRpdEJveCA9ICQoJyN3cFRleHRib3gxJyk7XG4gICAgICAgICAgICBpZiAoZWRpdEJveC5sZW5ndGggPT09IDApIHJldHVybiBtdy5ub3RpZnkoJ0VkaXQgYm94IG5vdCBmb3VuZCEnLCB7IHR5cGU6ICdlcnJvcicsIGF1dG9IaWRlU2Vjb25kczogJ3Nob3J0JyB9KTtcblxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxUZXh0ID0gZWRpdEJveC50ZXh0U2VsZWN0aW9uKCdnZXRDb250ZW50cycpO1xuXG4gICAgICAgICAgICBsZXQgZmluYWxUZXh0ID0gb3JpZ2luYWxUZXh0O1xuXG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwU2VjdGlvbkhlYWRlcnMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBNYWdpY1dvcmRzKGZpbmFsVGV4dCk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwRGlzcGxheXRpdGxlc0FuZERlZmF1bHRzb3J0cyhmaW5hbFRleHQpO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gY2xlYW51cENhdGVnb3JpZXMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBMaW5rcyhmaW5hbFRleHQsIFtjbGVhbnVwSW1wcm9wZXJDaGFyYWN0ZXJzLCBjbGVhbnVwWWVhclJhbmdlc10pO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gY2xlYW51cFN0cmF5TWFya3VwKGZpbmFsVGV4dCk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwU3BhY2luZyhmaW5hbFRleHQpO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gY2xlYW51cFJlZmVyZW5jZXMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGZvcm1hdFRlbXBsYXRlcyhmaW5hbFRleHQpO1xuXG4gICAgICAgICAgICBpZiAob3JpZ2luYWxUZXh0ID09PSBmaW5hbFRleHQpIG13Lm5vdGlmeSgnTm8gY2hhbmdlcyB0byBiZSBtYWRlIHRvIHRoZSBhcnRpY2xlIScsIHsgdHlwZTogJ3dhcm4nLCBhdXRvSGlkZVNlY29uZHM6ICdzaG9ydCcgfSk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodmUuaW5pdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdXJmYWNlTW9kZWwgPSB2ZS5pbml0LnRhcmdldC5nZXRTdXJmYWNlKCkuZ2V0TW9kZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBzdXJmYWNlTW9kZWwuZ2V0TGluZWFyRnJhZ21lbnQoc3VyZmFjZU1vZGVsLmdldFJhbmdlRnJvbVNvdXJjZU9mZnNldHMoMCwgb3JpZ2luYWxUZXh0Lmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudC5pbnNlcnRDb250ZW50KGZpbmFsVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHN1cmZhY2VNb2RlbC5zZXRTZWxlY3Rpb24obmV3IHZlLmRtLkxpbmVhclNlbGVjdGlvbihuZXcgdmUuUmFuZ2UoMCwgMCkpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlZGl0Qm94LnRleHRTZWxlY3Rpb24oJ3NldENvbnRlbnRzJywgZmluYWxUZXh0KTtcblxuICAgICAgICAgICAgICAgICAgICBlZGl0Qm94LnRleHRTZWxlY3Rpb24oJ3NldFNlbGVjdGlvbicsIHsgc3RhcnQ6IDAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbXcubm90aWZ5KCdBcnRpY2xlIGNsZWFudXAgY29tcGxldGUhJywgeyB0eXBlOiAnc3VjY2VzcycsIGF1dG9IaWRlU2Vjb25kczogJ3Nob3J0JyB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHN1bW1hcnlJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyN3cFN1bW1hcnknKTtcbiAgICAgICAgICAgICAgICBpZiAoc3VtbWFyeUlucHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3VtbWFyeUlucHV0LnZhbHVlLmluY2x1ZGVzKHNjcmlwdE1lc3NhZ2Uuc2xpY2UoMSkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1bW1hcnlJbnB1dC52YWx1ZSkgc3VtbWFyeUlucHV0LnZhbHVlICs9IGA7ICR7c2NyaXB0TWVzc2FnZS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHNjcmlwdE1lc3NhZ2Uuc2xpY2UoMSl9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Ugc3VtbWFyeUlucHV0LnZhbHVlID0gc2NyaXB0TWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Ugc2hvdWxkQWRkU2NyaXB0TWVzc2FnZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSkoKTtcblxuLyoqXG4gKiBFc2NhcGVzIHJlZ2V4IGNoYXJhY3RlcnMgaW4gYSBzdHJpbmcuXG4gKiBAcGFyYW0gc3RyaW5nIFRoZSBzdHJpbmcgdG8gZXNjYXBlIHJlZ2V4IGNoYXJhY3RlcnMgaW4uXG4gKi9cbmZ1bmN0aW9uIGVzY2FwZVJlZ2V4Q2hhcmFjdGVycyhzdHJpbmc6IHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZUFsbCgvWyQoKSorLj9bXFxcXFxcXV57fH1dL2csICdcXFxcJCYnKTtcbn1cblxuLyoqXG4gKiBDbGVhbnMgdXAgc2VjdGlvbiBoZWFkZXJzIGluIGFuIGFydGljbGUncyBjb250ZW50LlxuICogQHBhcmFtIGNvbnRlbnQgVGhlIGFydGljbGUgY29udGVudCB0byBjbGVhbiB1cC5cbiAqL1xuZnVuY3Rpb24gY2xlYW51cFNlY3Rpb25IZWFkZXJzKGNvbnRlbnQ6IHN0cmluZykge1xuICAgIGNvbnN0IGNvbW1vblJlcGxhY2VtZW50cyA9IHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uICovXG4gICAgICAgICdTZWUgYWxzbyc6IFsnYWxzbyBzZWUnXSxcbiAgICAgICAgJ1JlZmVyZW5jZXMnOiBbJ3JlZmVyZW5jZScsICdzb3VyY2UnLCAnc291cmNlcycsICdjaXRhdGlvbicsICdjaXRhdGlvbnMnXSxcbiAgICAgICAgJ0Z1cnRoZXIgcmVhZGluZyc6IFsnZnVydGhlciByZWFkaW5nJ10sXG4gICAgICAgICdFeHRlcm5hbCBsaW5rcyc6IFsnZXh0ZXJuYWwgbGluaycsICd3ZWJsaW5rJywgJ3dlYmxpbmtzJ10sXG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uICovXG4gICAgfTtcblxuICAgIGNvbnN0IGNvbW1vbk1pc2NhcGl0YWxpemVkV29yZHMgPSBbJ2FuZCcsICdiaXJ0aCcsICdjYXJlZXInLCAnZGVhdGgnLCAnZWR1Y2F0aW9uJywgJ2xpZmUnLCAnb3InXTtcblxuICAgIGNvbnN0IHJldmVyc2VDb21tb25SZXBsYWNlbWVudHMgPSBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGNvbW1vblJlcGxhY2VtZW50cykuZmxhdE1hcCgoW2tleSwgdmFsdWVzXSkgPT4gdmFsdWVzLm1hcCgodmFsdWUpID0+IFt2YWx1ZSwga2V5XSkpLFxuICAgICk7XG5cbiAgICBjb25zdCBoZWFkZXJzID0gY29udGVudC5tYXRjaEFsbCgvXFxuKig/PHN0YXJ0TWFya3VwPj0rKSAqKD88bmFtZT4uKj8pICooPzxlbmRNYXJrdXA+PSspXFxuKy9nKTtcblxuICAgIGNvbnN0IHBhcnNlZEhlYWRlcnMgPSBbLi4uaGVhZGVyc10ubWFwKChoZWFkZXIpID0+IHtcbiAgICAgICAgbGV0IHsgbmFtZSB9ID0gaGVhZGVyLmdyb3VwcyE7XG4gICAgICAgIGNvbnN0IHsgc3RhcnRNYXJrdXAsIGVuZE1hcmt1cCB9ID0gaGVhZGVyLmdyb3VwcyE7XG5cbiAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZUFsbCgvJ3szfS9nLCAnJyk7XG5cbiAgICAgICAgY29uc3QgbGlua3MgPSBuYW1lLm1hdGNoQWxsKC9cXFtcXFsoLis/KV1dL2cpLnRvQXJyYXkoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGxpbmsgb2YgbGlua3MpIG5hbWUgPSBuYW1lLnJlcGxhY2UobGlua1swXSwgbGlua1sxXS5zcGxpdCgnfCcpLmF0KC0xKSEpO1xuXG4gICAgICAgIGNvbnN0IGRlcHRoID0gTWF0aC5tYXgoc3RhcnRNYXJrdXAubGVuZ3RoLCBlbmRNYXJrdXAubGVuZ3RoLCAyKTtcblxuICAgICAgICByZXR1cm4geyBuYW1lLCBkZXB0aCwgb3JpZ2luYWw6IGhlYWRlclswXSB9O1xuICAgIH0pO1xuXG4gICAgY29uc3QgaGVhZGVyc1NldCA9IG5ldyBTZXQocGFyc2VkSGVhZGVycy5tYXAoKGhlYWRlcikgPT4gaGVhZGVyLm5hbWUudG9Mb3dlckNhc2UoKSkpO1xuXG4gICAgY29uc3QgdGl0bGVTcGFjZXIgPSBwYXJzZWRIZWFkZXJzLmxlbmd0aCA+IDAgPyAoL15cXG4qPSsgfCA9K1xcbiskLy50ZXN0KHBhcnNlZEhlYWRlcnNbMF0ub3JpZ2luYWwpID8gJyAnIDogJycpIDogJyc7XG5cbiAgICBmb3IgKGNvbnN0IGhlYWRlciBvZiBwYXJzZWRIZWFkZXJzKSB7XG4gICAgICAgIGNvbnN0IGxvd2VyY2FzZU5hbWUgPSBoZWFkZXIubmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGNvbnN0IHJlcGxhY2VkTmFtZSA9XG4gICAgICAgICAgICBsb3dlcmNhc2VOYW1lIGluIHJldmVyc2VDb21tb25SZXBsYWNlbWVudHMgJiYgIWhlYWRlcnNTZXQuaGFzKHJldmVyc2VDb21tb25SZXBsYWNlbWVudHNbbG93ZXJjYXNlTmFtZV0udG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgICAgICA/IHJldmVyc2VDb21tb25SZXBsYWNlbWVudHNbbG93ZXJjYXNlTmFtZV1cbiAgICAgICAgICAgICAgICA6IGhlYWRlci5uYW1lO1xuXG4gICAgICAgIGxldCBjYXBpdGFsaXplZE5hbWUgPSByZXBsYWNlZE5hbWU7XG5cbiAgICAgICAgZm9yIChjb25zdCB3b3JkIG9mIGNvbW1vbk1pc2NhcGl0YWxpemVkV29yZHMpIGNhcGl0YWxpemVkTmFtZSA9IGNhcGl0YWxpemVkTmFtZS5yZXBsYWNlQWxsKG5ldyBSZWdFeHAoYFxcXFxiJHt3b3JkfVxcXFxiYCwgJ2dpJyksIHdvcmQpO1xuXG4gICAgICAgIGNhcGl0YWxpemVkTmFtZSA9IGNhcGl0YWxpemVkTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGNhcGl0YWxpemVkTmFtZS5zbGljZSgxKTtcblxuICAgICAgICBjb25zdCBvdXRwdXQgPSBgJHsnPScucmVwZWF0KGhlYWRlci5kZXB0aCl9JHt0aXRsZVNwYWNlcn0ke2NhcGl0YWxpemVkTmFtZX0ke3RpdGxlU3BhY2VyfSR7Jz0nLnJlcGVhdChoZWFkZXIuZGVwdGgpfWA7XG5cbiAgICAgICAgaWYgKGhlYWRlci5vcmlnaW5hbCAhPT0gb3V0cHV0KSBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKGhlYWRlci5vcmlnaW5hbCwgYFxcblxcbiR7b3V0cHV0fVxcbmApO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgdW5uZWNlc3NhcnkgbWFnaWMgd29yZHMgZnJvbSBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBNYWdpY1dvcmRzKGNvbnRlbnQ6IHN0cmluZykge1xuICAgIHJldHVybiBjb250ZW50LnJlcGxhY2VBbGwoL19fKElOREVYfE5PSU5ERVh8TkVXU0VDVElPTkxJTkt8Tk9ORVdTRUNUSU9OTElOS3xOT0VESVRTRUNUSU9OfERJU0FNQklHfFNUQVRJQ1JFRElSRUNUfEZPUkNFVE9DKV9fXFxuKi9nLCAnJyk7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIERJU1BMQVlUSVRMRXMgYW5kIERFRkFVTFRTT1JUcyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBEaXNwbGF5dGl0bGVzQW5kRGVmYXVsdHNvcnRzKGNvbnRlbnQ6IHN0cmluZykge1xuICAgIGNvbnN0IHRhZ3MgPSBjb250ZW50Lm1hdGNoQWxsKC97eyhkaXNwbGF5dGl0bGV8ZGVmYXVsdHNvcnQpWzp8XSguKj8pfX0vZ2kpO1xuXG4gICAgY29uc3QgcGFyc2VkVGFncyA9IFsuLi50YWdzXS5tYXAoKHRhZykgPT4ge1xuICAgICAgICBjb25zdCBbZnVsbFRhZywgdHlwZSwgdmFsdWVdID0gdGFnO1xuXG4gICAgICAgIHJldHVybiB7IHR5cGU6IHR5cGUudG9VcHBlckNhc2UoKSwgdmFsdWUsIG9yaWdpbmFsOiBmdWxsVGFnIH07XG4gICAgfSk7XG5cbiAgICBjb25zdCBjdXJyZW50VGl0bGUgPSBtdy5UaXRsZS5uZXdGcm9tVGV4dChtdy5jb25maWcuZ2V0KCd3Z1BhZ2VOYW1lJykpITtcblxuICAgIGZvciAoY29uc3QgdGFnIG9mIHBhcnNlZFRhZ3MpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxUYWdSZWdleCA9IG5ldyBSZWdFeHAoYCR7ZXNjYXBlUmVnZXhDaGFyYWN0ZXJzKHRhZy5vcmlnaW5hbCl9XFxuKmAsICdnJyk7XG5cbiAgICAgICAgY29uc3QgdGl0bGUgPSBtdy5UaXRsZS5tYWtlVGl0bGUoY3VycmVudFRpdGxlLmdldE5hbWVzcGFjZUlkKCksIHRhZy52YWx1ZS5pbmNsdWRlcygnOicpID8gdGFnLnZhbHVlLnNwbGl0KCc6JylbMV0gOiB0YWcudmFsdWUpITtcblxuICAgICAgICBpZiAoY3VycmVudFRpdGxlLnRvVGV4dCgpID09PSB0aXRsZS50b1RleHQoKSkge1xuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZShvcmlnaW5hbFRhZ1JlZ2V4LCAnJyk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5ld1RleHQgPSBge3ske3RhZy50eXBlfToke3RpdGxlLnRvVGV4dCgpfX19XFxuYDtcblxuICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKG9yaWdpbmFsVGFnUmVnZXgsIG5ld1RleHQpO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIENsZWFucyB1cCBjYXRlZ29yaWVzIGluIGFuIGFydGljbGUncyBjb250ZW50LlxuICogQHBhcmFtIGNvbnRlbnQgVGhlIGFydGljbGUgY29udGVudCB0byBjbGVhbiB1cC5cbiAqL1xuZnVuY3Rpb24gY2xlYW51cENhdGVnb3JpZXMoY29udGVudDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQucmVwbGFjZUFsbChcbiAgICAgICAgLyhcXFtcXFt8fX0pOj9jYXRlZ29yeTooLio/KShdXXx9fSkvZ2ksXG4gICAgICAgIGBbWyR7bXcuY29uZmlnLmdldCgnd2dDYW5vbmljYWxOYW1lc3BhY2UnKSA9PT0gJ0RyYWZ0JyA/ICc6JyA6ICcnfUNhdGVnb3J5OiQyXV1gLFxuICAgICk7XG59XG5cbmludGVyZmFjZSBMaW5rSW5mb3JtYXRpb24ge1xuICAgIHN0YXJ0OiBudW1iZXI7XG4gICAgZW5kOiBudW1iZXI7XG4gICAgaXNOZXN0ZWQ6IGJvb2xlYW47XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIGxpbmtzIGluIGFuIGFydGljbGUncyBjb250ZW50LlxuICogQHBhcmFtIGNvbnRlbnQgVGhlIGFydGljbGUgY29udGVudCB0byBjbGVhbiB1cC5cbiAqIEBwYXJhbSBmdW5jdGlvbnNDYWxsZWRXaGlsZUVzY2FwZWQgVGhlIGZ1bmN0aW9ucyBjYWxsZWQgd2hpbGUgdGhlIGxpbmtzIGFyZSBlc2NhcGVkLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwTGlua3MoY29udGVudDogc3RyaW5nLCBmdW5jdGlvbnNDYWxsZWRXaGlsZUVzY2FwZWQ6ICgoY29udGVudDogc3RyaW5nLCBydW46IDEgfCAyKSA9PiBzdHJpbmcpW10pIHtcbiAgICBjb25zdCBjbG9zZWRMaW5rczogTGlua0luZm9ybWF0aW9uW10gPSBbXTtcbiAgICBjb25zdCBsaW5rczogTGlua0luZm9ybWF0aW9uW10gPSBbXTtcblxuICAgIGxldCBpc0luc2lkZU5vd2lraSA9IGZhbHNlO1xuICAgIGxldCBpc0luc2lkZUNvbW1lbnQgPSBmYWxzZTtcblxuICAgIGxldCBjdXJyZW50TG9jYXRpb24gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBjb250ZW50IGZvbGxvd2luZyB0aGUgY3VycmVudCBsb2NhdGlvbiBtYXRjaGVzIHRoZSBkZXNpcmVkIHN0cmluZy5cbiAgICAgKiBAcGFyYW0gZGVzaXJlZFN0cmluZyBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHNob3VsZEluY3JlbWVudCBXaGV0aGVyIHRvIGluY3JlbWVudCB0aGUgY3VycmVudCBsb2NhdGlvbiBpZiB0aGUgc3RyaW5nIGlzIGZvdW5kLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXRTdHJpbmcoZGVzaXJlZFN0cmluZzogc3RyaW5nLCBzaG91bGRJbmNyZW1lbnQgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IGlzQXRTdHJpbmcgPSBjb250ZW50LnNsaWNlKGN1cnJlbnRMb2NhdGlvbiwgY3VycmVudExvY2F0aW9uICsgZGVzaXJlZFN0cmluZy5sZW5ndGgpID09PSBkZXNpcmVkU3RyaW5nO1xuXG4gICAgICAgIGlmIChpc0F0U3RyaW5nICYmIHNob3VsZEluY3JlbWVudCkgY3VycmVudExvY2F0aW9uICs9IGRlc2lyZWRTdHJpbmcubGVuZ3RoO1xuXG4gICAgICAgIHJldHVybiBpc0F0U3RyaW5nO1xuICAgIH1cblxuICAgIHdoaWxlIChjdXJyZW50TG9jYXRpb24gPCBjb250ZW50Lmxlbmd0aClcbiAgICAgICAgaWYgKGlzQXRTdHJpbmcoJzxub3dpa2k+JykpIGlzSW5zaWRlTm93aWtpID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnPC9ub3dpa2k+JykpIGlzSW5zaWRlTm93aWtpID0gZmFsc2U7XG4gICAgICAgIGVsc2UgaWYgKGlzQXRTdHJpbmcoJzwhLS0nKSkgaXNJbnNpZGVDb21tZW50ID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnLS0+JykpIGlzSW5zaWRlQ29tbWVudCA9IGZhbHNlO1xuICAgICAgICBlbHNlIGlmICghaXNJbnNpZGVOb3dpa2kgJiYgIWlzSW5zaWRlQ29tbWVudClcbiAgICAgICAgICAgIGlmIChpc0F0U3RyaW5nKCdbWycpKSBsaW5rcy5wdXNoKHsgc3RhcnQ6IGN1cnJlbnRMb2NhdGlvbiAtIDIsIGVuZDogLTEsIGlzTmVzdGVkOiBsaW5rcy5sZW5ndGggPiAwIH0pO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnXV0nKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RMaW5rID0gbGlua3MucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFsYXN0TGluaykgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBsYXN0TGluay5lbmQgPSBjdXJyZW50TG9jYXRpb247XG5cbiAgICAgICAgICAgICAgICBjbG9zZWRMaW5rcy5wdXNoKGxhc3RMaW5rKTtcbiAgICAgICAgICAgIH0gZWxzZSBjdXJyZW50TG9jYXRpb24rKztcbiAgICAgICAgZWxzZSBjdXJyZW50TG9jYXRpb24rKztcblxuICAgIGNvbnN0IG5ld0xpbmtDb250ZW50OiBbTGlua0luZm9ybWF0aW9uLCBzdHJpbmddW10gPSBbXTtcblxuICAgIGNvbnN0IG5hbWVzcGFjZU5hbWVzID0gT2JqZWN0LnZhbHVlcyhtdy5jb25maWcuZ2V0KCd3Z0Zvcm1hdHRlZE5hbWVzcGFjZXMnKSk7XG5cbiAgICBmb3IgKGNvbnN0IGxpbmtMb2NhdGlvbiBvZiBjbG9zZWRMaW5rcykge1xuICAgICAgICBjb25zdCBpbm5lckxpbmsgPSBjb250ZW50LnNsaWNlKGxpbmtMb2NhdGlvbi5zdGFydCArIDIsIGxpbmtMb2NhdGlvbi5lbmQgLSAyKTtcblxuICAgICAgICBjb25zdCBbdW5wYXJzZWRMaW5rLCAuLi5wYXJhbWV0ZXJzXSA9IGlubmVyTGluay5zcGxpdCgnfCcpO1xuXG4gICAgICAgIC8vIFJlcGxhY2UgbGluayBuYW1lcyBzbyB0aGVzZSB3b24ndCBiZSBhZmZlY3RlZCBieSBmdW5jdGlvbnMgY2FsbGVkIHdoaWxlIGVzY2FwZWRcbiAgICAgICAgY29udGVudCA9XG4gICAgICAgICAgICBjb250ZW50LnNsaWNlKDAsIGxpbmtMb2NhdGlvbi5zdGFydCArIDIpICtcbiAgICAgICAgICAgICdcXDAnLnJlcGVhdCh1bnBhcnNlZExpbmsubGVuZ3RoKSArXG4gICAgICAgICAgICBjb250ZW50LnNsaWNlKGxpbmtMb2NhdGlvbi5zdGFydCArIDIgKyB1bnBhcnNlZExpbmsubGVuZ3RoKTtcblxuICAgICAgICBsZXQgbGluayA9IHVucGFyc2VkTGluay5yZXBsYWNlQWxsKCdfJywgJyAnKS50cmltKCk7XG4gICAgICAgIGxldCBhbHRUZXh0ID0gcGFyYW1ldGVycy5qb2luKCd8Jyk7XG4gICAgICAgIGFsdFRleHQgPSBhbHRUZXh0ID09PSAnICcgPyAnICcgOiBhbHRUZXh0LnRyaW0oKTtcblxuICAgICAgICBjb25zdCBpc0ZpcnN0Q2hhcmFjdGVyQ29sb24gPSBsaW5rLnN0YXJ0c1dpdGgoJzonKTtcbiAgICAgICAgaWYgKGlzRmlyc3RDaGFyYWN0ZXJDb2xvbikgbGluayA9IGxpbmsuc2xpY2UoMSk7XG5cbiAgICAgICAgbGV0IHNob3VsZEZpcnN0Q2hhcmFjdGVyQmVDb2xvbiA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGxpbmtVcHBlcmNhc2VTdGFydCA9IGxpbmsuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBsaW5rLnNsaWNlKDEpO1xuICAgICAgICBjb25zdCBsaW5rTG93ZXJjYXNlU3RhcnQgPSBsaW5rLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgbGluay5zbGljZSgxKTtcblxuICAgICAgICBsZXQgbmFtZXNwYWNlID0gbGluay5zcGxpdCgnOicpWzBdO1xuICAgICAgICBuYW1lc3BhY2UgPSBuYW1lc3BhY2UuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lc3BhY2Uuc2xpY2UoMSk7XG5cbiAgICAgICAgaWYgKGxpbmsuaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAgICAgaWYgKGxpbmtVcHBlcmNhc2VTdGFydC5zdGFydHNXaXRoKCdJbWFnZTonKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZFN0YXJ0VXBwZXJjYXNlID0gbGluay5zdGFydHNXaXRoKCdJbWFnZTonKTtcblxuICAgICAgICAgICAgICAgIGxpbmsgPSBgJHtzaG91bGRTdGFydFVwcGVyY2FzZSA/ICdGJyA6ICdmJ31pbGU6JHtsaW5rLnNsaWNlKDYpfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBpc0ZpcnN0Q2hhcmFjdGVyQ29sb24gJiZcbiAgICAgICAgICAgICAgICAoWydJbWFnZScsICdGaWxlJywgJ0NhdGVnb3J5J10uaW5jbHVkZXMobGlua1VwcGVyY2FzZVN0YXJ0LnNwbGl0KCc6JylbMF0pIHx8ICFuYW1lc3BhY2VOYW1lcy5pbmNsdWRlcyhuYW1lc3BhY2UpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHNob3VsZEZpcnN0Q2hhcmFjdGVyQmVDb2xvbiA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYWZ0ZXJMaW5rVGV4dCA9ICcnO1xuXG4gICAgICAgIGlmIChsaW5rID09PSBhbHRUZXh0KSBhbHRUZXh0ID0gJyc7XG4gICAgICAgIGVsc2UgaWYgKG5ldyBSZWdFeHAoYF4ke2VzY2FwZVJlZ2V4Q2hhcmFjdGVycyhsaW5rKX1bYS16XSskYCkudGVzdChhbHRUZXh0KSkge1xuICAgICAgICAgICAgYWZ0ZXJMaW5rVGV4dCA9IGFsdFRleHQuc2xpY2UobGluay5sZW5ndGgpO1xuICAgICAgICAgICAgYWx0VGV4dCA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBuZXdMaW5rIG9mIFtsaW5rVXBwZXJjYXNlU3RhcnQsIGxpbmtMb3dlcmNhc2VTdGFydF0pXG4gICAgICAgICAgICBpZiAobmV3TGluayA9PT0gYWx0VGV4dCkge1xuICAgICAgICAgICAgICAgIGxpbmsgPSBuZXdMaW5rO1xuICAgICAgICAgICAgICAgIGFsdFRleHQgPSAnJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmV3IFJlZ0V4cChgXiR7ZXNjYXBlUmVnZXhDaGFyYWN0ZXJzKG5ld0xpbmspfVthLXpdKyRgKS50ZXN0KGFsdFRleHQpKSB7XG4gICAgICAgICAgICAgICAgbGluayA9IG5ld0xpbms7XG4gICAgICAgICAgICAgICAgYWZ0ZXJMaW5rVGV4dCA9IGFsdFRleHQuc2xpY2UobmV3TGluay5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGFsdFRleHQgPSAnJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAoYWx0VGV4dCAmJiBsaW5rLmluY2x1ZGVzKCc6JykgJiYgbmFtZXNwYWNlTmFtZXMuaW5jbHVkZXMobmFtZXNwYWNlKSkgfHxcbiAgICAgICAgICAgIGxpbmsuc3RhcnRzV2l0aCgnZmlsZTonKSB8fFxuICAgICAgICAgICAgbGluay5zdGFydHNXaXRoKCdjYXRlZ29yeTonKVxuICAgICAgICApXG4gICAgICAgICAgICBsaW5rID0gbGluay5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGxpbmsuc2xpY2UoMSk7XG5cbiAgICAgICAgbGluayA9IGAke3Nob3VsZEZpcnN0Q2hhcmFjdGVyQmVDb2xvbiA/ICc6JyA6ICcnfSR7bGlua31gO1xuXG4gICAgICAgIGxpbmsgPSBsaW5rLnBhZFN0YXJ0KHVucGFyc2VkTGluay5sZW5ndGgsICdcXDAnKTtcblxuICAgICAgICBjb25zdCBvdXRwdXQgPSBgW1ske2xpbmt9JHthbHRUZXh0ID8gYHwke2FsdFRleHR9YCA6ICcnfV1dJHthZnRlckxpbmtUZXh0fWA7XG5cbiAgICAgICAgbmV3TGlua0NvbnRlbnQucHVzaChbbGlua0xvY2F0aW9uLCBvdXRwdXRdKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGZ1bmN0aW9uVG9DYWxsIG9mIGZ1bmN0aW9uc0NhbGxlZFdoaWxlRXNjYXBlZCkgY29udGVudCA9IGZ1bmN0aW9uVG9DYWxsKGNvbnRlbnQsIDEpO1xuXG4gICAgZm9yIChsZXQgbG9vcENvdW50ZXIgPSAwOyBsb29wQ291bnRlciA8IDI7IGxvb3BDb3VudGVyKyspXG4gICAgICAgIGZvciAoY29uc3QgW2xpbmtEYXRhLCBsaW5rQ29udGVudF0gb2YgbmV3TGlua0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGlmIChsb29wQ291bnRlciA9PT0gMCAmJiBsaW5rRGF0YS5pc05lc3RlZCkgY29udGludWU7XG4gICAgICAgICAgICBlbHNlIGlmIChsb29wQ291bnRlciA9PT0gMSAmJiAhbGlua0RhdGEuaXNOZXN0ZWQpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjb250ZW50ID1cbiAgICAgICAgICAgICAgICBjb250ZW50LnNsaWNlKDAsIGxpbmtEYXRhLnN0YXJ0KSArIGxpbmtDb250ZW50LnBhZEVuZChsaW5rRGF0YS5lbmQgLSBsaW5rRGF0YS5zdGFydCwgJ1xcMCcpICsgY29udGVudC5zbGljZShsaW5rRGF0YS5lbmQpO1xuICAgICAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGZ1bmN0aW9uVG9DYWxsIG9mIGZ1bmN0aW9uc0NhbGxlZFdoaWxlRXNjYXBlZCkgY29udGVudCA9IGZ1bmN0aW9uVG9DYWxsKGNvbnRlbnQsIDIpO1xuXG4gICAgcmV0dXJuIGNvbnRlbnQucmVwbGFjZUFsbCgnXFwwJywgJycpO1xufVxuXG4vKipcbiAqIENsZWFucyB1cCBpbXByb3BlciBjaGFyYWN0ZXJzIGluIGFuIGFydGljbGUncyBjb250ZW50LlxuICogQHBhcmFtIGNvbnRlbnQgVGhlIGFydGljbGUgY29udGVudCB0byBjbGVhbiB1cC5cbiAqIEBwYXJhbSBydW4gVGhlIHJ1biBudW1iZXIgb2YgdGhlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwSW1wcm9wZXJDaGFyYWN0ZXJzKGNvbnRlbnQ6IHN0cmluZywgcnVuOiAxIHwgMikge1xuICAgIGNvbnN0IGVsaXBzaXNQbGFjZWhvbGRlciA9ICdcXHUwMDdGJztcbiAgICBjb25zdCBuYnNwUGxhY2Vob2xkZXIgPSAnXFx1MDA5Ric7XG5cbiAgICBpZiAocnVuID09PSAxKSB7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoL1tcdTAwQUJcdTAwQkJcdTIwMUNcdTIwMURcdTIwMUVcdTIwMUZcdTMwMENcdTMwMERdL2csICdcIicpO1xuICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC9bXHUyMDE4XHUyMDE5XHUyMDFBXHUyMDFCXHUyMDM5XHUyMDNBXS9nLCBcIidcIik7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoJ1x1MjAyNicsIGVsaXBzaXNQbGFjZWhvbGRlcik7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoJ1x1MDBBMCcsIG5ic3BQbGFjZWhvbGRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbChlbGlwc2lzUGxhY2Vob2xkZXIsICcuLi4nKTtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbChuYnNwUGxhY2Vob2xkZXIsICcmbmJzcDsnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBDbGVhbnMgdXAgeWVhciByYW5nZXMgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICogQHBhcmFtIHJ1biBUaGUgcnVuIG51bWJlciBvZiB0aGUgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBZZWFyUmFuZ2VzKGNvbnRlbnQ6IHN0cmluZywgcnVuOiAxIHwgMikge1xuICAgIGlmIChydW4gPT09IDEpXG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoLyhcXChcXGR7Myw0fSkgP1tcdTIwMTJcdTIwMTNcdTIyMTItXSA/KFxcZHszLDR9XFwpKS9nLCAob3JpZ2luYWwsIHN0YXJ0LCBlbmQpID0+XG4gICAgICAgICAgICBgJHtzdGFydH1cdTIwMTMke2VuZH1gLnBhZEVuZChvcmlnaW5hbC5sZW5ndGgsICdcXDAnKSxcbiAgICAgICAgKTtcblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgc3RyYXkgbWFya3VwIGluIGFuIGFydGljbGUncyBjb250ZW50LlxuICogQHBhcmFtIGNvbnRlbnQgVGhlIGFydGljbGUgY29udGVudCB0byBjbGVhbiB1cC5cbiAqL1xuZnVuY3Rpb24gY2xlYW51cFN0cmF5TWFya3VwKGNvbnRlbnQ6IHN0cmluZykge1xuICAgIGNvbnN0IHN0cmF5TWFya3VwUmVnZXhlcyA9IFtcbiAgICAgICAgLycrKEJvbGR8SXRhbGljKSggdGV4dCk/JysgKi9nLFxuICAgICAgICAvKDxiaWc+KStCaWcoIHRleHQpPyg8XFwvYmlnPikrICovZyxcbiAgICAgICAgLyg8c21hbGw+KStTbWFsbCggdGV4dCk/KDxcXC9zbWFsbD4pKyAqL2csXG4gICAgICAgIC8oPHN1cD4pK1N1cGVyc2NyaXB0KCB0ZXh0KT8oPFxcL3N1cD4pKyAqL2csXG4gICAgICAgIC8oPHN1Yj4pK1N1YnNjcmlwdCggdGV4dCk/KDxcXC9zdWI+KSsgKi9nLFxuICAgICAgICAvKDxzPikrU3RyaWtldGhyb3VnaCg8XFwvcz4pKyAqL2csXG4gICAgICAgIC8oPHU+KStVbmRlcmxpbmUoPFxcL3U+KSsgKi9nLFxuICAgICAgICAvKDxjb2RlPikrQ29tcHV0ZXIgY29kZSg8XFwvY29kZT4pKyAqL2csXG4gICAgICAgIC8oPG5vd2lraT4pK0luc2VydCBub24tZm9ybWF0dGVkIHRleHQgaGVyZSg8XFwvbm93aWtpPikrICovZyxcbiAgICAgICAgLz0rIEhlYWRpbmcgdGV4dCA9KyAqL2csXG4gICAgICAgIC9cXCogQnVsbGV0ZWQgbGlzdCBpdGVtICovZyxcbiAgICAgICAgLyMgTnVtYmVyZWQgbGlzdCBpdGVtICovZyxcbiAgICAgICAgLzxnYWxsZXJ5PlxcbkV4YW1wbGUuanBnXFx8Q2FwdGlvbjFcXG5FeGFtcGxlLmpwZ1xcfENhcHRpb24yXFxuPFxcL2dhbGxlcnk+ICovZyxcbiAgICAgICAgLyNSRURJUkVDVCBcXFtcXFtUYXJnZXQgcGFnZSBuYW1lXV0gKi9nLFxuICAgICAgICAvPCEtLSBJbnZpc2libGUgY29tbWVudCAtLT4gKi9nLFxuICAgICAgICAvPFxccyooYmlnfHNtYWxsfHN1cHxzdWJ8c3x1fGNvZGV8bm93aWtpfG5vaW5jbHVkZXxvbmx5aW5jbHVkZXxpbmNsdWRlb25seXxjZW50ZXJ8YmxvY2txdW90ZXxnYWxsZXJ5KVxccyooXFxzK1tePD5dKik/Plxccyo8XFxzKlxcL1xccypcXDFcXHMqPi9naSxcbiAgICBdO1xuXG4gICAgZm9yIChjb25zdCByZWdleCBvZiBzdHJheU1hcmt1cFJlZ2V4ZXMpIHdoaWxlIChyZWdleC50ZXN0KGNvbnRlbnQpKSBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKHJlZ2V4LCAnJyk7XG5cbiAgICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBDbGVhbnMgdXAgc3BhY2luZyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBTcGFjaW5nKGNvbnRlbnQ6IHN0cmluZykge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoLyhcXGJ8XFxwe1B1bmN0dWF0aW9ufXxcXF1cXF18XFx9XFx9KSB7Mix9KFxcYnxcXHB7UHVuY3R1YXRpb259fFxcW1xcW3xcXHtcXHspL2d1LCAnJDEgJDInKTsgLy8gUmVtb3ZlIGV4dHJhIHNwYWNlcyBiZXR3ZWVuIHdvcmRzIGFuZCBzZW50ZW5jZXNcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC9eICt8ICskL2dtLCAnJyk7IC8vIFJlbW92ZSBleHRyYSBzcGFjZXMgYXQgdGhlIHN0YXJ0IG9yIGVuZCBvZiBsaW5lc1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoL1xcbnszLH0vZywgJ1xcblxcbicpOyAvLyBSZW1vdmUgZXh0cmEgbmV3bGluZXNcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC9cXHMqKHt7W159XSpzdHVifX0pL2ksICdcXG5cXG5cXG4kMScpOyAvLyBFbnN1cmUgdGhlcmUgYXJlIHRocmVlIG5ld2xpbmVzIGJlZm9yZSB0aGUgZmlyc3Qgc3R1YiB0ZW1wbGF0ZVxuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoL1xccyskL2csICcnKTsgLy8gUmVtb3ZlIHRyYWlsaW5nIHNwYWNlc1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoL14oWyMqXSspICovZ20sICckMSAnKTsgLy8gRW5zdXJlIHRoZXJlIGlzIGEgc3BhY2UgYWZ0ZXIgYSBidWxsZXQgb3IgaGFzaCBpbiBhIGxpc3QgaXRlbVxuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoL14oWyMqXSAuKilcXG4rKD89WyMqXSApL2dtLCAnJDFcXG4nKTsgLy8gUmVtb3ZlIG5ld2xpbmVzIGJldHdlZW4gbGlzdCBpdGVtc1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoL1xccysoPz08cmVmKD8hZXJlbmNlcykpL2csICcnKTsgLy8gUmVtb3ZlIHNwYWNlcyBiZWZvcmUgcmVmZXJlbmNlc1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoL14oPSsuKj89KykkXFxuezIsfV4oPSsuKj89KykkL2dtLCAnJDFcXG4kMicpOyAvLyBSZW1vdmUgZXh0cmEgbmV3bGluZXMgYmV0d2VlbiBlbXB0eSBzZWN0aW9uIGFuZCBmb2xsb3dpbmcgc2VjdGlvblxuICAgIGNvbnRlbnQgPSBjb250ZW50LnRyaW0oKTsgLy8gUmVtb3ZlIGV4dHJhIG5ld2xpbmVzIGF0IHRoZSBzdGFydCBvciBlbmQgb2YgdGhlIGNvbnRlbnRcblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIENsZWFucyB1cCByZWZlcmVuY2VzIGluIGFuIGFydGljbGUncyBjb250ZW50LlxuICogQHBhcmFtIGNvbnRlbnQgVGhlIGFydGljbGUgY29udGVudCB0byBjbGVhbiB1cC5cbiAqL1xuZnVuY3Rpb24gY2xlYW51cFJlZmVyZW5jZXMoY29udGVudDogc3RyaW5nKSB7XG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvKCg/OjxyZWYoPyFlcmVuY2VzKS4qPz4uKj88XFwvcmVmPikrKShbISwuP10pL2csICckMiQxJyk7IC8vIEZpeCBwdW5jdHVhdGlvbiBmb2xsb3dpbmcgcmVmZXJlbmNlc1xuXG4gICAgY29uc3QgcmVmZXJlbmNlczogeyBzdGFydDogbnVtYmVyOyBlbmQ6IG51bWJlcjsgaXNTZWxmQ2xvc2luZz86IHRydWUgfVtdID0gW107XG5cbiAgICBsZXQgaXNJbnNpZGVOb3dpa2kgPSBmYWxzZTtcbiAgICBsZXQgaXNJbnNpZGVDb21tZW50ID0gZmFsc2U7XG5cbiAgICBsZXQgY3VycmVudExvY2F0aW9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgY29udGVudCBmb2xsb3dpbmcgdGhlIGN1cnJlbnQgbG9jYXRpb24gbWF0Y2hlcyB0aGUgZGVzaXJlZCBzdHJpbmcuXG4gICAgICogQHBhcmFtIGRlc2lyZWRTdHJpbmcgVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXRTdHJpbmcoZGVzaXJlZFN0cmluZzogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGlzQXRTdHJpbmcgPSBjb250ZW50LnNsaWNlKGN1cnJlbnRMb2NhdGlvbiwgY3VycmVudExvY2F0aW9uICsgZGVzaXJlZFN0cmluZy5sZW5ndGgpID09PSBkZXNpcmVkU3RyaW5nO1xuXG4gICAgICAgIGlmIChpc0F0U3RyaW5nKSBjdXJyZW50TG9jYXRpb24gKz0gZGVzaXJlZFN0cmluZy5sZW5ndGg7XG5cbiAgICAgICAgcmV0dXJuIGlzQXRTdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2VlZHMgdGhyb3VnaCB0aGUgY29udGVudCB1bnRpbCB0aGUgZGVzaXJlZCBzdHJpbmcgaXMgZm91bmQuXG4gICAgICogQHBhcmFtIGRlc2lyZWRTdHJpbmcgVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb2NlZWRVbnRpbFN0cmluZyhkZXNpcmVkU3RyaW5nOiBzdHJpbmcpIHtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRMb2NhdGlvbiA8IGNvbnRlbnQubGVuZ3RoICYmICFpc0F0U3RyaW5nKGRlc2lyZWRTdHJpbmcpKSBjdXJyZW50TG9jYXRpb24rKztcbiAgICB9XG5cbiAgICB3aGlsZSAoY3VycmVudExvY2F0aW9uIDwgY29udGVudC5sZW5ndGgpXG4gICAgICAgIGlmIChpc0F0U3RyaW5nKCc8bm93aWtpPicpKSBpc0luc2lkZU5vd2lraSA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKGlzQXRTdHJpbmcoJzwvbm93aWtpPicpKSBpc0luc2lkZU5vd2lraSA9IGZhbHNlO1xuICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCc8IS0tJykpIGlzSW5zaWRlQ29tbWVudCA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKGlzQXRTdHJpbmcoJy0tPicpKSBpc0luc2lkZUNvbW1lbnQgPSBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAoIWlzSW5zaWRlTm93aWtpICYmICFpc0luc2lkZUNvbW1lbnQpXG4gICAgICAgICAgICBpZiAoIWlzQXRTdHJpbmcoJzxyZWZlcmVuY2VzJykgJiYgaXNBdFN0cmluZygnPHJlZicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBjdXJyZW50TG9jYXRpb24gLSA0O1xuXG4gICAgICAgICAgICAgICAgcHJvY2VlZFVudGlsU3RyaW5nKCc+Jyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBpc1NlbGZDbG9zaW5nID0gY29udGVudFxuICAgICAgICAgICAgICAgICAgICAuc2xpY2Uoc3RhcnQsIGN1cnJlbnRMb2NhdGlvbiAtIDEpXG4gICAgICAgICAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgICAgICAgICAgLmVuZHNXaXRoKCcvJyk7XG5cbiAgICAgICAgICAgICAgICByZWZlcmVuY2VzLnB1c2goaXNTZWxmQ2xvc2luZyA/IHsgc3RhcnQsIGVuZDogY3VycmVudExvY2F0aW9uLCBpc1NlbGZDbG9zaW5nIH0gOiB7IHN0YXJ0LCBlbmQ6IC0xIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0F0U3RyaW5nKCc8L3JlZj4nKSkgcmVmZXJlbmNlcy5hdCgtMSkhLmVuZCA9IGN1cnJlbnRMb2NhdGlvbjtcbiAgICAgICAgICAgIGVsc2UgY3VycmVudExvY2F0aW9uKys7XG4gICAgICAgIGVsc2UgY3VycmVudExvY2F0aW9uKys7XG5cbiAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG5cbiAgICBjb25zdCByZXBsYWNlbWVudHM6IFtzdHJpbmcsIHN0cmluZ11bXSA9IFtdO1xuXG4gICAgZm9yIChjb25zdCByZWZlcmVuY2Ugb2YgcmVmZXJlbmNlcykge1xuICAgICAgICBjb25zdCBvcmlnaW5hbFRleHQgPSBjb250ZW50LnNsaWNlKHJlZmVyZW5jZS5zdGFydCwgcmVmZXJlbmNlLmVuZCk7XG5cbiAgICAgICAgY29uc3Qgc3RhcnRUYWcgPSAvPHJlZig/IWVyZW5jZXMpLio/Pi9pcy5leGVjKG9yaWdpbmFsVGV4dCkhWzBdO1xuXG4gICAgICAgIGNvbnN0IHBhcnNlZFRhZyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoXG4gICAgICAgICAgICByZWZlcmVuY2UuaXNTZWxmQ2xvc2luZyA/IHN0YXJ0VGFnLnJlcGxhY2UoLyAqXFwvICo+LywgJyAvPicpIDogc3RhcnRUYWcgKyAnPC9yZWY+JyxcbiAgICAgICAgICAgICd0ZXh0L2h0bWwnLFxuICAgICAgICApLmJvZHkuZmlyc3RDaGlsZCBhcyBIVE1MVW5rbm93bkVsZW1lbnQ7XG5cbiAgICAgICAgbGV0IG91dHB1dCA9IHBhcnNlZFRhZy5vdXRlckhUTUwucmVwbGFjZUFsbCgnJmFtcDsnLCAnJicpO1xuXG4gICAgICAgIGNvbnN0IHRhZ0NvbnRlbnQgPSBvcmlnaW5hbFRleHQuc2xpY2Uoc3RhcnRUYWcubGVuZ3RoLCAtNikudHJpbSgpO1xuXG4gICAgICAgIG91dHB1dCA9XG4gICAgICAgICAgICByZWZlcmVuY2UuaXNTZWxmQ2xvc2luZyB8fCB0YWdDb250ZW50Lmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgID8gb3V0cHV0LnJlcGxhY2UoLz5cXHMqPFxcL3JlZj4vLCAnIC8+JylcbiAgICAgICAgICAgICAgICA6IGAke291dHB1dC5zbGljZSgwLCAtNil9JHt0YWdDb250ZW50fTwvcmVmPmA7XG5cbiAgICAgICAgaWYgKG9yaWdpbmFsVGV4dCAhPT0gb3V0cHV0KSByZXBsYWNlbWVudHMucHVzaChbb3JpZ2luYWxUZXh0LCBvdXRwdXRdKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IFtvcmlnaW5hbFRleHQsIG91dHB1dF0gb2YgcmVwbGFjZW1lbnRzKSBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKG9yaWdpbmFsVGV4dCwgb3V0cHV0KTtcblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIEZvcm1hdHMgdGVtcGxhdGUgc3BhY2luZyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gZm9ybWF0LlxuICovXG5mdW5jdGlvbiBmb3JtYXRUZW1wbGF0ZXMoY29udGVudDogc3RyaW5nKSB7XG4gICAgZW51bSBGb3JtYXRTdHlsZSB7XG4gICAgICAgIEV4cGFuZGVkLFxuICAgICAgICBFeHBhbmRlZEFsaWduZWQsXG4gICAgICAgIE1pbmltaXplZCxcbiAgICAgICAgTWluaW1pemVkU3BhY2VkLFxuICAgIH1cblxuICAgIGNsYXNzIFRlbXBsYXRlIHtcbiAgICAgICAgcHVibGljIGxvY2F0aW9uOiB7IHN0YXJ0OiBudW1iZXI7IGVuZD86IG51bWJlciB9O1xuICAgICAgICBwdWJsaWMgaXNOZXN0ZWQgPSBmYWxzZTtcblxuICAgICAgICBwdWJsaWMgZnVsbFRleHQ/OiBzdHJpbmc7XG4gICAgICAgIHByaXZhdGUgZnVsbFRleHRFc2NhcGVkPzogc3RyaW5nO1xuICAgICAgICBwcml2YXRlIG5hbWU/OiBzdHJpbmc7XG4gICAgICAgIHByaXZhdGUgcGFyYW1ldGVyczogeyBrZXk6IHN0cmluZyB8IG51bGw7IHZhbHVlOiBzdHJpbmcgfVtdID0gW107XG4gICAgICAgIHB1YmxpYyBzdWJUZW1wbGF0ZXM6IFRlbXBsYXRlW10gPSBbXTtcblxuICAgICAgICBwcml2YXRlIHBsYWNlaG9sZGVyU3RyaW5ncyA9IFsnXFx1e0YwMDAwfScsICdcXHV7MTBGRkZGfScsICdcXHV7RkZGRkV9J107XG5cbiAgICAgICAgcHJpdmF0ZSBwaXBlRXNjYXBlUmVnZXhlcyA9IFsvKFxcW1xcW1teXFxdXSo/KVxcfCguKj9dXSkvZywgLyg8IS0tLio/KVxcfCguKj8tLT4pL2csIC8oPG5vd2lraT4uKj8pXFx8KC4qPzxcXC9ub3dpa2k+KS9nXTtcblxuICAgICAgICBwcml2YXRlIGRlZmF1bHRUZW1wbGF0ZVN0eWxlcyA9IHtcbiAgICAgICAgICAgIFtGb3JtYXRTdHlsZS5FeHBhbmRlZEFsaWduZWRdOiBbXG4gICAgICAgICAgICAgICAgJ2F1dG9tYXRpYyB0YXhvYm94JyxcbiAgICAgICAgICAgICAgICAnYmxvY2txdW90ZScsXG4gICAgICAgICAgICAgICAgJ2h5YnJpZGJveCcsXG4gICAgICAgICAgICAgICAgJ2ljaG5vYm94JyxcbiAgICAgICAgICAgICAgICAnaW5mb2JveCcsXG4gICAgICAgICAgICAgICAgJ2luZnJhc3BlY2llc2JveCcsXG4gICAgICAgICAgICAgICAgJ2xpc3RlbicsXG4gICAgICAgICAgICAgICAgJ2xvY2F0aW9uIG1hcCBtYW55JyxcbiAgICAgICAgICAgICAgICAnbW90b3JzcG9ydCBzZWFzb24nLFxuICAgICAgICAgICAgICAgICdtdWx0aXBsZSBpbWFnZScsXG4gICAgICAgICAgICAgICAgJ215Y29tb3JwaGJveCcsXG4gICAgICAgICAgICAgICAgJ29vYm94JyxcbiAgICAgICAgICAgICAgICAnb3NtIGxvY2F0aW9uIG1hcCcsXG4gICAgICAgICAgICAgICAgJ3F1b3RlIGJveCcsXG4gICAgICAgICAgICAgICAgJ3NwZWNpZXNib3gnLFxuICAgICAgICAgICAgICAgICd0YXhvYm94JyxcbiAgICAgICAgICAgICAgICAndmlydXNib3gnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtGb3JtYXRTdHlsZS5NaW5pbWl6ZWRdOiBbJ2Nvb3JkJywgJ2VuZCBkYXRlJywgJ2xhbmcnLCAnbGFuZ3gnLCAnc3RhcnQgZGF0ZSddLFxuICAgICAgICAgICAgW0Zvcm1hdFN0eWxlLk1pbmltaXplZFNwYWNlZF06IFsnaW5mb2JveCBtYXBmcmFtZSddLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKHN0YXJ0TG9jYXRpb246IG51bWJlcikge1xuICAgICAgICAgICAgdGhpcy5sb2NhdGlvbiA9IHsgc3RhcnQ6IHN0YXJ0TG9jYXRpb24gfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBwYXJzZSgpIHtcbiAgICAgICAgICAgIHRoaXMuZnVsbFRleHQgPSBjb250ZW50LnNsaWNlKHRoaXMubG9jYXRpb24uc3RhcnQsIHRoaXMubG9jYXRpb24uZW5kKTtcbiAgICAgICAgICAgIHRoaXMuZnVsbFRleHRFc2NhcGVkID0gdGhpcy5mdWxsVGV4dDtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBzdWJUZW1wbGF0ZSBvZiB0aGlzLnN1YlRlbXBsYXRlcykge1xuICAgICAgICAgICAgICAgIHN1YlRlbXBsYXRlLnBhcnNlKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZ1bGxUZXh0RXNjYXBlZCA9IHRoaXMuZnVsbFRleHRFc2NhcGVkLnJlcGxhY2Uoc3ViVGVtcGxhdGUuZnVsbFRleHQhLCB0aGlzLnBsYWNlaG9sZGVyU3RyaW5nc1swXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB0cmltbWVkSW5uZXJUZXh0ID0gdGhpcy5mdWxsVGV4dEVzY2FwZWQuc2xpY2UoMiwgLTIpLnRyaW0oKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBwaXBlRXNjYXBlUmVnZXggb2YgdGhpcy5waXBlRXNjYXBlUmVnZXhlcylcbiAgICAgICAgICAgICAgICB3aGlsZSAocGlwZUVzY2FwZVJlZ2V4LnRlc3QodHJpbW1lZElubmVyVGV4dCkpXG4gICAgICAgICAgICAgICAgICAgIHRyaW1tZWRJbm5lclRleHQgPSB0cmltbWVkSW5uZXJUZXh0LnJlcGxhY2VBbGwocGlwZUVzY2FwZVJlZ2V4LCBgJDEke3RoaXMucGxhY2Vob2xkZXJTdHJpbmdzWzFdfSQyYCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRhZ0VxdWFsc0VzY2FwZVJlZ2V4ZXMgPSBbLzwoXFx3KykoIFtePD5dKz8pKD88IVxcLyk+Lio/PFxcL1xcMT4vZywgLzwoXFx3KykoIFtePD5dKz8pXFwvPi9nXTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCB0YWdFcXVhbHNFc2NhcGVSZWdleCBvZiB0YWdFcXVhbHNFc2NhcGVSZWdleGVzKVxuICAgICAgICAgICAgICAgIHRyaW1tZWRJbm5lclRleHQgPSB0cmltbWVkSW5uZXJUZXh0LnJlcGxhY2VBbGwodGFnRXF1YWxzRXNjYXBlUmVnZXgsIChmdWxsVGV4dCwgdGFnTmFtZTogc3RyaW5nLCBhdHRyaWJ1dGVzOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bGxUZXh0LnJlcGxhY2UoYXR0cmlidXRlcywgYXR0cmlidXRlcy5yZXBsYWNlQWxsKCc9JywgdGhpcy5wbGFjZWhvbGRlclN0cmluZ3NbMl0pKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IHRyaW1tZWRJbm5lclRleHQuc3BsaXQoJ3wnKS5tYXAoKHBhcmFtZXRlcikgPT4gcGFyYW1ldGVyLnJlcGxhY2VBbGwodGhpcy5wbGFjZWhvbGRlclN0cmluZ3NbMV0sICd8JykudHJpbSgpKTtcblxuICAgICAgICAgICAgdGhpcy5uYW1lID0gcGFyYW1ldGVycy5zaGlmdCgpO1xuXG4gICAgICAgICAgICBjb25zdCBzcGxpdFBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzLm1hcCgocGFyYW1ldGVycykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVxdWFsc0xvY2F0aW9uID0gcGFyYW1ldGVycy5pbmRleE9mKCc9Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXF1YWxzTG9jYXRpb24gPT09IC0xKSByZXR1cm4geyBrZXk6IG51bGwsIHZhbHVlOiBwYXJhbWV0ZXJzLnJlcGxhY2VBbGwodGhpcy5wbGFjZWhvbGRlclN0cmluZ3NbMl0sICc9JykudHJpbSgpIH07XG5cbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcmFtZXRlcnMuc2xpY2UoZXF1YWxzTG9jYXRpb24gKyAxKS5yZXBsYWNlQWxsKHRoaXMucGxhY2Vob2xkZXJTdHJpbmdzWzJdLCAnPScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBwYXJhbWV0ZXJzLnNsaWNlKDAsIGVxdWFsc0xvY2F0aW9uKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBgJHt2YWx1ZS5zdGFydHNXaXRoKCdcXG4nKSA/ICdcXG4nIDogJyd9JHt2YWx1ZS50cmltKCl9YCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHNwbGl0UGFyYW1ldGVycztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgZ2V0U3R5bGUoKSB7XG4gICAgICAgICAgICBsZXQgbW9zdFNwZWNpZmljRGVmYXVsdFN0eWxlUHJlZml4TGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGxldCBtb3N0U3BlY2lmaWNEZWZhdWx0U3R5bGVGb3JtYXRTdHlsZTogRm9ybWF0U3R5bGUgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgW2Zvcm1hdFN0eWxlLCB0ZW1wbGF0ZVByZWZpeGVzXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmRlZmF1bHRUZW1wbGF0ZVN0eWxlcykpXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0ZW1wbGF0ZVByZWZpeCBvZiB0ZW1wbGF0ZVByZWZpeGVzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWUhLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCh0ZW1wbGF0ZVByZWZpeCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlUHJlZml4Lmxlbmd0aCA+PSBtb3N0U3BlY2lmaWNEZWZhdWx0U3R5bGVQcmVmaXhMZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3N0U3BlY2lmaWNEZWZhdWx0U3R5bGVQcmVmaXhMZW5ndGggPSB0ZW1wbGF0ZVByZWZpeC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3N0U3BlY2lmaWNEZWZhdWx0U3R5bGVGb3JtYXRTdHlsZSA9IE51bWJlci5wYXJzZUludChmb3JtYXRTdHlsZSkgYXMgRm9ybWF0U3R5bGU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG1vc3RTcGVjaWZpY0RlZmF1bHRTdHlsZUZvcm1hdFN0eWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGZvcm1hdCgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5mdWxsVGV4dCkgdGhpcy5wYXJzZSgpO1xuXG4gICAgICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2V0U3R5bGUoKTtcbiAgICAgICAgICAgIGlmIChzdHlsZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5mdWxsVGV4dCE7XG5cbiAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IFtge3ske3RoaXMubmFtZX1gXTtcblxuICAgICAgICAgICAgaWYgKHN0eWxlID09PSBGb3JtYXRTdHlsZS5FeHBhbmRlZCB8fCBzdHlsZSA9PT0gRm9ybWF0U3R5bGUuRXhwYW5kZWRBbGlnbmVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlcXVpcmVkS2V5TGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZSA9PT0gRm9ybWF0U3R5bGUuRXhwYW5kZWRBbGlnbmVkKVxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZEtleUxlbmd0aCA9IE1hdGgubWF4KC4uLnRoaXMucGFyYW1ldGVycy5tYXAoKHBhcmFtZXRlcikgPT4gcGFyYW1ldGVyLmtleT8ubGVuZ3RoID8/IDApKTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFyYW1ldGVyIG9mIHRoaXMucGFyYW1ldGVycylcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goYHwgJHtwYXJhbWV0ZXIua2V5ID8gYCR7cGFyYW1ldGVyLmtleS5wYWRFbmQocmVxdWlyZWRLZXlMZW5ndGgpfSA9IGAgOiAnJ30ke3BhcmFtZXRlci52YWx1ZX1gKTtcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFyYW1ldGVyIG9mIHRoaXMucGFyYW1ldGVycylcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtZXRlci52YWx1ZSkgb3V0cHV0LnB1c2goYHwke3BhcmFtZXRlci5rZXkgPyBgJHtwYXJhbWV0ZXIua2V5fT1gIDogJyd9JHtwYXJhbWV0ZXIudmFsdWV9YCk7XG5cbiAgICAgICAgICAgIG91dHB1dC5wdXNoKCd9fScpO1xuXG4gICAgICAgICAgICBpZiAob3V0cHV0Lmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIG91dHB1dFswXSArPSAnfX0nO1xuXG4gICAgICAgICAgICAgICAgb3V0cHV0LnBvcCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHlsZSA9PT0gRm9ybWF0U3R5bGUuTWluaW1pemVkU3BhY2VkKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W291dHB1dC5sZW5ndGggLSAyXSArPSAnfX0nO1xuXG4gICAgICAgICAgICAgICAgb3V0cHV0LnBvcCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgam9pbmVkT3V0cHV0ID0gb3V0cHV0LmpvaW4oXG4gICAgICAgICAgICAgICAgc3R5bGUgPT09IEZvcm1hdFN0eWxlLkV4cGFuZGVkIHx8IHN0eWxlID09PSBGb3JtYXRTdHlsZS5FeHBhbmRlZEFsaWduZWRcbiAgICAgICAgICAgICAgICAgICAgPyAnXFxuJ1xuICAgICAgICAgICAgICAgICAgICA6IHN0eWxlID09PSBGb3JtYXRTdHlsZS5NaW5pbWl6ZWRTcGFjZWRcbiAgICAgICAgICAgICAgICAgICAgICA/ICcgJ1xuICAgICAgICAgICAgICAgICAgICAgIDogJycsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN1YlRlbXBsYXRlIG9mIHRoaXMuc3ViVGVtcGxhdGVzKVxuICAgICAgICAgICAgICAgIGpvaW5lZE91dHB1dCA9IGpvaW5lZE91dHB1dC5yZXBsYWNlKHRoaXMucGxhY2Vob2xkZXJTdHJpbmdzWzBdLCBzdWJUZW1wbGF0ZS5mb3JtYXQoKSk7XG5cbiAgICAgICAgICAgIHJldHVybiBqb2luZWRPdXRwdXQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBhbGxUZW1wbGF0ZXM6IFRlbXBsYXRlW10gPSBbXTtcblxuICAgIGNvbnN0IGluc2lkZVRlbXBsYXRlczogVGVtcGxhdGVbXSA9IFtdO1xuICAgIGxldCBpc0luc2lkZUxpbmsgPSBmYWxzZTtcbiAgICBsZXQgaXNJbnNpZGVOb3dpa2kgPSBmYWxzZTtcbiAgICBsZXQgaXNJbnNpZGVDb21tZW50ID0gZmFsc2U7XG5cbiAgICBsZXQgY3VycmVudExvY2F0aW9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgY29udGVudCBmb2xsb3dpbmcgdGhlIGN1cnJlbnQgbG9jYXRpb24gbWF0Y2hlcyB0aGUgZGVzaXJlZCBzdHJpbmcuXG4gICAgICogQHBhcmFtIGRlc2lyZWRTdHJpbmcgVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXRTdHJpbmcoZGVzaXJlZFN0cmluZzogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGlzQXRTdHJpbmcgPSBjb250ZW50LnNsaWNlKGN1cnJlbnRMb2NhdGlvbiwgY3VycmVudExvY2F0aW9uICsgZGVzaXJlZFN0cmluZy5sZW5ndGgpID09PSBkZXNpcmVkU3RyaW5nO1xuXG4gICAgICAgIGlmIChpc0F0U3RyaW5nKSBjdXJyZW50TG9jYXRpb24gKz0gZGVzaXJlZFN0cmluZy5sZW5ndGg7XG5cbiAgICAgICAgcmV0dXJuIGlzQXRTdHJpbmc7XG4gICAgfVxuXG4gICAgd2hpbGUgKGN1cnJlbnRMb2NhdGlvbiA8IGNvbnRlbnQubGVuZ3RoKVxuICAgICAgICBpZiAoaXNBdFN0cmluZygnPG5vd2lraT4nKSkgaXNJbnNpZGVOb3dpa2kgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCc8L25vd2lraT4nKSkgaXNJbnNpZGVOb3dpa2kgPSBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnPCEtLScpKSBpc0luc2lkZUNvbW1lbnQgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCctLT4nKSkgaXNJbnNpZGVDb21tZW50ID0gZmFsc2U7XG4gICAgICAgIGVsc2UgaWYgKCFpc0luc2lkZU5vd2lraSAmJiAhaXNJbnNpZGVDb21tZW50KVxuICAgICAgICAgICAgaWYgKGlzQXRTdHJpbmcoJ1tbJykpIGlzSW5zaWRlTGluayA9IHRydWU7XG4gICAgICAgICAgICBlbHNlIGlmIChpc0luc2lkZUxpbmsgJiYgaXNBdFN0cmluZygnXV0nKSkgaXNJbnNpZGVMaW5rID0gZmFsc2U7XG4gICAgICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCd7eycpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUoY3VycmVudExvY2F0aW9uIC0gMik7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5zaWRlVGVtcGxhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUuaXNOZXN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpbnNpZGVUZW1wbGF0ZXMuYXQoLTEpPy5zdWJUZW1wbGF0ZXMucHVzaCh0ZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaW5zaWRlVGVtcGxhdGVzLnB1c2godGVtcGxhdGUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0F0U3RyaW5nKCd9fScpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdFRlbXBsYXRlID0gaW5zaWRlVGVtcGxhdGVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlmICghbGFzdFRlbXBsYXRlKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGxhc3RUZW1wbGF0ZS5sb2NhdGlvbi5lbmQgPSBjdXJyZW50TG9jYXRpb247XG5cbiAgICAgICAgICAgICAgICBhbGxUZW1wbGF0ZXMucHVzaChsYXN0VGVtcGxhdGUpO1xuICAgICAgICAgICAgfSBlbHNlIGN1cnJlbnRMb2NhdGlvbisrO1xuICAgICAgICBlbHNlIGN1cnJlbnRMb2NhdGlvbisrO1xuXG4gICAgbGV0IG5ld0NvbnRlbnQgPSBjb250ZW50O1xuXG4gICAgZm9yIChjb25zdCB0ZW1wbGF0ZSBvZiBhbGxUZW1wbGF0ZXMpXG4gICAgICAgIGlmICghdGVtcGxhdGUuaXNOZXN0ZWQpIHtcbiAgICAgICAgICAgIHRlbXBsYXRlLnBhcnNlKCk7XG5cbiAgICAgICAgICAgIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LnJlcGxhY2UodGVtcGxhdGUuZnVsbFRleHQhLCB0ZW1wbGF0ZS5mb3JtYXQoKSk7XG4gICAgICAgIH1cblxuICAgIHJldHVybiBuZXdDb250ZW50O1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7O21CQW1DUSxHQUFHLE9BQU8sSUFBSSxtQkFBbUIsRUFBSSxHQUNwQyxHQUFHLE9BQU8sSUFBSSxzQkFBc0IsR0FFekMsR0FBRyxPQUFPLE1BQU0sQ0FBQyxpQkFBa0Isc0JBQXNCLEVBQUcsSUFBTSxDQUM5RCxHQUFHLEtBQUssT0FBTztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT3JCLEVBRU0sSUFBTUEsRUFBTyxHQUFHLEtBQUssZUFDakIsR0FBRyxPQUFPLElBQUksTUFBTSxJQUFNLFVBQVksZUFBaUIsYUFDdkQsSUFDQSwwQkFDQSxpQkFDSixFQUVJQyxFQUF5QixHQUV2QkMsRUFBZ0IsNEZBRXRCLEdBQUcsS0FBSyw0QkFBNEIsRUFBRSxJQUFJLElBQU0sQ0FDNUMsR0FBSUQsRUFBd0IsQ0FDeEIsSUFBTUUsRUFBZSxTQUFTLGNBQW1DLHNDQUFzQyxFQUVsR0EsRUFBYSxNQUFNLFNBQVNELEVBQWMsTUFBTSxDQUFDLENBQUMsSUFDL0NDLEVBQWEsTUFBT0EsRUFBYSxPQUFTLEtBQUtELEVBQWMsT0FBTyxDQUFDLEVBQUUsWUFBWSxFQUFJQSxFQUFjLE1BQU0sQ0FBQyxDQUFDLEdBQzVHQyxFQUFhLE1BQVFELEdBRTlCRCxFQUF5QixFQUM3QixDQUNKLENB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a0JoQyxFQUFRLFFBQzdCLEdBQUlpQyxFQUFXLFVBQVUsRUFBR0gsRUFBaUIsV0FDcENHLEVBQVcsV0FBVyxFQUFHSCxFQUFpQixXQUMxQ0csRUFBVyxNQUFNLEVBQUdGLEVBQWtCLFdBQ3RDRSxFQUFXLEtBQUssRUFBR0YsRUFBa0IsV0FDckMsQ0FBQ0QsR0FBa0IsQ0FBQ0MsRUFDekIsR0FBSUUsRUFBVyxJQUFJLEVBQUc4RCxFQUFlLFdBQzVCQSxHQUFnQjlELEVBQVcsSUFBSSxFQUFHOEQsRUFBZSxXQUNqRDlELEVBQVcsSUFBSSxFQUFHLENBQ3ZCLElBQU0rRCxFQUFXLElBQUl4QixFQUFTeEMsRUFBa0IsQ0FBQyxFQUU3QzhELEVBQWdCLE9BQVMsSUFDekJFLEVBQVMsU0FBVyxHQUNwQkYsRUFBZ0IsR0FBRyxFQUFFLEdBQUcsYUFBYSxLQUFLRSxDQUFRLEdBR3RERixFQUFnQixLQUFLRSxDQUFRLENBQ2pDLFNBQVcvRCxFQUFXLElBQUksRUFBRyxDQUN6QixJQUFNZ0UsRUFBZUgsRUFBZ0IsSUFBSSxFQUN6QyxHQUFJLENBQUNHLEVBQWMsU0FFbkJBLEVBQWEsU0FBUyxJQUFNakUsRUFFNUI2RCxFQUFhLEtBQUtJLENBQVksQ0FDbEMsTUFBT2pFLFNBQ05BLElBRVQsSUFBSWtFLEVBQWFsRyxFQUVqQixRQUFXZ0csS0FBWUgsRUFDZEcsRUFBUyxXQUNWQSxFQUFTLE1BQU0sRUFFZkUsRUFBYUEsRUFBVyxRQUFRRixFQUFTLFNBQVdBLEVBQVMsT0FBTyxDQUFDLEdBRzdFLE9BQU9FLENBQ1giLAogICJuYW1lcyI6IFsibGluayIsICJzaG91bGRBZGRTY3JpcHRNZXNzYWdlIiwgInNjcmlwdE1lc3NhZ2UiLCAic3VtbWFyeUlucHV0IiwgImV2ZW50IiwgImVkaXRCb3giLCAib3JpZ2luYWxUZXh0IiwgImZpbmFsVGV4dCIsICJjbGVhbnVwU2VjdGlvbkhlYWRlcnMiLCAiY2xlYW51cE1hZ2ljV29yZHMiLCAiY2xlYW51cERpc3BsYXl0aXRsZXNBbmREZWZhdWx0c29ydHMiLCAiY2xlYW51cENhdGVnb3JpZXMiLCAiY2xlYW51cExpbmtzIiwgImNsZWFudXBJbXByb3BlckNoYXJhY3RlcnMiLCAiY2xlYW51cFllYXJSYW5nZXMiLCAiY2xlYW51cFN0cmF5TWFya3VwIiwgImNsZWFudXBTcGFjaW5nIiwgImNsZWFudXBSZWZlcmVuY2VzIiwgImZvcm1hdFRlbXBsYXRlcyIsICJzdXJmYWNlTW9kZWwiLCAiZXNjYXBlUmVnZXhDaGFyYWN0ZXJzIiwgInN0cmluZyIsICJjb250ZW50IiwgImNvbW1vblJlcGxhY2VtZW50cyIsICJjb21tb25NaXNjYXBpdGFsaXplZFdvcmRzIiwgInJldmVyc2VDb21tb25SZXBsYWNlbWVudHMiLCAia2V5IiwgInZhbHVlcyIsICJ2YWx1ZSIsICJwYXJzZWRIZWFkZXJzIiwgImhlYWRlciIsICJuYW1lIiwgInN0YXJ0TWFya3VwIiwgImVuZE1hcmt1cCIsICJsaW5rcyIsICJkZXB0aCIsICJoZWFkZXJzU2V0IiwgInRpdGxlU3BhY2VyIiwgImxvd2VyY2FzZU5hbWUiLCAiY2FwaXRhbGl6ZWROYW1lIiwgIndvcmQiLCAib3V0cHV0IiwgInBhcnNlZFRhZ3MiLCAidGFnIiwgImZ1bGxUYWciLCAidHlwZSIsICJjdXJyZW50VGl0bGUiLCAib3JpZ2luYWxUYWdSZWdleCIsICJ0aXRsZSIsICJuZXdUZXh0IiwgImZ1bmN0aW9uc0NhbGxlZFdoaWxlRXNjYXBlZCIsICJjbG9zZWRMaW5rcyIsICJpc0luc2lkZU5vd2lraSIsICJpc0luc2lkZUNvbW1lbnQiLCAiY3VycmVudExvY2F0aW9uIiwgImlzQXRTdHJpbmciLCAiZGVzaXJlZFN0cmluZyIsICJzaG91bGRJbmNyZW1lbnQiLCAibGFzdExpbmsiLCAibmV3TGlua0NvbnRlbnQiLCAibmFtZXNwYWNlTmFtZXMiLCAibGlua0xvY2F0aW9uIiwgImlubmVyTGluayIsICJ1bnBhcnNlZExpbmsiLCAicGFyYW1ldGVycyIsICJhbHRUZXh0IiwgImlzRmlyc3RDaGFyYWN0ZXJDb2xvbiIsICJzaG91bGRGaXJzdENoYXJhY3RlckJlQ29sb24iLCAibGlua1VwcGVyY2FzZVN0YXJ0IiwgImxpbmtMb3dlcmNhc2VTdGFydCIsICJuYW1lc3BhY2UiLCAiYWZ0ZXJMaW5rVGV4dCIsICJuZXdMaW5rIiwgImZ1bmN0aW9uVG9DYWxsIiwgImxvb3BDb3VudGVyIiwgImxpbmtEYXRhIiwgImxpbmtDb250ZW50IiwgInJ1biIsICJlbGlwc2lzUGxhY2Vob2xkZXIiLCAibmJzcFBsYWNlaG9sZGVyIiwgIm9yaWdpbmFsIiwgInN0YXJ0IiwgImVuZCIsICJzdHJheU1hcmt1cFJlZ2V4ZXMiLCAicmVnZXgiLCAicmVmZXJlbmNlcyIsICJwcm9jZWVkVW50aWxTdHJpbmciLCAiaXNTZWxmQ2xvc2luZyIsICJwYXJzZXIiLCAicmVwbGFjZW1lbnRzIiwgInJlZmVyZW5jZSIsICJzdGFydFRhZyIsICJ0YWdDb250ZW50IiwgIkZvcm1hdFN0eWxlIiwgIlRlbXBsYXRlIiwgInN0YXJ0TG9jYXRpb24iLCAic3ViVGVtcGxhdGUiLCAidHJpbW1lZElubmVyVGV4dCIsICJwaXBlRXNjYXBlUmVnZXgiLCAidGFnRXF1YWxzRXNjYXBlUmVnZXhlcyIsICJ0YWdFcXVhbHNFc2NhcGVSZWdleCIsICJmdWxsVGV4dCIsICJ0YWdOYW1lIiwgImF0dHJpYnV0ZXMiLCAicGFyYW1ldGVyIiwgInNwbGl0UGFyYW1ldGVycyIsICJlcXVhbHNMb2NhdGlvbiIsICJtb3N0U3BlY2lmaWNEZWZhdWx0U3R5bGVQcmVmaXhMZW5ndGgiLCAibW9zdFNwZWNpZmljRGVmYXVsdFN0eWxlRm9ybWF0U3R5bGUiLCAiZm9ybWF0U3R5bGUiLCAidGVtcGxhdGVQcmVmaXhlcyIsICJ0ZW1wbGF0ZVByZWZpeCIsICJzdHlsZSIsICJyZXF1aXJlZEtleUxlbmd0aCIsICJqb2luZWRPdXRwdXQiLCAiYWxsVGVtcGxhdGVzIiwgImluc2lkZVRlbXBsYXRlcyIsICJpc0luc2lkZUxpbmsiLCAidGVtcGxhdGUiLCAibGFzdFRlbXBsYXRlIiwgIm5ld0NvbnRlbnQiXQp9Cg==
