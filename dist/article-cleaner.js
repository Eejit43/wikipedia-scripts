// <pre>
// Note: This script was compiled and minified from TypeScript. For a more readable version, see https://github.com/Eejit43/wikipedia-scripts/blob/main/scripts/article-cleaner.ts

"use strict";(()=>{var N=new mw.Api;async function C(e){return(await N.get({action:"query",formatversion:"2",prop:"revisions",rvprop:"content",rvslots:"main",titles:e})).query.pages[0].revisions?.[0].slots.main.content.trim()}(()=>{if(mw.config.get("wgNamespaceNumber")<0||!mw.config.get("wgIsProbablyEditable"))return;let e=["mediawiki.util","jquery.textSelection"];mw.config.get("skin")!=="minerva"&&e.push("mobile.editor.overlay"),mw.loader.using(e,()=>{let u=!1,d="Cleaned up article content (via [[User:Eejit43/scripts/article-cleaner|article-cleaner]])";function h(n){setTimeout(()=>{n.value.includes(d.slice(1))||(n.value+=n.value&&!n.value.startsWith("/* ")&&!n.value.endsWith(" */ ")?`; ${d.charAt(0).toLowerCase()+d.slice(1)}`:d)},0),u=!1}async function o(n){n.preventDefault();let m=$(mw.config.get("skin")==="minerva"?"#wikitext-editor":"#wpTextbox1");if(m.length===0)return mw.notify("Edit box not found!",{type:"error",autoHideSeconds:"short"});let f=m.textSelection("getContents"),t=f;if(t=v(t),t=P(t),t=_(t),t=M(t),t=O(t),t=D(t,[F,H]),t=U(t),t=R(t),t=G(t),t=await W(t),t=j(t),t=R(t,!0),t=B(t),f===t)mw.notify("No changes to be made to the article!",{type:"warn",autoHideSeconds:"short"});else{if(ve.init){let i=ve.init.target.getSurface().getModel();i.getLinearFragment(i.getRangeFromSourceOffsets(0,f.length)).insertContent(t),i.setSelection(new ve.dm.LinearSelection(new ve.Range(0,0)))}else m.textSelection("setContents",t),m.textSelection("setSelection",{start:0});mw.notify("Article cleanup complete!",{type:"success",autoHideSeconds:"short"});let r=document.querySelector("#wpSummary");r?h(r):u=!0}}mw.config.get("skin")==="minerva"?(mw.hook("mobileFrontend.editorOpened").add(()=>{let n=document.querySelector(".overlay-header .switcher-container"),f=new OO.ui.ButtonWidget({icon:"articleCheck",framed:!1}).$element[0];f.addEventListener("click",o),n.before(f)}),mw.hook("wikipage.content").add(n=>{if(n[0]?.classList.contains("preview")&&u){let m=document.querySelector(".summary-input textarea");h(m)}})):(mw.util.addCSS(`
#article-cleaner {
    display: none;
}

#content:has(#wpTextbox1) #article-cleaner {
    display: unset;
}`),mw.util.addPortletLink(mw.config.get("skin")==="minerva"?"p-navigation":"p-cactions","#","Perform article cleanup","article-cleaner").addEventListener("click",o),mw.hook("ve.saveDialog.stateChanged").add(()=>{if(u){let m=document.querySelector(".ve-ui-mwSaveDialog-summary textarea");h(m)}}))})})();function x(e){return e.replaceAll(/[$()*+.?[\\\]^{|}]/g,"\\$&")}function v(e){let u=/[\u0000-\u0009\u000B\u000C\u000E-\u001F\u007F\u00AD\u200B-\u200F\u202A-\u202E\u2060\u2063\uFEFF]/g;return u.test(e)&&(e=e.replaceAll(u,"")),e}function P(e){let u={"See also":["also see"],References:["reference","source","sources","citation","citations"],"Further reading":["further reading"],"External links":["external link","weblink","weblinks"]},d=["and","birth","career","death","education","life","of","or"],h=Object.fromEntries(Object.entries(u).flatMap(([t,r])=>[[t.toLowerCase(),t],...r.map(i=>[i,t])])),n=[...e.matchAll(/(?<=^|\n)\n*(?<startMarkup>=+) *(?<name>.*?) *(?<endMarkup>=+)(\n+|$)/g)].map(t=>{let{name:r}=t.groups,{startMarkup:i,endMarkup:c}=t.groups;r=r.replaceAll(/'{3}/g,"");let S=r.matchAll(/\[\[(.+?)]]/g).toArray();for(let a of S)r=r.replace(a[0],a[1].split("|").at(-1));let p=Math.max(i.length,c.length,2);return{name:r,depth:p,original:t[0]}}),m=new Set(n.map(t=>t.name)),f=n.length>0&&/^\n*=+ | =+\n+$/.test(n[0].original)?" ":"";for(let t of n){let r=t.name.toLowerCase(),c=r in h&&!m.has(h[r])?h[r]:t.name;for(let p of d)c=c.replaceAll(new RegExp(`\\b${p}\\b`,"gi"),p);c=c.charAt(0).toUpperCase()+c.slice(1);let S=`${"=".repeat(t.depth)}${f}${c}${f}${"=".repeat(t.depth)}`;t.original!==S&&(e=e.replace(t.original,`

${S}
`))}return e}function _(e){return e.replaceAll(/__(INDEX|NOINDEX|NEWSECTIONLINK|NONEWSECTIONLINK|NOEDITSECTION|DISAMBIG|STATICREDIRECT|FORCETOC)__\n*/g,"")}function M(e){let d=[...e.matchAll(/{{(displaytitle|defaultsort)[:|](.*?)}}/gi)].map(o=>{let[n,m,f]=o;return{type:m.toUpperCase(),value:f,original:n}}),h=mw.Title.newFromText(mw.config.get("wgPageName"));for(let o of d){let n=new RegExp(`${x(o.original)}
*`,"g"),m=mw.Title.newFromText(o.value);if(!m)continue;let f=mw.Title.makeTitle(h.getNamespaceId(),m.getMainText());if(!f)continue;let t=o.type==="DISPLAYTITLE"?h.toText():h.getMainText(),r=o.type==="DISPLAYTITLE"?f.toText():f.getMainText();if(t===r){e=e.replace(n,"");continue}let i=`{{${o.type}:${r}}}
`;e=e.replace(n,i)}return e}function O(e){return e.replaceAll(/(\[\[|}}):?category:(.*?)(]]|}})/gi,`[[${mw.config.get("wgCanonicalNamespace")==="Draft"?":":""}Category:$2]]`)}function D(e,u){let d=[],h=[],o=!1,n=!1,m=0;function f(i,c=!0){let S=e.slice(m,m+i.length)===i;return S&&c&&(m+=i.length),S}for(;m<e.length;)if(f("<nowiki>"))o=!0;else if(f("</nowiki>"))o=!1;else if(f("<!--"))n=!0;else if(f("-->"))n=!1;else if(!o&&!n)if(f("[["))h.push({start:m-2,end:-1,isNested:h.length>0});else if(f("]]")){let i=h.pop();if(!i)continue;i.end=m,d.push(i)}else m++;else m++;let t=[],r=Object.values(mw.config.get("wgFormattedNamespaces"));for(let i of d){let c=e.slice(i.start+2,i.end-2),[S,...p]=c.split("|");e=e.slice(0,i.start+2)+"\0".repeat(S.length)+e.slice(i.start+2+S.length);let a=S.replaceAll("_"," ").trim(),s=p.join("|");s=s===" "?" ":s.trim();let E=a.startsWith(":");E&&(a=a.slice(1));let b=!1,l=a.charAt(0).toUpperCase()+a.slice(1),g=a.charAt(0).toLowerCase()+a.slice(1),T=a.split(":")[0];T=T.charAt(0).toUpperCase()+T.slice(1),a.includes(":")&&(l.startsWith("Image:")&&(a=`${a.startsWith("Image:")?"F":"f"}ile:${a.slice(6)}`),E&&(["Image","File","Category"].includes(l.split(":")[0])||!r.includes(T))&&(b=!0));let w="",L="",k=/^('{2,})(.*?)\1$/.exec(s);if(k&&!k[2].includes("''")&&(w=k[1],s=k[2].trim(),L=k[1]),/[!,.:;?]$/.test(s)&&!["Image","File","Category"].includes(l.split(":")[0])){let A=s.slice(-1);a.endsWith(A)||(L+=A,s=s.slice(0,-1))}a===s?s="":new RegExp(`^${x(a)}[a-z]+$`).test(s)&&(L=s.slice(a.length)+L,s="");for(let A of[l,g])A===s?(a=A,s=""):new RegExp(`^${x(A)}[a-z]+$`).test(s)&&(a=A,L=s.slice(A.length)+L,s="");(s&&a.includes(":")&&r.includes(T)||a.startsWith("file:")||a.startsWith("category:"))&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a=`${b?":":""}${a}`,a=a.padStart(S.length,"\0");let I=`${w}[[${a}${s?`|${s}`:""}]]${L}`;t.push([i,I])}for(let i of u)e=i(e,1);for(let i=0;i<2;i++)for(let[c,S]of t)i===0&&c.isNested||i===1&&!c.isNested||(e=e.slice(0,c.start)+S.padEnd(c.end-c.start,"\0")+e.slice(c.end));for(let i of u)e=i(e,2);return e.replaceAll("\0","")}function F(e,u){return u===1?(e=e.replaceAll(/[“”„‟]/g,'"'),e=e.replaceAll(/[‘’‚‛]/g,"'"),e=e.replaceAll("\u2026","\x7F"),e=e.replaceAll("\xA0","\x9F")):(e=e.replaceAll("\x7F","..."),e=e.replaceAll("\x9F","&nbsp;")),e}function H(e,u){return u===1&&(e=e.replaceAll(/(\(\d{3,4}) ?[‒–−-] ?(\d{3,4}\))/g,(d,h,o)=>`${h}\u2013${o}`.padEnd(d.length,"\0"))),e}function U(e){let u=[/'+(Bold|Italic)( text)?'+ */g,/(<big>)+Big( text)?(<\/big>)+ */g,/(<small>)+Small( text)?(<\/small>)+ */g,/(<sup>)+Superscript( text)?(<\/sup>)+ */g,/(<sub>)+Subscript( text)?(<\/sub>)+ */g,/(<s>)+Strikethrough(<\/s>)+ */g,/(<u>)+Underline(<\/u>)+ */g,/(<code>)+Computer code(<\/code>)+ */g,/(<nowiki>)+Insert non-formatted text here(<\/nowiki>)+ */g,/=+ Heading text =+ */g,/\* Bulleted list item */g,/# Numbered list item */g,/<gallery>\nExample.jpg\|Caption1\nExample.jpg\|Caption2\n<\/gallery> */g,/#REDIRECT \[\[Target page name]] */g,/<!-- Invisible comment --> */g,/<\s*(big|small|sup|sub|s|u|code|nowiki|noinclude|onlyinclude|includeonly|center|blockquote|gallery)\s*(\s+[^<>]*)?>\s*<\s*\/\s*\1\s*>/gi];for(let d of u)for(;d.test(e);)e=e.replace(d,"");return e}function R(e,u=!1){let h=["poem","pre","references","templatedata"],o=[];e=e.replaceAll(new RegExp(`(<(${h.join("|")})(?: [^<>]*?)?>)(.*?)(</\\2>)`,"gs"),(n,m,f,t,r)=>(t=t.replaceAll(/ +$/gm,"").trim(),o.push(`${m}
${t}
${r}`),"\u{F0000}")),e=e.replaceAll(/(\b|\p{Punctuation}|\]\]|\}\}|\w>) {2,}(\b|\p{Punctuation}|\[\[|\{\{|<\w)/gu,"$1 $2"),u||(e=e.replaceAll(/^ +| +$/gm,"")),e=e.replaceAll(/\n{3,}/g,`

`),e=e.replace(/\s*({{[^}]*stub}})/i,`

$1`),e=e.replaceAll(/\s+$/g,""),e=e.replaceAll(/^([#*]+) */gm,"$1 "),e=e.replaceAll(/^([#*]+ .*)\n+(?=[#*]+ )/gm,`$1
`),u||(e=e.replaceAll(/(?<!\|)\s+(?=<ref(?!erences))/g,"")),e=e.replaceAll(/<\/([A-Za-z]+) +>/g,"</$1>"),e=e.replaceAll(/^(=+.*?=+)$\n{2,}(?=^=+.*?=+$)/gm,`$1
`),e=e.trim();for(let n of o)e=e.replace("\u{F0000}",n);return e}function G(e){e=e.replaceAll(/((?:<ref(?!erences)[^/]*?>.*?<\/ref>|<ref(?!erences).*?\/>)+)([!,.;?])?/g,(r,i,c)=>(c??"")+i);let u=[],d=!1,h=!1,o=0;function n(r){let i=e.slice(o,o+r.length)===r;return i&&(o+=r.length),i}function m(r){for(;o<e.length&&!n(r);)o++}for(;o<e.length;)if(n("<nowiki>"))d=!0;else if(n("</nowiki>"))d=!1;else if(n("<!--"))h=!0;else if(n("-->"))h=!1;else if(!d&&!h)if(!n("<references")&&n("<ref")){let r=o-4;m(">");let i=e.slice(r,o-1).trim().endsWith("/");u.push(i?{start:r,end:o,isSelfClosing:i}:{start:r,end:-1})}else n("</ref>")?u.at(-1).end=o:o++;else o++;let f=new DOMParser,t=[];for(let r of u){let i=e.slice(r.start,r.end),c=/<ref(?!erences).*?>/is.exec(i)[0],p=f.parseFromString(r.isSelfClosing?c.replace(/ *\/ *>/," />"):c+"</ref>","text/html").body.firstChild.outerHTML.replaceAll("&amp;","&"),a=i.slice(c.length,-6).trim().replaceAll(/^\[ *([^ \]]*) *]$/gm,"$1").trim();p=r.isSelfClosing||a.length===0?p.replace(/>\s*<\/ref>/," />"):`${p.slice(0,-6)}${a}</ref>`,i!==p&&t.push([i,p])}for(let[r,i]of t)e=e.replace(r,i);return e}var y;async function W(e){let u;(b=>(b[b.Expanded=0]="Expanded",b[b.ExpandedAligned=1]="ExpandedAligned",b[b.Minimized=2]="Minimized",b[b.MinimizedSpaced=3]="MinimizedSpaced"))(u||={});let d;(E=>(E[E.User=2]="User",E[E.Template=10]="Template",E[E.Draft=118]="Draft"))(d||={}),y??=JSON.parse(await C("User:Eejit43/scripts/article-cleaner.json")??"[]");let h=Object.fromEntries(y.flatMap(p=>p.from.map(a=>[a.charAt(0).toLowerCase()+a.slice(1),p.to])));class o{location;isNested=!1;fullText;fullTextEscaped;rawName;name;parameters=[];subTemplates=[];PLACEHOLDER_STRINGS=["\u{F0000}","\u{10FFFF}","\u{FFFFE}"];PIPE_ESCAPE_REGEXES=[/(\[\[[^\]]*?)\|(.*?]])/g,/(<!--.*?)\|(.*?-->)/g,/(<nowiki>.*?)\|(.*?<\/nowiki>)/g];TAG_EQUALS_ESCAPE_REGEXES=[/<(\w+)( [^<>]+?)(?<!\/)>.*?<\/\1>/g,/<(\w+)( [^<>]+?)\/>/g];TEMPLATE_ALIASES=h;DEFAULT_TEMPLATE_STYLES={1:["album rating","album reviews","american football uniform","australian rules football kit","automatic taxobox","baseball uniform","basketball kit","beachhandball kit","blockquote","chembox","cricket uniform","election box","episode list","external music video","extra album cover","field hockey kit","football box","football kit","footballbox","gallery","handball kit","hybridbox","icehockey kit","ichnobox","infobox","infraspeciesbox","judo bracket","judo repechage","listen","location map","medical resources","motorsport season","multiple image","music ratings","mycomorphbox","navbox","oobox","orbitbox","osm location map","quote box","repechage","rugbybox","sidebar","single ratings","singles","song ratings","speciesbox","starbox","succession box","taxobox","team bracket","track listing","tweet","virusbox","volleyball kit","nteambracket","2nteam-nteambracket","2teambracket","3teambracket","3teamrr","4teambracket","4teamrr","5teambracket","5teamrr","6teambracket","6teamrr","7teambracket","7teamrr","8teambracket","8teamroundrobin","8teamrr","9teambracket","10teambracket","11teambracket","12teambracket","13teambracket","14teambracket","15teambracket","16teambracket","18teambracket","20teambracket","24teambracket","27teambracket","32teambracket","40teambracket","48teambracket","64teambracket","128teambracket"],2:["birth date","coord","death date","end date","lang","start date"],3:["infobox mapframe"]};NAMESPACE_SPECIFIC_TEMPLATES={118:["afc comment","afc submission","afc submission/draft","afc topic","draft article","draft categories","draft topics","draft","drafts moved from mainspace","preloaddraft submit"],2:["dashboard.wikiedu.org sandbox","user sandbox","userspace draft"]};TEMPLATES_TO_KEEP_CONTENT=["draft categories"];TEMPLATES_TO_SUBST=["articlepagename","articlespace","basepagename","fullpagename","namespace","namespacenumber","pagename","rootpagename","subjectpagename","subjectspace","subpagename","talkpagename","talkspace","pagenamebase"];IMAGE_PARAMETERS=new Set(["cover","image_flag","image_seal","image_skyline","image","logo","map_image"]);IGNORED_IMAGE_SYNTAX=new Set(["thumb","thumbnail","frame","framed","frameless","border","right","left","center","none","baseline","middle","sub","super","text-top","text-bottom","top","bottom"]);constructor(a){this.location={start:a};for(let s=1;s<=10;s++)this.IMAGE_PARAMETERS.add(`image${s}`)}parse(){this.fullText=e.slice(this.location.start,this.location.end),this.fullTextEscaped=this.fullText;for(let l of this.subTemplates)l.parse(),this.fullTextEscaped=this.fullTextEscaped.replace(l.fullText,this.PLACEHOLDER_STRINGS[0]);let a=this.fullTextEscaped.slice(2,-2).trim();for(let l of this.PIPE_ESCAPE_REGEXES)for(;l.test(a);)a=a.replaceAll(l,`$1${this.PLACEHOLDER_STRINGS[1]}$2`);for(let l of this.TAG_EQUALS_ESCAPE_REGEXES)a=a.replaceAll(l,(g,T,w)=>g.replace(w,w.replaceAll("=",this.PLACEHOLDER_STRINGS[2])));let s=a.split("|").map(l=>l.replaceAll(this.PLACEHOLDER_STRINGS[1],"|").trim());this.rawName=s.shift(),this.name=this.rawName.replaceAll("_"," "),this.name.toLowerCase().startsWith("template:")&&(this.name=this.name.slice(9));let E=this.name.charAt(0).toLowerCase()+this.name.slice(1);if(E in this.TEMPLATE_ALIASES){let l=this.name.startsWith(this.name.charAt(0).toLowerCase()),g=this.TEMPLATE_ALIASES[E],T=g.startsWith(g.slice(0,2).toUpperCase())&&/^[A-Z]+$/.exec(g.slice(0,2));this.name=l&&!T?g.charAt(0).toLowerCase()+g.slice(1):g}let b=s.map(l=>{let g=l.indexOf("=");if(g===-1)return{key:null,value:l.replaceAll(this.PLACEHOLDER_STRINGS[2],"=").trim()};let T=l.slice(g+1).replaceAll(this.PLACEHOLDER_STRINGS[2],"=");return{key:l.slice(0,g).trim(),value:`${T.startsWith(`
`)?`
`:""}${T.trim()}`}});this.parameters=b}shouldBeRemoved(){for(let[a,s]of Object.entries(this.NAMESPACE_SPECIFIC_TEMPLATES))if(mw.config.get("wgNamespaceNumber")!==Number.parseInt(a)&&s.includes(this.name.toLowerCase()))return!0;return!1}getStyle(){let a=0,s;for(let[E,b]of Object.entries(this.DEFAULT_TEMPLATE_STYLES))for(let l of b)this.name.toLowerCase().startsWith(l)&&l.length>=a&&(a=l.length,s=Number.parseInt(E));return s}cleanupParameters(){this.parameters=this.parameters.map(({key:a,value:s})=>{if(a&&this.IMAGE_PARAMETERS.has(a)){s=s.trim();let E=s,b=[];s.startsWith("[[")&&s.endsWith("]]")&&(b=s.slice(2,-2).split("|"),s=b[0].trim()),s=s.replace(/^(File|Image):/,"").replaceAll("_"," ");let l=E.slice(2,-2).split("|").slice(1).map(g=>g.trim()).filter(g=>!this.IGNORED_IMAGE_SYNTAX.has(g)).join("|");l.length>0&&(s+=` <!-- Previous additional data: "${l}" -->`)}return{key:a,value:s}})}format(){if(this.fullText||this.parse(),this.shouldBeRemoved())return this.TEMPLATES_TO_KEEP_CONTENT.includes(this.name.toLowerCase())?this.parameters[0].value:"";let a=mw.config.get("wgNamespaceNumber")!==10&&this.TEMPLATES_TO_SUBST.some(l=>l===this.name.toLowerCase()||this.name.toLowerCase().startsWith(`${l}:`)),s=this.getStyle();if(s===void 0){let l=this.name;this.name.toLowerCase().startsWith("template:")&&(l=this.name.slice(9)),a&&(l=`subst:${l}`),l!==this.rawName&&(this.fullTextEscaped=this.fullTextEscaped.replace(this.rawName,l));for(let g of this.subTemplates)this.fullTextEscaped=this.fullTextEscaped.replace(this.PLACEHOLDER_STRINGS[0],g.format());return this.fullTextEscaped}let E=[`{{${a?"subst:":""}${this.name}`];if(this.cleanupParameters(),s===0||s===1){let l=0;s===1&&(l=Math.max(...this.parameters.map(g=>g.key?.length??0)));for(let[g,T]of this.parameters.entries())!T.key&&!T.value&&this.parameters.slice(g+1).every(w=>w.key??!w.value)||E.push(`| ${T.key?`${T.key.padEnd(l)} = `:""}${T.value}`)}else for(let[l,g]of this.parameters.entries())!g.value&&(g.key||this.parameters.slice(l+1).every(T=>T.key??!T.value))||E.push(`|${g.key?`${g.key}=`:""}${g.value}`);E.push("}}"),E.length===2?(E[0]+="}}",E.pop()):s===3&&(E[E.length-2]+="}}",E.pop());let b=E.join(s===0||s===1?`
`:s===3?" ":"");for(let l of this.subTemplates)b=b.replace(this.PLACEHOLDER_STRINGS[0],l.format());return b}}let n=[],m=[],f=!1,t=!1,r=!1,i=0;function c(p){let a=e.slice(i,i+p.length)===p;return a&&(i+=p.length),a}for(;i<e.length;)if(c("<nowiki>"))t=!0;else if(c("</nowiki>"))t=!1;else if(c("<!--"))r=!0;else if(c("-->"))r=!1;else if(!t&&!r)if(c("[["))f=!0;else if(f&&c("]]"))f=!1;else if(c("{{")){let p=new o(i-2);m.length>0&&(p.isNested=!0,m.at(-1)?.subTemplates.push(p)),m.push(p)}else if(c("}}")){let p=m.pop();if(!p)continue;p.location.end=i,n.push(p)}else i++;else i++;let S=e;for(let p of n)p.isNested||(p.parse(),S=S.replace(p.fullText,p.format()));return S}function j(e){if(mw.config.get("wgNamespaceNumber")!==0)return e;let u=["Do not remove this line","EDIT BELOW THIS LINE","Important, do not remove anything above this line before article has been created","Important, do not remove this line before article has been created","Inline citations added to your article will automatically display here","Note: The following pages were redirects to "];for(let d of u)e=e.replaceAll(new RegExp(` *<!-- ?${x(d)}.*?--> *
?`,"gs"),"");return e}function B(e){let u=mw.config.get("wgNamespaceNumber")!==0,d=!!new URLSearchParams(window.location.search).get("section"),h=mw.config.get("wgCategories").includes("All disambiguation pages"),o=mw.config.get("wgIsRedirect");if(u||d||h||o)return e;let n=[...e.matchAll(/\[\[Category:/g)].length;return e=e.replaceAll(/\n*{{(uncategorized|improve categories)(\|.+?)?}}({{|\n+|$)/gi,""),n===0&&!/{{uncategorized/i.test(e)?e+=`

{{Uncategorized|{{subst:CURRENTMONTHNAME}} {{subst:CURRENTYEAR}}}}`:n===1&&!/{{improve categories/i.test(e)&&(e+=`

{{Improve categories|{{subst:CURRENTMONTHNAME}} {{subst:CURRENTYEAR}}}}`),e}})();

// </pre>
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vdXRpbGl0eS50cyIsICIuLi9zY3JpcHRzL2FydGljbGUtY2xlYW5lci50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHR5cGUgeyBBcGlRdWVyeVJldmlzaW9uc1BhcmFtcyB9IGZyb20gJ3R5cGVzLW1lZGlhd2lraS9hcGlfcGFyYW1zJztcbmltcG9ydCB0eXBlIHsgUGFnZVJldmlzaW9uc1Jlc3VsdCB9IGZyb20gJy4vZ2xvYmFsLXR5cGVzJztcblxuZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBtdy5BcGkoKTtcblxuLyoqXG4gKiBGZXRjaGVzIHRoZSBjb250ZW50IG9mIGEgZ2l2ZW4gcGFnZS5cbiAqIEBwYXJhbSB0aXRsZSBUaGUgdGl0bGUgdG8gZmV0Y2guXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQYWdlQ29udGVudCh0aXRsZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgKGF3YWl0IGFwaS5nZXQoe1xuICAgICAgICAgICAgYWN0aW9uOiAncXVlcnknLFxuICAgICAgICAgICAgZm9ybWF0dmVyc2lvbjogJzInLFxuICAgICAgICAgICAgcHJvcDogJ3JldmlzaW9ucycsXG4gICAgICAgICAgICBydnByb3A6ICdjb250ZW50JyxcbiAgICAgICAgICAgIHJ2c2xvdHM6ICdtYWluJyxcbiAgICAgICAgICAgIHRpdGxlczogdGl0bGUsXG4gICAgICAgIH0gc2F0aXNmaWVzIEFwaVF1ZXJ5UmV2aXNpb25zUGFyYW1zKSkgYXMgUGFnZVJldmlzaW9uc1Jlc3VsdFxuICAgICkucXVlcnkucGFnZXNbMF0ucmV2aXNpb25zPy5bMF0uc2xvdHMubWFpbi5jb250ZW50LnRyaW0oKTtcbn1cbiIsICJpbXBvcnQgeyBnZXRQYWdlQ29udGVudCB9IGZyb20gJy4uL3V0aWxpdHknO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHRyYW5lb3VzLWNsYXNzXG4gICAgY2xhc3MgVmVSYW5nZSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKTtcbiAgICB9XG5cbiAgICBjbGFzcyBWZUZyYWdtZW50IHtcbiAgICAgICAgaW5zZXJ0Q29udGVudChjb250ZW50OiBzdHJpbmcpOiB2b2lkO1xuICAgIH1cblxuICAgIGNsYXNzIFZlU3VyZmFjZU1vZGVsIHtcbiAgICAgICAgZ2V0TGluZWFyRnJhZ21lbnQocmFuZ2U6IFZlUmFuZ2UpOiBWZUZyYWdtZW50O1xuICAgICAgICBnZXRSYW5nZUZyb21Tb3VyY2VPZmZzZXRzKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKTogVmVSYW5nZTtcbiAgICAgICAgc2V0U2VsZWN0aW9uKHNlbGVjdGlvbjogVmVMaW5lYXJTZWxlY3Rpb24pOiB2b2lkO1xuICAgIH1cblxuICAgIGNsYXNzIFZlVGFyZ2V0IHtcbiAgICAgICAgZ2V0U3VyZmFjZSgpOiB7IGdldE1vZGVsKCk6IFZlU3VyZmFjZU1vZGVsIH07XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHRyYW5lb3VzLWNsYXNzXG4gICAgY2xhc3MgVmVMaW5lYXJTZWxlY3Rpb24ge1xuICAgICAgICBjb25zdHJ1Y3RvcihyYW5nZTogVmVSYW5nZSk7XG4gICAgfVxuXG4gICAgY29uc3QgdmU6IHtcbiAgICAgICAgUmFuZ2U6IHR5cGVvZiBWZVJhbmdlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuICAgICAgICBkbTogeyBMaW5lYXJTZWxlY3Rpb246IHR5cGVvZiBWZUxpbmVhclNlbGVjdGlvbiB9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuICAgICAgICBpbml0PzogeyB0YXJnZXQ6IFZlVGFyZ2V0IH07XG4gICAgfTtcbn1cblxuZXhwb3J0IHt9O1xuXG4oKCkgPT4ge1xuICAgIGlmIChtdy5jb25maWcuZ2V0KCd3Z05hbWVzcGFjZU51bWJlcicpIDwgMCkgcmV0dXJuOyAvLyBEb24ndCBydW4gaW4gdmlydHVhbCBuYW1lc3BhY2VzXG4gICAgaWYgKCFtdy5jb25maWcuZ2V0KCd3Z0lzUHJvYmFibHlFZGl0YWJsZScpKSByZXR1cm47IC8vIERvbid0IHJ1biBpZiB1c2VyIGNhbid0IGVkaXQgcGFnZVxuXG4gICAgY29uc3QgZGVwZW5kZW5jaWVzID0gWydtZWRpYXdpa2kudXRpbCcsICdqcXVlcnkudGV4dFNlbGVjdGlvbiddO1xuXG4gICAgaWYgKG13LmNvbmZpZy5nZXQoJ3NraW4nKSAhPT0gJ21pbmVydmEnKSBkZXBlbmRlbmNpZXMucHVzaCgnbW9iaWxlLmVkaXRvci5vdmVybGF5Jyk7XG5cbiAgICBtdy5sb2FkZXIudXNpbmcoZGVwZW5kZW5jaWVzLCAoKSA9PiB7XG4gICAgICAgIGxldCBzaG91bGRBZGRTY3JpcHRNZXNzYWdlID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgU0NSSVBUX01FU1NBR0UgPSAnQ2xlYW5lZCB1cCBhcnRpY2xlIGNvbnRlbnQgKHZpYSBbW1VzZXI6RWVqaXQ0My9zY3JpcHRzL2FydGljbGUtY2xlYW5lcnxhcnRpY2xlLWNsZWFuZXJdXSknO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGVzIHRoZSBzdW1tYXJ5IHRleHRhcmVhIHdpdGggdGhlIHNjcmlwdCBtZXNzYWdlIGlmIGl0IGlzIG5vdCBhbHJlYWR5IHByZXNlbnQuXG4gICAgICAgICAqIEBwYXJhbSB0ZXh0YXJlYSBUaGUgc3VtbWFyeSB0ZXh0YXJlYSBlbGVtZW50IHRvIHVwZGF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVN1bW1hcnkodGV4dGFyZWE6IEhUTUxUZXh0QXJlYUVsZW1lbnQgfCBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgICAvLyBBZGQgdGltZW91dCBiZWZvcmUgc2V0dGluZyB0ZXh0YXJlYSB2YWx1ZSBhcyB0aGlzIGlzIG92ZXJ3cml0dGVuIHNvbWV0aW1lcyBmb3Igc29tZSByZWFzb25cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGV4dGFyZWEudmFsdWUuaW5jbHVkZXMoU0NSSVBUX01FU1NBR0Uuc2xpY2UoMSkpKVxuICAgICAgICAgICAgICAgICAgICB0ZXh0YXJlYS52YWx1ZSArPVxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dGFyZWEudmFsdWUgJiYgIXRleHRhcmVhLnZhbHVlLnN0YXJ0c1dpdGgoJy8qICcpICYmICF0ZXh0YXJlYS52YWx1ZS5lbmRzV2l0aCgnICovICcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgOyAke1NDUklQVF9NRVNTQUdFLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgU0NSSVBUX01FU1NBR0Uuc2xpY2UoMSl9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogU0NSSVBUX01FU1NBR0U7XG4gICAgICAgICAgICB9LCAwKTtcblxuICAgICAgICAgICAgc2hvdWxkQWRkU2NyaXB0TWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZXMgdGhlIGNsaWNrIGV2ZW50IGZvciB0aGUgYWN0aXZhdGlvbiBidXR0b24uXG4gICAgICAgICAqIEBwYXJhbSBldmVudCBUaGUgbW91c2UgZXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIGNsaWNrLlxuICAgICAgICAgKi9cbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQWN0aXZhdGlvbihldmVudDogTW91c2VFdmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgY29uc3QgZWRpdG9yID0gJChtdy5jb25maWcuZ2V0KCdza2luJykgPT09ICdtaW5lcnZhJyA/ICcjd2lraXRleHQtZWRpdG9yJyA6ICcjd3BUZXh0Ym94MScpO1xuICAgICAgICAgICAgaWYgKGVkaXRvci5sZW5ndGggPT09IDApIHJldHVybiBtdy5ub3RpZnkoJ0VkaXQgYm94IG5vdCBmb3VuZCEnLCB7IHR5cGU6ICdlcnJvcicsIGF1dG9IaWRlU2Vjb25kczogJ3Nob3J0JyB9KTtcblxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxUZXh0ID0gZWRpdG9yLnRleHRTZWxlY3Rpb24oJ2dldENvbnRlbnRzJyk7XG5cbiAgICAgICAgICAgIGxldCBmaW5hbFRleHQgPSBvcmlnaW5hbFRleHQ7XG5cbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBTdHJheVVuaWNvZGVDaGFyYWN0ZXJzKGZpbmFsVGV4dCk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwU2VjdGlvbkhlYWRlcnMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBNYWdpY1dvcmRzKGZpbmFsVGV4dCk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwRGlzcGxheXRpdGxlc0FuZERlZmF1bHRzb3J0cyhmaW5hbFRleHQpO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gY2xlYW51cENhdGVnb3JpZXMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBMaW5rcyhmaW5hbFRleHQsIFtjbGVhbnVwSW1wcm9wZXJDaGFyYWN0ZXJzLCBjbGVhbnVwWWVhclJhbmdlc10pO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gY2xlYW51cFN0cmF5TWFya3VwKGZpbmFsVGV4dCk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwU3BhY2luZyhmaW5hbFRleHQpO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gY2xlYW51cFJlZmVyZW5jZXMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGF3YWl0IGZvcm1hdFRlbXBsYXRlcyhmaW5hbFRleHQpO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gcmVtb3ZlQ29tbWVudHMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBTcGFjaW5nKGZpbmFsVGV4dCwgdHJ1ZSk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBhdXRvVGFnUGFnZShmaW5hbFRleHQpO1xuXG4gICAgICAgICAgICBpZiAob3JpZ2luYWxUZXh0ID09PSBmaW5hbFRleHQpIG13Lm5vdGlmeSgnTm8gY2hhbmdlcyB0byBiZSBtYWRlIHRvIHRoZSBhcnRpY2xlIScsIHsgdHlwZTogJ3dhcm4nLCBhdXRvSGlkZVNlY29uZHM6ICdzaG9ydCcgfSk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodmUuaW5pdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdXJmYWNlTW9kZWwgPSB2ZS5pbml0LnRhcmdldC5nZXRTdXJmYWNlKCkuZ2V0TW9kZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBzdXJmYWNlTW9kZWwuZ2V0TGluZWFyRnJhZ21lbnQoc3VyZmFjZU1vZGVsLmdldFJhbmdlRnJvbVNvdXJjZU9mZnNldHMoMCwgb3JpZ2luYWxUZXh0Lmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudC5pbnNlcnRDb250ZW50KGZpbmFsVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHN1cmZhY2VNb2RlbC5zZXRTZWxlY3Rpb24obmV3IHZlLmRtLkxpbmVhclNlbGVjdGlvbihuZXcgdmUuUmFuZ2UoMCwgMCkpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlZGl0b3IudGV4dFNlbGVjdGlvbignc2V0Q29udGVudHMnLCBmaW5hbFRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci50ZXh0U2VsZWN0aW9uKCdzZXRTZWxlY3Rpb24nLCB7IHN0YXJ0OiAwIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG13Lm5vdGlmeSgnQXJ0aWNsZSBjbGVhbnVwIGNvbXBsZXRlIScsIHsgdHlwZTogJ3N1Y2Nlc3MnLCBhdXRvSGlkZVNlY29uZHM6ICdzaG9ydCcgfSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzdW1tYXJ5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjd3BTdW1tYXJ5Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3VtbWFyeUlucHV0KSB1cGRhdGVTdW1tYXJ5KHN1bW1hcnlJbnB1dCk7XG4gICAgICAgICAgICAgICAgZWxzZSBzaG91bGRBZGRTY3JpcHRNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtdy5jb25maWcuZ2V0KCdza2luJykgPT09ICdtaW5lcnZhJykge1xuICAgICAgICAgICAgLy8gU2V0IHVwIGhvb2sgdG8gYWRkIGJ1dHRvbiB0byBlZGl0aW5nIHRvb2xiYXJcbiAgICAgICAgICAgIG13Lmhvb2soJ21vYmlsZUZyb250ZW5kLmVkaXRvck9wZW5lZCcpLmFkZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyU3dpdGNoZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PignLm92ZXJsYXktaGVhZGVyIC5zd2l0Y2hlci1jb250YWluZXInKSE7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0b29sID0gbmV3IE9PLnVpLkJ1dHRvbldpZGdldCh7IGljb246ICdhcnRpY2xlQ2hlY2snLCBmcmFtZWQ6IGZhbHNlIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gdG9vbC4kZWxlbWVudFswXTtcbiAgICAgICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVBY3RpdmF0aW9uKTtcblxuICAgICAgICAgICAgICAgIGhlYWRlclN3aXRjaGVyLmJlZm9yZShidXR0b24pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFNldCB1cCBob29rIGZvciB1cGRhdGluZyBlZGl0IHN1bW1hcnlcbiAgICAgICAgICAgIG13Lmhvb2soJ3dpa2lwYWdlLmNvbnRlbnQnKS5hZGQoKGNvbnRlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgaWYgdHJpZ2dlcmVkIGJ5IG1haW4gY29udGVudCBsb2FkIGluc3RlYWQgb2YgcHJldmlld1xuICAgICAgICAgICAgICAgIGlmICghY29udGVudFswXT8uY2xhc3NMaXN0LmNvbnRhaW5zKCdwcmV2aWV3JykpIHJldHVybjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktY29uZGl0aW9uXG5cbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkQWRkU2NyaXB0TWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdW1tYXJ5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcuc3VtbWFyeS1pbnB1dCB0ZXh0YXJlYScpITtcblxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVTdW1tYXJ5KHN1bW1hcnlJbnB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBTZXQgdXAgbGluayBpbiBzaWRlIG1lbnVcbiAgICAgICAgICAgIG13LnV0aWwuYWRkQ1NTKGBcbiNhcnRpY2xlLWNsZWFuZXIge1xuICAgIGRpc3BsYXk6IG5vbmU7XG59XG5cbiNjb250ZW50Omhhcygjd3BUZXh0Ym94MSkgI2FydGljbGUtY2xlYW5lciB7XG4gICAgZGlzcGxheTogdW5zZXQ7XG59YCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBtdy51dGlsLmFkZFBvcnRsZXRMaW5rKFxuICAgICAgICAgICAgICAgIG13LmNvbmZpZy5nZXQoJ3NraW4nKSA9PT0gJ21pbmVydmEnID8gJ3AtbmF2aWdhdGlvbicgOiAncC1jYWN0aW9ucycsXG4gICAgICAgICAgICAgICAgJyMnLFxuICAgICAgICAgICAgICAgICdQZXJmb3JtIGFydGljbGUgY2xlYW51cCcsXG4gICAgICAgICAgICAgICAgJ2FydGljbGUtY2xlYW5lcicsXG4gICAgICAgICAgICApITtcbiAgICAgICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVBY3RpdmF0aW9uKTtcblxuICAgICAgICAgICAgLy8gU2V0IHVwIGhvb2sgZm9yIHVwZGF0aW5nIGVkaXQgc3VtbWFyeSBpbiBWaXN1YWxFZGl0b3JcbiAgICAgICAgICAgIG13Lmhvb2soJ3ZlLnNhdmVEaWFsb2cuc3RhdGVDaGFuZ2VkJykuYWRkKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkQWRkU2NyaXB0TWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdW1tYXJ5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxUZXh0QXJlYUVsZW1lbnQ+KCcudmUtdWktbXdTYXZlRGlhbG9nLXN1bW1hcnkgdGV4dGFyZWEnKSE7XG5cbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3VtbWFyeShzdW1tYXJ5SW5wdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59KSgpO1xuXG4vKipcbiAqIEVzY2FwZXMgcmVnZXggY2hhcmFjdGVycyBpbiBhIHN0cmluZy5cbiAqIEBwYXJhbSBzdHJpbmcgVGhlIHN0cmluZyB0byBlc2NhcGUgcmVnZXggY2hhcmFjdGVycyBpbi5cbiAqL1xuZnVuY3Rpb24gZXNjYXBlUmVnZXhDaGFyYWN0ZXJzKHN0cmluZzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlQWxsKC9bJCgpKisuP1tcXFxcXFxdXnt8fV0vZywgJ1xcXFwkJicpO1xufVxuXG4vKipcbiAqIENsZWFucyB1cCBzdHJheSBVbmljb2RlIGNoYXJhY3RlcnMgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwU3RyYXlVbmljb2RlQ2hhcmFjdGVycyhjb250ZW50OiBzdHJpbmcpIHtcbiAgICAvLyBUaGlzIHJlZ2V4IHJlbW92ZXM6XG4gICAgLy8gICAtIEFTQ0lJIGNvbnRyb2wgY2hhcmFjdGVycyAoXFx1MDAwMC1cXHUwMDA5LCBcXHUwMDBCLVxcdTAwMEMsIFxcdTAwMEUtXFx1MDAxRilcbiAgICAvLyAgIC0gREVMIChcXHUwMDdGKVxuICAgIC8vICAgLSBTb2Z0IGh5cGhlbiAoXFx1MDBBRClcbiAgICAvLyAgIC0gWmVyby13aWR0aCBjaGFyYWN0ZXJzIGFuZCBkaXJlY3Rpb25hbGl0eSBtYXJrcyAoXFx1MjAwQi1cXHUyMDBGKVxuICAgIC8vICAgLSBCaWRpIG92ZXJyaWRlIGFuZCBmb3JtYXR0aW5nIGNoYXJhY3RlcnMgKFxcdTIwMkEtXFx1MjAyRSlcbiAgICAvLyAgIC0gV29yZCBqb2luZXIgYW5kIGludmlzaWJsZSBzZXBhcmF0b3IgKFxcdTIwNjAsIFxcdTIwNjMpXG4gICAgLy8gICAtIEJ5dGUgb3JkZXIgbWFyayAoQk9NKSAoXFx1RkVGRilcbiAgICBjb25zdCBTVFJBWV9VTklDT0RFX1JFR0VYID0gL1tcXHUwMDAwLVxcdTAwMDlcXHUwMDBCXFx1MDAwQ1xcdTAwMEUtXFx1MDAxRlxcdTAwN0ZcXHUwMEFEXFx1MjAwQi1cXHUyMDBGXFx1MjAyQS1cXHUyMDJFXFx1MjA2MFxcdTIwNjNcXHVGRUZGXS9nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnRyb2wtcmVnZXhcblxuICAgIGlmIChTVFJBWV9VTklDT0RFX1JFR0VYLnRlc3QoY29udGVudCkpIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoU1RSQVlfVU5JQ09ERV9SRUdFWCwgJycpO1xuXG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIHNlY3Rpb24gaGVhZGVycyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBTZWN0aW9uSGVhZGVycyhjb250ZW50OiBzdHJpbmcpIHtcbiAgICBjb25zdCBDT01NT05fUkVQTEFDRU1FTlRTID0ge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb24gKi9cbiAgICAgICAgJ1NlZSBhbHNvJzogWydhbHNvIHNlZSddLFxuICAgICAgICAnUmVmZXJlbmNlcyc6IFsncmVmZXJlbmNlJywgJ3NvdXJjZScsICdzb3VyY2VzJywgJ2NpdGF0aW9uJywgJ2NpdGF0aW9ucyddLFxuICAgICAgICAnRnVydGhlciByZWFkaW5nJzogWydmdXJ0aGVyIHJlYWRpbmcnXSxcbiAgICAgICAgJ0V4dGVybmFsIGxpbmtzJzogWydleHRlcm5hbCBsaW5rJywgJ3dlYmxpbmsnLCAnd2VibGlua3MnXSxcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb24gKi9cbiAgICB9O1xuXG4gICAgY29uc3QgQ09NTU9OX01JU0NBUElUQUxJWkVEX1dPUkRTID0gWydhbmQnLCAnYmlydGgnLCAnY2FyZWVyJywgJ2RlYXRoJywgJ2VkdWNhdGlvbicsICdsaWZlJywgJ29mJywgJ29yJ107XG5cbiAgICBjb25zdCByZXZlcnNlQ29tbW9uUmVwbGFjZW1lbnRzID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICBPYmplY3QuZW50cmllcyhDT01NT05fUkVQTEFDRU1FTlRTKS5mbGF0TWFwKChba2V5LCB2YWx1ZXNdKSA9PiBbXG4gICAgICAgICAgICBba2V5LnRvTG93ZXJDYXNlKCksIGtleV0sXG4gICAgICAgICAgICAuLi4odmFsdWVzLm1hcCgodmFsdWUpID0+IFt2YWx1ZSwga2V5XSkgYXMgW3N0cmluZywgc3RyaW5nXVtdKSwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktdHlwZS1hc3NlcnRpb25cbiAgICAgICAgXSksXG4gICAgKTtcblxuICAgIGNvbnN0IGhlYWRlcnMgPSBjb250ZW50Lm1hdGNoQWxsKC8oPzw9XnxcXG4pXFxuKig/PHN0YXJ0TWFya3VwPj0rKSAqKD88bmFtZT4uKj8pICooPzxlbmRNYXJrdXA+PSspKFxcbit8JCkvZyk7XG5cbiAgICBjb25zdCBwYXJzZWRIZWFkZXJzID0gWy4uLmhlYWRlcnNdLm1hcCgoaGVhZGVyKSA9PiB7XG4gICAgICAgIGxldCB7IG5hbWUgfSA9IGhlYWRlci5ncm91cHMhO1xuICAgICAgICBjb25zdCB7IHN0YXJ0TWFya3VwLCBlbmRNYXJrdXAgfSA9IGhlYWRlci5ncm91cHMhO1xuXG4gICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2VBbGwoLyd7M30vZywgJycpO1xuXG4gICAgICAgIGNvbnN0IGxpbmtzID0gbmFtZS5tYXRjaEFsbCgvXFxbXFxbKC4rPyldXS9nKS50b0FycmF5KCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBsaW5rIG9mIGxpbmtzKSBuYW1lID0gbmFtZS5yZXBsYWNlKGxpbmtbMF0sIGxpbmtbMV0uc3BsaXQoJ3wnKS5hdCgtMSkhKTtcblxuICAgICAgICBjb25zdCBkZXB0aCA9IE1hdGgubWF4KHN0YXJ0TWFya3VwLmxlbmd0aCwgZW5kTWFya3VwLmxlbmd0aCwgMik7XG5cbiAgICAgICAgcmV0dXJuIHsgbmFtZSwgZGVwdGgsIG9yaWdpbmFsOiBoZWFkZXJbMF0gfTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGhlYWRlcnNTZXQgPSBuZXcgU2V0KHBhcnNlZEhlYWRlcnMubWFwKChoZWFkZXIpID0+IGhlYWRlci5uYW1lKSk7XG5cbiAgICBjb25zdCB0aXRsZVNwYWNlciA9IHBhcnNlZEhlYWRlcnMubGVuZ3RoID4gMCA/ICgvXlxcbio9KyB8ID0rXFxuKyQvLnRlc3QocGFyc2VkSGVhZGVyc1swXS5vcmlnaW5hbCkgPyAnICcgOiAnJykgOiAnJztcblxuICAgIGZvciAoY29uc3QgaGVhZGVyIG9mIHBhcnNlZEhlYWRlcnMpIHtcbiAgICAgICAgY29uc3QgbG93ZXJjYXNlTmFtZSA9IGhlYWRlci5uYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgY29uc3QgcmVwbGFjZWROYW1lID1cbiAgICAgICAgICAgIGxvd2VyY2FzZU5hbWUgaW4gcmV2ZXJzZUNvbW1vblJlcGxhY2VtZW50cyAmJiAhaGVhZGVyc1NldC5oYXMocmV2ZXJzZUNvbW1vblJlcGxhY2VtZW50c1tsb3dlcmNhc2VOYW1lXSlcbiAgICAgICAgICAgICAgICA/IHJldmVyc2VDb21tb25SZXBsYWNlbWVudHNbbG93ZXJjYXNlTmFtZV1cbiAgICAgICAgICAgICAgICA6IGhlYWRlci5uYW1lO1xuXG4gICAgICAgIGxldCBjYXBpdGFsaXplZE5hbWUgPSByZXBsYWNlZE5hbWU7XG5cbiAgICAgICAgZm9yIChjb25zdCB3b3JkIG9mIENPTU1PTl9NSVNDQVBJVEFMSVpFRF9XT1JEUylcbiAgICAgICAgICAgIGNhcGl0YWxpemVkTmFtZSA9IGNhcGl0YWxpemVkTmFtZS5yZXBsYWNlQWxsKG5ldyBSZWdFeHAoYFxcXFxiJHt3b3JkfVxcXFxiYCwgJ2dpJyksIHdvcmQpO1xuXG4gICAgICAgIGNhcGl0YWxpemVkTmFtZSA9IGNhcGl0YWxpemVkTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGNhcGl0YWxpemVkTmFtZS5zbGljZSgxKTtcblxuICAgICAgICBjb25zdCBvdXRwdXQgPSBgJHsnPScucmVwZWF0KGhlYWRlci5kZXB0aCl9JHt0aXRsZVNwYWNlcn0ke2NhcGl0YWxpemVkTmFtZX0ke3RpdGxlU3BhY2VyfSR7Jz0nLnJlcGVhdChoZWFkZXIuZGVwdGgpfWA7XG5cbiAgICAgICAgaWYgKGhlYWRlci5vcmlnaW5hbCAhPT0gb3V0cHV0KSBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKGhlYWRlci5vcmlnaW5hbCwgYFxcblxcbiR7b3V0cHV0fVxcbmApO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgdW5uZWNlc3NhcnkgbWFnaWMgd29yZHMgZnJvbSBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBNYWdpY1dvcmRzKGNvbnRlbnQ6IHN0cmluZykge1xuICAgIHJldHVybiBjb250ZW50LnJlcGxhY2VBbGwoL19fKElOREVYfE5PSU5ERVh8TkVXU0VDVElPTkxJTkt8Tk9ORVdTRUNUSU9OTElOS3xOT0VESVRTRUNUSU9OfERJU0FNQklHfFNUQVRJQ1JFRElSRUNUfEZPUkNFVE9DKV9fXFxuKi9nLCAnJyk7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIERJU1BMQVlUSVRMRXMgYW5kIERFRkFVTFRTT1JUcyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBEaXNwbGF5dGl0bGVzQW5kRGVmYXVsdHNvcnRzKGNvbnRlbnQ6IHN0cmluZykge1xuICAgIGNvbnN0IHRhZ3MgPSBjb250ZW50Lm1hdGNoQWxsKC97eyhkaXNwbGF5dGl0bGV8ZGVmYXVsdHNvcnQpWzp8XSguKj8pfX0vZ2kpO1xuXG4gICAgY29uc3QgcGFyc2VkVGFncyA9IFsuLi50YWdzXS5tYXAoKHRhZykgPT4ge1xuICAgICAgICBjb25zdCBbZnVsbFRhZywgdHlwZSwgdmFsdWVdID0gdGFnO1xuXG4gICAgICAgIHJldHVybiB7IHR5cGU6IHR5cGUudG9VcHBlckNhc2UoKSwgdmFsdWUsIG9yaWdpbmFsOiBmdWxsVGFnIH07XG4gICAgfSk7XG5cbiAgICBjb25zdCBjdXJyZW50VGl0bGUgPSBtdy5UaXRsZS5uZXdGcm9tVGV4dChtdy5jb25maWcuZ2V0KCd3Z1BhZ2VOYW1lJykpITtcblxuICAgIGZvciAoY29uc3QgdGFnIG9mIHBhcnNlZFRhZ3MpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxUYWdSZWdleCA9IG5ldyBSZWdFeHAoYCR7ZXNjYXBlUmVnZXhDaGFyYWN0ZXJzKHRhZy5vcmlnaW5hbCl9XFxuKmAsICdnJyk7XG5cbiAgICAgICAgY29uc3QgdW5wcmVmaXhlZFRpdGxlID0gbXcuVGl0bGUubmV3RnJvbVRleHQodGFnLnZhbHVlKTtcblxuICAgICAgICBpZiAoIXVucHJlZml4ZWRUaXRsZSkgY29udGludWU7XG5cbiAgICAgICAgY29uc3QgdGl0bGUgPSBtdy5UaXRsZS5tYWtlVGl0bGUoY3VycmVudFRpdGxlLmdldE5hbWVzcGFjZUlkKCksIHVucHJlZml4ZWRUaXRsZS5nZXRNYWluVGV4dCgpKTtcblxuICAgICAgICBpZiAoIXRpdGxlKSBjb250aW51ZTtcblxuICAgICAgICBjb25zdCBkZWZhdWx0S2V5ID0gdGFnLnR5cGUgPT09ICdESVNQTEFZVElUTEUnID8gY3VycmVudFRpdGxlLnRvVGV4dCgpIDogY3VycmVudFRpdGxlLmdldE1haW5UZXh0KCk7XG5cbiAgICAgICAgY29uc3QgY3VzdG9tS2V5ID0gdGFnLnR5cGUgPT09ICdESVNQTEFZVElUTEUnID8gdGl0bGUudG9UZXh0KCkgOiB0aXRsZS5nZXRNYWluVGV4dCgpO1xuXG4gICAgICAgIGlmIChkZWZhdWx0S2V5ID09PSBjdXN0b21LZXkpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2Uob3JpZ2luYWxUYWdSZWdleCwgJycpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuZXdUZXh0ID0gYHt7JHt0YWcudHlwZX06JHtjdXN0b21LZXl9fX1cXG5gO1xuXG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2Uob3JpZ2luYWxUYWdSZWdleCwgbmV3VGV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIGNhdGVnb3JpZXMgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwQ2F0ZWdvcmllcyhjb250ZW50OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gY29udGVudC5yZXBsYWNlQWxsKFxuICAgICAgICAvKFxcW1xcW3x9fSk6P2NhdGVnb3J5OiguKj8pKF1dfH19KS9naSxcbiAgICAgICAgYFtbJHttdy5jb25maWcuZ2V0KCd3Z0Nhbm9uaWNhbE5hbWVzcGFjZScpID09PSAnRHJhZnQnID8gJzonIDogJyd9Q2F0ZWdvcnk6JDJdXWAsXG4gICAgKTtcbn1cblxuaW50ZXJmYWNlIExpbmtJbmZvcm1hdGlvbiB7XG4gICAgc3RhcnQ6IG51bWJlcjtcbiAgICBlbmQ6IG51bWJlcjtcbiAgICBpc05lc3RlZDogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBDbGVhbnMgdXAgbGlua3MgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICogQHBhcmFtIGZ1bmN0aW9uc0NhbGxlZFdoaWxlRXNjYXBlZCBUaGUgZnVuY3Rpb25zIGNhbGxlZCB3aGlsZSB0aGUgbGlua3MgYXJlIGVzY2FwZWQuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBMaW5rcyhjb250ZW50OiBzdHJpbmcsIGZ1bmN0aW9uc0NhbGxlZFdoaWxlRXNjYXBlZDogKChjb250ZW50OiBzdHJpbmcsIHJ1bjogMSB8IDIpID0+IHN0cmluZylbXSkge1xuICAgIGNvbnN0IGNsb3NlZExpbmtzOiBMaW5rSW5mb3JtYXRpb25bXSA9IFtdO1xuICAgIGNvbnN0IGxpbmtzOiBMaW5rSW5mb3JtYXRpb25bXSA9IFtdO1xuXG4gICAgbGV0IGlzSW5zaWRlTm93aWtpID0gZmFsc2U7XG4gICAgbGV0IGlzSW5zaWRlQ29tbWVudCA9IGZhbHNlO1xuXG4gICAgbGV0IGN1cnJlbnRMb2NhdGlvbiA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGNvbnRlbnQgZm9sbG93aW5nIHRoZSBjdXJyZW50IGxvY2F0aW9uIG1hdGNoZXMgdGhlIGRlc2lyZWQgc3RyaW5nLlxuICAgICAqIEBwYXJhbSBkZXNpcmVkU3RyaW5nIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0gc2hvdWxkSW5jcmVtZW50IFdoZXRoZXIgdG8gaW5jcmVtZW50IHRoZSBjdXJyZW50IGxvY2F0aW9uIGlmIHRoZSBzdHJpbmcgaXMgZm91bmQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBdFN0cmluZyhkZXNpcmVkU3RyaW5nOiBzdHJpbmcsIHNob3VsZEluY3JlbWVudCA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgaXNBdFN0cmluZyA9IGNvbnRlbnQuc2xpY2UoY3VycmVudExvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24gKyBkZXNpcmVkU3RyaW5nLmxlbmd0aCkgPT09IGRlc2lyZWRTdHJpbmc7XG5cbiAgICAgICAgaWYgKGlzQXRTdHJpbmcgJiYgc2hvdWxkSW5jcmVtZW50KSBjdXJyZW50TG9jYXRpb24gKz0gZGVzaXJlZFN0cmluZy5sZW5ndGg7XG5cbiAgICAgICAgcmV0dXJuIGlzQXRTdHJpbmc7XG4gICAgfVxuXG4gICAgd2hpbGUgKGN1cnJlbnRMb2NhdGlvbiA8IGNvbnRlbnQubGVuZ3RoKVxuICAgICAgICBpZiAoaXNBdFN0cmluZygnPG5vd2lraT4nKSkgaXNJbnNpZGVOb3dpa2kgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCc8L25vd2lraT4nKSkgaXNJbnNpZGVOb3dpa2kgPSBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnPCEtLScpKSBpc0luc2lkZUNvbW1lbnQgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCctLT4nKSkgaXNJbnNpZGVDb21tZW50ID0gZmFsc2U7XG4gICAgICAgIGVsc2UgaWYgKCFpc0luc2lkZU5vd2lraSAmJiAhaXNJbnNpZGVDb21tZW50KVxuICAgICAgICAgICAgaWYgKGlzQXRTdHJpbmcoJ1tbJykpIGxpbmtzLnB1c2goeyBzdGFydDogY3VycmVudExvY2F0aW9uIC0gMiwgZW5kOiAtMSwgaXNOZXN0ZWQ6IGxpbmtzLmxlbmd0aCA+IDAgfSk7XG4gICAgICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCddXScpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdExpbmsgPSBsaW5rcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWxhc3RMaW5rKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGxhc3RMaW5rLmVuZCA9IGN1cnJlbnRMb2NhdGlvbjtcblxuICAgICAgICAgICAgICAgIGNsb3NlZExpbmtzLnB1c2gobGFzdExpbmspO1xuICAgICAgICAgICAgfSBlbHNlIGN1cnJlbnRMb2NhdGlvbisrO1xuICAgICAgICBlbHNlIGN1cnJlbnRMb2NhdGlvbisrO1xuXG4gICAgY29uc3QgbmV3TGlua0NvbnRlbnQ6IFtMaW5rSW5mb3JtYXRpb24sIHN0cmluZ11bXSA9IFtdO1xuXG4gICAgY29uc3QgbmFtZXNwYWNlTmFtZXMgPSBPYmplY3QudmFsdWVzKG13LmNvbmZpZy5nZXQoJ3dnRm9ybWF0dGVkTmFtZXNwYWNlcycpKTtcblxuICAgIGZvciAoY29uc3QgbGlua0xvY2F0aW9uIG9mIGNsb3NlZExpbmtzKSB7XG4gICAgICAgIGNvbnN0IGlubmVyTGluayA9IGNvbnRlbnQuc2xpY2UobGlua0xvY2F0aW9uLnN0YXJ0ICsgMiwgbGlua0xvY2F0aW9uLmVuZCAtIDIpO1xuXG4gICAgICAgIGNvbnN0IFt1bnBhcnNlZExpbmssIC4uLnBhcmFtZXRlcnNdID0gaW5uZXJMaW5rLnNwbGl0KCd8Jyk7XG5cbiAgICAgICAgLy8gUmVwbGFjZSBsaW5rIG5hbWVzIHNvIHRoZXNlIHdvbid0IGJlIGFmZmVjdGVkIGJ5IGZ1bmN0aW9ucyBjYWxsZWQgd2hpbGUgZXNjYXBlZFxuICAgICAgICBjb250ZW50ID1cbiAgICAgICAgICAgIGNvbnRlbnQuc2xpY2UoMCwgbGlua0xvY2F0aW9uLnN0YXJ0ICsgMikgK1xuICAgICAgICAgICAgJ1xcMCcucmVwZWF0KHVucGFyc2VkTGluay5sZW5ndGgpICtcbiAgICAgICAgICAgIGNvbnRlbnQuc2xpY2UobGlua0xvY2F0aW9uLnN0YXJ0ICsgMiArIHVucGFyc2VkTGluay5sZW5ndGgpO1xuXG4gICAgICAgIGxldCBsaW5rID0gdW5wYXJzZWRMaW5rLnJlcGxhY2VBbGwoJ18nLCAnICcpLnRyaW0oKTtcbiAgICAgICAgbGV0IGFsdFRleHQgPSBwYXJhbWV0ZXJzLmpvaW4oJ3wnKTtcbiAgICAgICAgYWx0VGV4dCA9IGFsdFRleHQgPT09ICcgJyA/ICcgJyA6IGFsdFRleHQudHJpbSgpO1xuXG4gICAgICAgIGNvbnN0IGlzRmlyc3RDaGFyYWN0ZXJDb2xvbiA9IGxpbmsuc3RhcnRzV2l0aCgnOicpO1xuICAgICAgICBpZiAoaXNGaXJzdENoYXJhY3RlckNvbG9uKSBsaW5rID0gbGluay5zbGljZSgxKTtcblxuICAgICAgICBsZXQgc2hvdWxkRmlyc3RDaGFyYWN0ZXJCZUNvbG9uID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgbGlua1VwcGVyY2FzZVN0YXJ0ID0gbGluay5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGxpbmsuc2xpY2UoMSk7XG4gICAgICAgIGNvbnN0IGxpbmtMb3dlcmNhc2VTdGFydCA9IGxpbmsuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBsaW5rLnNsaWNlKDEpO1xuXG4gICAgICAgIGxldCBuYW1lc3BhY2UgPSBsaW5rLnNwbGl0KCc6JylbMF07XG4gICAgICAgIG5hbWVzcGFjZSA9IG5hbWVzcGFjZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWVzcGFjZS5zbGljZSgxKTtcblxuICAgICAgICBpZiAobGluay5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgICBpZiAobGlua1VwcGVyY2FzZVN0YXJ0LnN0YXJ0c1dpdGgoJ0ltYWdlOicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkU3RhcnRVcHBlcmNhc2UgPSBsaW5rLnN0YXJ0c1dpdGgoJ0ltYWdlOicpO1xuXG4gICAgICAgICAgICAgICAgbGluayA9IGAke3Nob3VsZFN0YXJ0VXBwZXJjYXNlID8gJ0YnIDogJ2YnfWlsZToke2xpbmsuc2xpY2UoNil9YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGlzRmlyc3RDaGFyYWN0ZXJDb2xvbiAmJlxuICAgICAgICAgICAgICAgIChbJ0ltYWdlJywgJ0ZpbGUnLCAnQ2F0ZWdvcnknXS5pbmNsdWRlcyhsaW5rVXBwZXJjYXNlU3RhcnQuc3BsaXQoJzonKVswXSkgfHwgIW5hbWVzcGFjZU5hbWVzLmluY2x1ZGVzKG5hbWVzcGFjZSkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgc2hvdWxkRmlyc3RDaGFyYWN0ZXJCZUNvbG9uID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBiZWZvcmVMaW5rVGV4dCA9ICcnO1xuICAgICAgICBsZXQgYWZ0ZXJMaW5rVGV4dCA9ICcnO1xuXG4gICAgICAgIGNvbnN0IG1hdGNoZWRNYXJrdXAgPSAvXignezIsfSkoLio/KVxcMSQvLmV4ZWMoYWx0VGV4dCk7XG5cbiAgICAgICAgaWYgKG1hdGNoZWRNYXJrdXAgJiYgIW1hdGNoZWRNYXJrdXBbMl0uaW5jbHVkZXMoXCInJ1wiKSkge1xuICAgICAgICAgICAgYmVmb3JlTGlua1RleHQgPSBtYXRjaGVkTWFya3VwWzFdO1xuICAgICAgICAgICAgYWx0VGV4dCA9IG1hdGNoZWRNYXJrdXBbMl0udHJpbSgpO1xuICAgICAgICAgICAgYWZ0ZXJMaW5rVGV4dCA9IG1hdGNoZWRNYXJrdXBbMV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoL1shLC46Oz9dJC8udGVzdChhbHRUZXh0KSAmJiAhWydJbWFnZScsICdGaWxlJywgJ0NhdGVnb3J5J10uaW5jbHVkZXMobGlua1VwcGVyY2FzZVN0YXJ0LnNwbGl0KCc6JylbMF0pKSB7XG4gICAgICAgICAgICBjb25zdCBhZGRlZFB1bmN0dWF0aW9uID0gYWx0VGV4dC5zbGljZSgtMSk7XG5cbiAgICAgICAgICAgIGlmICghbGluay5lbmRzV2l0aChhZGRlZFB1bmN0dWF0aW9uKSkge1xuICAgICAgICAgICAgICAgIGFmdGVyTGlua1RleHQgKz0gYWRkZWRQdW5jdHVhdGlvbjtcbiAgICAgICAgICAgICAgICBhbHRUZXh0ID0gYWx0VGV4dC5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGluayA9PT0gYWx0VGV4dCkgYWx0VGV4dCA9ICcnO1xuICAgICAgICBlbHNlIGlmIChuZXcgUmVnRXhwKGBeJHtlc2NhcGVSZWdleENoYXJhY3RlcnMobGluayl9W2Etel0rJGApLnRlc3QoYWx0VGV4dCkpIHtcbiAgICAgICAgICAgIGFmdGVyTGlua1RleHQgPSBhbHRUZXh0LnNsaWNlKGxpbmsubGVuZ3RoKSArIGFmdGVyTGlua1RleHQ7XG4gICAgICAgICAgICBhbHRUZXh0ID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IG5ld0xpbmsgb2YgW2xpbmtVcHBlcmNhc2VTdGFydCwgbGlua0xvd2VyY2FzZVN0YXJ0XSlcbiAgICAgICAgICAgIGlmIChuZXdMaW5rID09PSBhbHRUZXh0KSB7XG4gICAgICAgICAgICAgICAgbGluayA9IG5ld0xpbms7XG4gICAgICAgICAgICAgICAgYWx0VGV4dCA9ICcnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuZXcgUmVnRXhwKGBeJHtlc2NhcGVSZWdleENoYXJhY3RlcnMobmV3TGluayl9W2Etel0rJGApLnRlc3QoYWx0VGV4dCkpIHtcbiAgICAgICAgICAgICAgICBsaW5rID0gbmV3TGluaztcbiAgICAgICAgICAgICAgICBhZnRlckxpbmtUZXh0ID0gYWx0VGV4dC5zbGljZShuZXdMaW5rLmxlbmd0aCkgKyBhZnRlckxpbmtUZXh0O1xuICAgICAgICAgICAgICAgIGFsdFRleHQgPSAnJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAoYWx0VGV4dCAmJiBsaW5rLmluY2x1ZGVzKCc6JykgJiYgbmFtZXNwYWNlTmFtZXMuaW5jbHVkZXMobmFtZXNwYWNlKSkgfHxcbiAgICAgICAgICAgIGxpbmsuc3RhcnRzV2l0aCgnZmlsZTonKSB8fFxuICAgICAgICAgICAgbGluay5zdGFydHNXaXRoKCdjYXRlZ29yeTonKVxuICAgICAgICApXG4gICAgICAgICAgICBsaW5rID0gbGluay5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGxpbmsuc2xpY2UoMSk7XG5cbiAgICAgICAgbGluayA9IGAke3Nob3VsZEZpcnN0Q2hhcmFjdGVyQmVDb2xvbiA/ICc6JyA6ICcnfSR7bGlua31gO1xuXG4gICAgICAgIGxpbmsgPSBsaW5rLnBhZFN0YXJ0KHVucGFyc2VkTGluay5sZW5ndGgsICdcXDAnKTtcblxuICAgICAgICBjb25zdCBvdXRwdXQgPSBgJHtiZWZvcmVMaW5rVGV4dH1bWyR7bGlua30ke2FsdFRleHQgPyBgfCR7YWx0VGV4dH1gIDogJyd9XV0ke2FmdGVyTGlua1RleHR9YDtcblxuICAgICAgICBuZXdMaW5rQ29udGVudC5wdXNoKFtsaW5rTG9jYXRpb24sIG91dHB1dF0pO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgZnVuY3Rpb25Ub0NhbGwgb2YgZnVuY3Rpb25zQ2FsbGVkV2hpbGVFc2NhcGVkKSBjb250ZW50ID0gZnVuY3Rpb25Ub0NhbGwoY29udGVudCwgMSk7XG5cbiAgICBmb3IgKGxldCBsb29wQ291bnRlciA9IDA7IGxvb3BDb3VudGVyIDwgMjsgbG9vcENvdW50ZXIrKylcbiAgICAgICAgZm9yIChjb25zdCBbbGlua0RhdGEsIGxpbmtDb250ZW50XSBvZiBuZXdMaW5rQ29udGVudCkge1xuICAgICAgICAgICAgaWYgKGxvb3BDb3VudGVyID09PSAwICYmIGxpbmtEYXRhLmlzTmVzdGVkKSBjb250aW51ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGxvb3BDb3VudGVyID09PSAxICYmICFsaW5rRGF0YS5pc05lc3RlZCkgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPVxuICAgICAgICAgICAgICAgIGNvbnRlbnQuc2xpY2UoMCwgbGlua0RhdGEuc3RhcnQpICsgbGlua0NvbnRlbnQucGFkRW5kKGxpbmtEYXRhLmVuZCAtIGxpbmtEYXRhLnN0YXJ0LCAnXFwwJykgKyBjb250ZW50LnNsaWNlKGxpbmtEYXRhLmVuZCk7XG4gICAgICAgIH1cblxuICAgIGZvciAoY29uc3QgZnVuY3Rpb25Ub0NhbGwgb2YgZnVuY3Rpb25zQ2FsbGVkV2hpbGVFc2NhcGVkKSBjb250ZW50ID0gZnVuY3Rpb25Ub0NhbGwoY29udGVudCwgMik7XG5cbiAgICByZXR1cm4gY29udGVudC5yZXBsYWNlQWxsKCdcXDAnLCAnJyk7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIGltcHJvcGVyIGNoYXJhY3RlcnMgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICogQHBhcmFtIHJ1biBUaGUgcnVuIG51bWJlciBvZiB0aGUgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBJbXByb3BlckNoYXJhY3RlcnMoY29udGVudDogc3RyaW5nLCBydW46IDEgfCAyKSB7XG4gICAgY29uc3QgRUxJUFNJU19QTEFDRUhPTERFUiA9ICdcXHUwMDdGJztcbiAgICBjb25zdCBOQlNQX1BMQUNFSE9MREVSID0gJ1xcdTAwOUYnO1xuXG4gICAgaWYgKHJ1biA9PT0gMSkge1xuICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC9bXHUyMDFDXHUyMDFEXHUyMDFFXHUyMDFGXS9nLCAnXCInKTtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvW1x1MjAxOFx1MjAxOVx1MjAxQVx1MjAxQl0vZywgXCInXCIpO1xuICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKCdcdTIwMjYnLCBFTElQU0lTX1BMQUNFSE9MREVSKTtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgnXHUwMEEwJywgTkJTUF9QTEFDRUhPTERFUik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbChFTElQU0lTX1BMQUNFSE9MREVSLCAnLi4uJyk7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoTkJTUF9QTEFDRUhPTERFUiwgJyZuYnNwOycpO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIENsZWFucyB1cCB5ZWFyIHJhbmdlcyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKiBAcGFyYW0gcnVuIFRoZSBydW4gbnVtYmVyIG9mIHRoZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY2xlYW51cFllYXJSYW5nZXMoY29udGVudDogc3RyaW5nLCBydW46IDEgfCAyKSB7XG4gICAgaWYgKHJ1biA9PT0gMSlcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvKFxcKFxcZHszLDR9KSA/W1x1MjAxMlx1MjAxM1x1MjIxMi1dID8oXFxkezMsNH1cXCkpL2csIChvcmlnaW5hbCwgc3RhcnQsIGVuZCkgPT5cbiAgICAgICAgICAgIGAke3N0YXJ0fVx1MjAxMyR7ZW5kfWAucGFkRW5kKG9yaWdpbmFsLmxlbmd0aCwgJ1xcMCcpLFxuICAgICAgICApO1xuXG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBzdHJheSBtYXJrdXAgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwU3RyYXlNYXJrdXAoY29udGVudDogc3RyaW5nKSB7XG4gICAgY29uc3QgU1RSQVlfTUFSS1VQX1JFR0VYRVMgPSBbXG4gICAgICAgIC8nKyhCb2xkfEl0YWxpYykoIHRleHQpPycrICovZyxcbiAgICAgICAgLyg8YmlnPikrQmlnKCB0ZXh0KT8oPFxcL2JpZz4pKyAqL2csXG4gICAgICAgIC8oPHNtYWxsPikrU21hbGwoIHRleHQpPyg8XFwvc21hbGw+KSsgKi9nLFxuICAgICAgICAvKDxzdXA+KStTdXBlcnNjcmlwdCggdGV4dCk/KDxcXC9zdXA+KSsgKi9nLFxuICAgICAgICAvKDxzdWI+KStTdWJzY3JpcHQoIHRleHQpPyg8XFwvc3ViPikrICovZyxcbiAgICAgICAgLyg8cz4pK1N0cmlrZXRocm91Z2goPFxcL3M+KSsgKi9nLFxuICAgICAgICAvKDx1PikrVW5kZXJsaW5lKDxcXC91PikrICovZyxcbiAgICAgICAgLyg8Y29kZT4pK0NvbXB1dGVyIGNvZGUoPFxcL2NvZGU+KSsgKi9nLFxuICAgICAgICAvKDxub3dpa2k+KStJbnNlcnQgbm9uLWZvcm1hdHRlZCB0ZXh0IGhlcmUoPFxcL25vd2lraT4pKyAqL2csXG4gICAgICAgIC89KyBIZWFkaW5nIHRleHQgPSsgKi9nLFxuICAgICAgICAvXFwqIEJ1bGxldGVkIGxpc3QgaXRlbSAqL2csXG4gICAgICAgIC8jIE51bWJlcmVkIGxpc3QgaXRlbSAqL2csXG4gICAgICAgIC88Z2FsbGVyeT5cXG5FeGFtcGxlLmpwZ1xcfENhcHRpb24xXFxuRXhhbXBsZS5qcGdcXHxDYXB0aW9uMlxcbjxcXC9nYWxsZXJ5PiAqL2csXG4gICAgICAgIC8jUkVESVJFQ1QgXFxbXFxbVGFyZ2V0IHBhZ2UgbmFtZV1dICovZyxcbiAgICAgICAgLzwhLS0gSW52aXNpYmxlIGNvbW1lbnQgLS0+ICovZyxcbiAgICAgICAgLzxcXHMqKGJpZ3xzbWFsbHxzdXB8c3VifHN8dXxjb2RlfG5vd2lraXxub2luY2x1ZGV8b25seWluY2x1ZGV8aW5jbHVkZW9ubHl8Y2VudGVyfGJsb2NrcXVvdGV8Z2FsbGVyeSlcXHMqKFxccytbXjw+XSopPz5cXHMqPFxccypcXC9cXHMqXFwxXFxzKj4vZ2ksXG4gICAgXTtcblxuICAgIGZvciAoY29uc3QgcmVnZXggb2YgU1RSQVlfTUFSS1VQX1JFR0VYRVMpIHdoaWxlIChyZWdleC50ZXN0KGNvbnRlbnQpKSBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKHJlZ2V4LCAnJyk7XG5cbiAgICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBDbGVhbnMgdXAgc3BhY2luZyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKiBAcGFyYW0gc2Vjb25kUnVuIFdoZXRoZXIgdGhlIGZ1bmN0aW9uIGlzIGJlaW5nIHJ1biBmb3IgdGhlIHNlY29uZCB0aW1lLCBhZnRlciBvdGhlciBwcm9jZXNzaW5nLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwU3BhY2luZyhjb250ZW50OiBzdHJpbmcsIHNlY29uZFJ1biA9IGZhbHNlKSB7XG4gICAgY29uc3QgUExBQ0VIT0xERVIgPSAnXFx1e0YwMDAwfSc7XG5cbiAgICBjb25zdCBUQUdTX1RPX0lHTk9SRSA9IFsncG9lbScsICdwcmUnLCAncmVmZXJlbmNlcycsICd0ZW1wbGF0ZWRhdGEnXTtcblxuICAgIGNvbnN0IGlnbm9yZWRUYWdzQ29udGVudDogc3RyaW5nW10gPSBbXTtcblxuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoXG4gICAgICAgIG5ldyBSZWdFeHAoYCg8KCR7VEFHU19UT19JR05PUkUuam9pbignfCcpfSkoPzogW148Pl0qPyk/PikoLio/KSg8L1xcXFwyPilgLCAnZ3MnKSxcbiAgICAgICAgKGZ1bGxNYXRjaCwgc3RhcnRUYWc6IHN0cmluZywgdGFnTmFtZTogc3RyaW5nLCBpbm5lckNvbnRlbnQ6IHN0cmluZywgZW5kVGFnOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIGlubmVyQ29udGVudCA9IGlubmVyQ29udGVudC5yZXBsYWNlQWxsKC8gKyQvZ20sICcnKS50cmltKCk7XG5cbiAgICAgICAgICAgIGlnbm9yZWRUYWdzQ29udGVudC5wdXNoKGAke3N0YXJ0VGFnfVxcbiR7aW5uZXJDb250ZW50fVxcbiR7ZW5kVGFnfWApO1xuXG4gICAgICAgICAgICByZXR1cm4gUExBQ0VIT0xERVI7XG4gICAgICAgIH0sXG4gICAgKTtcblxuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoLyhcXGJ8XFxwe1B1bmN0dWF0aW9ufXxcXF1cXF18XFx9XFx9fFxcdz4pIHsyLH0oXFxifFxccHtQdW5jdHVhdGlvbn18XFxbXFxbfFxce1xce3w8XFx3KS9ndSwgJyQxICQyJyk7IC8vIFJlbW92ZSBleHRyYSBzcGFjZXMgYmV0d2VlbiB3b3JkcyBhbmQgc2VudGVuY2VzXG4gICAgaWYgKCFzZWNvbmRSdW4pIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoL14gK3wgKyQvZ20sICcnKTsgLy8gUmVtb3ZlIGV4dHJhIHNwYWNlcyBhdCB0aGUgc3RhcnQgb3IgZW5kIG9mIGxpbmVzXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvXFxuezMsfS9nLCAnXFxuXFxuJyk7IC8vIFJlbW92ZSBleHRyYSBuZXdsaW5lc1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoL1xccyooe3tbXn1dKnN0dWJ9fSkvaSwgJ1xcblxcbiQxJyk7IC8vIEVuc3VyZSB0aGVyZSBpcyBvbmUgYmxhbmsgbGluZSBiZWZvcmUgdGhlIGZpcnN0IHN0dWIgdGVtcGxhdGVcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC9cXHMrJC9nLCAnJyk7IC8vIFJlbW92ZSB0cmFpbGluZyBzcGFjZXNcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC9eKFsjKl0rKSAqL2dtLCAnJDEgJyk7IC8vIEVuc3VyZSB0aGVyZSBpcyBhIHNwYWNlIGFmdGVyIGEgYnVsbGV0IG9yIGhhc2ggaW4gYSBsaXN0IGl0ZW1cbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC9eKFsjKl0rIC4qKVxcbisoPz1bIypdKyApL2dtLCAnJDFcXG4nKTsgLy8gUmVtb3ZlIG5ld2xpbmVzIGJldHdlZW4gbGlzdCBpdGVtc1xuICAgIGlmICghc2Vjb25kUnVuKSBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC8oPzwhXFx8KVxccysoPz08cmVmKD8hZXJlbmNlcykpL2csICcnKTsgLy8gUmVtb3ZlIHNwYWNlcyBiZWZvcmUgcmVmZXJlbmNlc1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoLzxcXC8oW0EtWmEtel0rKSArPi9nLCAnPC8kMT4nKTsgLy8gUmVtb3ZlIGV4Y2VzcyBzcGFjZSBpbiBjbG9zaW5nIHRhZ3NcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC9eKD0rLio/PSspJFxcbnsyLH0oPz1ePSsuKj89KyQpL2dtLCAnJDFcXG4nKTsgLy8gUmVtb3ZlIGV4dHJhIG5ld2xpbmVzIGJldHdlZW4gZW1wdHkgc2VjdGlvbiBhbmQgZm9sbG93aW5nIHNlY3Rpb25cbiAgICBjb250ZW50ID0gY29udGVudC50cmltKCk7IC8vIFJlbW92ZSB3aGl0ZXNwYWNlIGF0IHRoZSBzdGFydCBvciBlbmQgb2YgdGhlIGNvbnRlbnRcblxuICAgIC8vIEFkZCBiYWNrIGlnbm9yZWQgdGFnc1xuICAgIGZvciAoY29uc3QgdGFnQ29udGVudCBvZiBpZ25vcmVkVGFnc0NvbnRlbnQpIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoUExBQ0VIT0xERVIsIHRhZ0NvbnRlbnQpO1xuXG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIHJlZmVyZW5jZXMgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwUmVmZXJlbmNlcyhjb250ZW50OiBzdHJpbmcpIHtcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKFxuICAgICAgICAvKCg/OjxyZWYoPyFlcmVuY2VzKVteL10qPz4uKj88XFwvcmVmPnw8cmVmKD8hZXJlbmNlcykuKj9cXC8+KSspKFshLC47P10pPy9nLFxuICAgICAgICAoZnVsbE1hdGNoLCByZWZlcmVuY2VUYWc6IHN0cmluZywgcHVuY3R1YXRpb246IHN0cmluZyB8IHVuZGVmaW5lZCkgPT4gKHB1bmN0dWF0aW9uID8/ICcnKSArIHJlZmVyZW5jZVRhZyxcbiAgICApOyAvLyBGaXggcHVuY3R1YXRpb24gZm9sbG93aW5nIHJlZmVyZW5jZXNcblxuICAgIGNvbnN0IHJlZmVyZW5jZXM6IHsgc3RhcnQ6IG51bWJlcjsgZW5kOiBudW1iZXI7IGlzU2VsZkNsb3Npbmc/OiB0cnVlIH1bXSA9IFtdO1xuXG4gICAgbGV0IGlzSW5zaWRlTm93aWtpID0gZmFsc2U7XG4gICAgbGV0IGlzSW5zaWRlQ29tbWVudCA9IGZhbHNlO1xuXG4gICAgbGV0IGN1cnJlbnRMb2NhdGlvbiA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGNvbnRlbnQgZm9sbG93aW5nIHRoZSBjdXJyZW50IGxvY2F0aW9uIG1hdGNoZXMgdGhlIGRlc2lyZWQgc3RyaW5nLlxuICAgICAqIEBwYXJhbSBkZXNpcmVkU3RyaW5nIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0F0U3RyaW5nKGRlc2lyZWRTdHJpbmc6IHN0cmluZykge1xuICAgICAgICBjb25zdCBpc0F0U3RyaW5nID0gY29udGVudC5zbGljZShjdXJyZW50TG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbiArIGRlc2lyZWRTdHJpbmcubGVuZ3RoKSA9PT0gZGVzaXJlZFN0cmluZztcblxuICAgICAgICBpZiAoaXNBdFN0cmluZykgY3VycmVudExvY2F0aW9uICs9IGRlc2lyZWRTdHJpbmcubGVuZ3RoO1xuXG4gICAgICAgIHJldHVybiBpc0F0U3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2NlZWRzIHRocm91Z2ggdGhlIGNvbnRlbnQgdW50aWwgdGhlIGRlc2lyZWQgc3RyaW5nIGlzIGZvdW5kLlxuICAgICAqIEBwYXJhbSBkZXNpcmVkU3RyaW5nIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9jZWVkVW50aWxTdHJpbmcoZGVzaXJlZFN0cmluZzogc3RyaW5nKSB7XG4gICAgICAgIHdoaWxlIChjdXJyZW50TG9jYXRpb24gPCBjb250ZW50Lmxlbmd0aCAmJiAhaXNBdFN0cmluZyhkZXNpcmVkU3RyaW5nKSkgY3VycmVudExvY2F0aW9uKys7XG4gICAgfVxuXG4gICAgd2hpbGUgKGN1cnJlbnRMb2NhdGlvbiA8IGNvbnRlbnQubGVuZ3RoKVxuICAgICAgICBpZiAoaXNBdFN0cmluZygnPG5vd2lraT4nKSkgaXNJbnNpZGVOb3dpa2kgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCc8L25vd2lraT4nKSkgaXNJbnNpZGVOb3dpa2kgPSBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnPCEtLScpKSBpc0luc2lkZUNvbW1lbnQgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCctLT4nKSkgaXNJbnNpZGVDb21tZW50ID0gZmFsc2U7XG4gICAgICAgIGVsc2UgaWYgKCFpc0luc2lkZU5vd2lraSAmJiAhaXNJbnNpZGVDb21tZW50KVxuICAgICAgICAgICAgaWYgKCFpc0F0U3RyaW5nKCc8cmVmZXJlbmNlcycpICYmIGlzQXRTdHJpbmcoJzxyZWYnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gY3VycmVudExvY2F0aW9uIC0gNDtcblxuICAgICAgICAgICAgICAgIHByb2NlZWRVbnRpbFN0cmluZygnPicpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgaXNTZWxmQ2xvc2luZyA9IGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgLnNsaWNlKHN0YXJ0LCBjdXJyZW50TG9jYXRpb24gLSAxKVxuICAgICAgICAgICAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgICAgICAgICAgIC5lbmRzV2l0aCgnLycpO1xuXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlcy5wdXNoKGlzU2VsZkNsb3NpbmcgPyB7IHN0YXJ0LCBlbmQ6IGN1cnJlbnRMb2NhdGlvbiwgaXNTZWxmQ2xvc2luZyB9IDogeyBzdGFydCwgZW5kOiAtMSB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBdFN0cmluZygnPC9yZWY+JykpIHJlZmVyZW5jZXMuYXQoLTEpIS5lbmQgPSBjdXJyZW50TG9jYXRpb247XG4gICAgICAgICAgICBlbHNlIGN1cnJlbnRMb2NhdGlvbisrO1xuICAgICAgICBlbHNlIGN1cnJlbnRMb2NhdGlvbisrO1xuXG4gICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuXG4gICAgY29uc3QgcmVwbGFjZW1lbnRzOiBbc3RyaW5nLCBzdHJpbmddW10gPSBbXTtcblxuICAgIGZvciAoY29uc3QgcmVmZXJlbmNlIG9mIHJlZmVyZW5jZXMpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxUZXh0ID0gY29udGVudC5zbGljZShyZWZlcmVuY2Uuc3RhcnQsIHJlZmVyZW5jZS5lbmQpO1xuXG4gICAgICAgIGNvbnN0IHN0YXJ0VGFnID0gLzxyZWYoPyFlcmVuY2VzKS4qPz4vaXMuZXhlYyhvcmlnaW5hbFRleHQpIVswXTtcblxuICAgICAgICBjb25zdCBwYXJzZWRUYWcgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKFxuICAgICAgICAgICAgcmVmZXJlbmNlLmlzU2VsZkNsb3NpbmcgPyBzdGFydFRhZy5yZXBsYWNlKC8gKlxcLyAqPi8sICcgLz4nKSA6IHN0YXJ0VGFnICsgJzwvcmVmPicsXG4gICAgICAgICAgICAndGV4dC9odG1sJyxcbiAgICAgICAgKS5ib2R5LmZpcnN0Q2hpbGQgYXMgSFRNTFVua25vd25FbGVtZW50O1xuXG4gICAgICAgIGxldCBvdXRwdXQgPSBwYXJzZWRUYWcub3V0ZXJIVE1MLnJlcGxhY2VBbGwoJyZhbXA7JywgJyYnKTtcblxuICAgICAgICBjb25zdCB0YWdDb250ZW50ID0gb3JpZ2luYWxUZXh0XG4gICAgICAgICAgICAuc2xpY2Uoc3RhcnRUYWcubGVuZ3RoLCAtNilcbiAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgIC5yZXBsYWNlQWxsKC9eXFxbICooW14gXFxdXSopICpdJC9nbSwgJyQxJylcbiAgICAgICAgICAgIC50cmltKCk7XG5cbiAgICAgICAgb3V0cHV0ID1cbiAgICAgICAgICAgIHJlZmVyZW5jZS5pc1NlbGZDbG9zaW5nIHx8IHRhZ0NvbnRlbnQubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgPyBvdXRwdXQucmVwbGFjZSgvPlxccyo8XFwvcmVmPi8sICcgLz4nKVxuICAgICAgICAgICAgICAgIDogYCR7b3V0cHV0LnNsaWNlKDAsIC02KX0ke3RhZ0NvbnRlbnR9PC9yZWY+YDtcblxuICAgICAgICBpZiAob3JpZ2luYWxUZXh0ICE9PSBvdXRwdXQpIHJlcGxhY2VtZW50cy5wdXNoKFtvcmlnaW5hbFRleHQsIG91dHB1dF0pO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgW29yaWdpbmFsVGV4dCwgb3V0cHV0XSBvZiByZXBsYWNlbWVudHMpIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2Uob3JpZ2luYWxUZXh0LCBvdXRwdXQpO1xuXG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbmludGVyZmFjZSBUZW1wbGF0ZVJlZGlyZWN0IHtcbiAgICBmcm9tOiBzdHJpbmdbXTtcbiAgICB0bzogc3RyaW5nO1xufVxuXG5sZXQgdGVtcGxhdGVBbGlhc2VzOiBUZW1wbGF0ZVJlZGlyZWN0W10gfCB1bmRlZmluZWQ7XG5cbi8qKlxuICogRm9ybWF0cyB0ZW1wbGF0ZSBzcGFjaW5nIGluIGFuIGFydGljbGUncyBjb250ZW50LlxuICogQHBhcmFtIGNvbnRlbnQgVGhlIGFydGljbGUgY29udGVudCB0byBmb3JtYXQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZvcm1hdFRlbXBsYXRlcyhjb250ZW50OiBzdHJpbmcpIHtcbiAgICBlbnVtIEZvcm1hdFN0eWxlIHtcbiAgICAgICAgRXhwYW5kZWQsXG4gICAgICAgIEV4cGFuZGVkQWxpZ25lZCxcbiAgICAgICAgTWluaW1pemVkLFxuICAgICAgICBNaW5pbWl6ZWRTcGFjZWQsXG4gICAgfVxuXG4gICAgZW51bSBOYW1lc3BhY2Uge1xuICAgICAgICBVc2VyID0gMixcbiAgICAgICAgVGVtcGxhdGUgPSAxMCxcbiAgICAgICAgRHJhZnQgPSAxMTgsXG4gICAgfVxuXG4gICAgdGVtcGxhdGVBbGlhc2VzID8/PSBKU09OLnBhcnNlKChhd2FpdCBnZXRQYWdlQ29udGVudCgnVXNlcjpFZWppdDQzL3NjcmlwdHMvYXJ0aWNsZS1jbGVhbmVyLmpzb24nKSkgPz8gJ1tdJykgYXMgVGVtcGxhdGVSZWRpcmVjdFtdO1xuXG4gICAgY29uc3QgbWFwcGVkVGVtcGxhdGVBbGlhc2VzID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICB0ZW1wbGF0ZUFsaWFzZXMuZmxhdE1hcCgoYWxpYXMpID0+IGFsaWFzLmZyb20ubWFwKChmcm9tKSA9PiBbZnJvbS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIGZyb20uc2xpY2UoMSksIGFsaWFzLnRvXSkpLFxuICAgICk7XG5cbiAgICBjbGFzcyBUZW1wbGF0ZSB7XG4gICAgICAgIHB1YmxpYyBsb2NhdGlvbjogeyBzdGFydDogbnVtYmVyOyBlbmQ/OiBudW1iZXIgfTtcbiAgICAgICAgcHVibGljIGlzTmVzdGVkID0gZmFsc2U7XG5cbiAgICAgICAgcHVibGljIGZ1bGxUZXh0Pzogc3RyaW5nO1xuICAgICAgICBwcml2YXRlIGZ1bGxUZXh0RXNjYXBlZD86IHN0cmluZztcbiAgICAgICAgcHJpdmF0ZSByYXdOYW1lPzogc3RyaW5nO1xuICAgICAgICBwcml2YXRlIG5hbWU/OiBzdHJpbmc7XG4gICAgICAgIHByaXZhdGUgcGFyYW1ldGVyczogeyBrZXk6IHN0cmluZyB8IG51bGw7IHZhbHVlOiBzdHJpbmcgfVtdID0gW107XG4gICAgICAgIHB1YmxpYyBzdWJUZW1wbGF0ZXM6IFRlbXBsYXRlW10gPSBbXTtcblxuICAgICAgICBwcml2YXRlIFBMQUNFSE9MREVSX1NUUklOR1MgPSBbJ1xcdXtGMDAwMH0nLCAnXFx1ezEwRkZGRn0nLCAnXFx1e0ZGRkZFfSddO1xuXG4gICAgICAgIHByaXZhdGUgUElQRV9FU0NBUEVfUkVHRVhFUyA9IFsvKFxcW1xcW1teXFxdXSo/KVxcfCguKj9dXSkvZywgLyg8IS0tLio/KVxcfCguKj8tLT4pL2csIC8oPG5vd2lraT4uKj8pXFx8KC4qPzxcXC9ub3dpa2k+KS9nXTtcblxuICAgICAgICBwcml2YXRlIFRBR19FUVVBTFNfRVNDQVBFX1JFR0VYRVMgPSBbLzwoXFx3KykoIFtePD5dKz8pKD88IVxcLyk+Lio/PFxcL1xcMT4vZywgLzwoXFx3KykoIFtePD5dKz8pXFwvPi9nXTtcblxuICAgICAgICBwcml2YXRlIFRFTVBMQVRFX0FMSUFTRVMgPSBtYXBwZWRUZW1wbGF0ZUFsaWFzZXM7XG5cbiAgICAgICAgcHJpdmF0ZSBERUZBVUxUX1RFTVBMQVRFX1NUWUxFUyA9IHtcbiAgICAgICAgICAgIFtGb3JtYXRTdHlsZS5FeHBhbmRlZEFsaWduZWRdOiBbXG4gICAgICAgICAgICAgICAgJ2FsYnVtIHJhdGluZycsXG4gICAgICAgICAgICAgICAgJ2FsYnVtIHJldmlld3MnLFxuICAgICAgICAgICAgICAgICdhbWVyaWNhbiBmb290YmFsbCB1bmlmb3JtJyxcbiAgICAgICAgICAgICAgICAnYXVzdHJhbGlhbiBydWxlcyBmb290YmFsbCBraXQnLFxuICAgICAgICAgICAgICAgICdhdXRvbWF0aWMgdGF4b2JveCcsXG4gICAgICAgICAgICAgICAgJ2Jhc2ViYWxsIHVuaWZvcm0nLFxuICAgICAgICAgICAgICAgICdiYXNrZXRiYWxsIGtpdCcsXG4gICAgICAgICAgICAgICAgJ2JlYWNoaGFuZGJhbGwga2l0JyxcbiAgICAgICAgICAgICAgICAnYmxvY2txdW90ZScsXG4gICAgICAgICAgICAgICAgJ2NoZW1ib3gnLFxuICAgICAgICAgICAgICAgICdjcmlja2V0IHVuaWZvcm0nLFxuICAgICAgICAgICAgICAgICdlbGVjdGlvbiBib3gnLFxuICAgICAgICAgICAgICAgICdlcGlzb2RlIGxpc3QnLFxuICAgICAgICAgICAgICAgICdleHRlcm5hbCBtdXNpYyB2aWRlbycsXG4gICAgICAgICAgICAgICAgJ2V4dHJhIGFsYnVtIGNvdmVyJyxcbiAgICAgICAgICAgICAgICAnZmllbGQgaG9ja2V5IGtpdCcsXG4gICAgICAgICAgICAgICAgJ2Zvb3RiYWxsIGJveCcsXG4gICAgICAgICAgICAgICAgJ2Zvb3RiYWxsIGtpdCcsXG4gICAgICAgICAgICAgICAgJ2Zvb3RiYWxsYm94JyxcbiAgICAgICAgICAgICAgICAnZ2FsbGVyeScsXG4gICAgICAgICAgICAgICAgJ2hhbmRiYWxsIGtpdCcsXG4gICAgICAgICAgICAgICAgJ2h5YnJpZGJveCcsXG4gICAgICAgICAgICAgICAgJ2ljZWhvY2tleSBraXQnLFxuICAgICAgICAgICAgICAgICdpY2hub2JveCcsXG4gICAgICAgICAgICAgICAgJ2luZm9ib3gnLFxuICAgICAgICAgICAgICAgICdpbmZyYXNwZWNpZXNib3gnLFxuICAgICAgICAgICAgICAgICdqdWRvIGJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICdqdWRvIHJlcGVjaGFnZScsXG4gICAgICAgICAgICAgICAgJ2xpc3RlbicsXG4gICAgICAgICAgICAgICAgJ2xvY2F0aW9uIG1hcCcsXG4gICAgICAgICAgICAgICAgJ21lZGljYWwgcmVzb3VyY2VzJyxcbiAgICAgICAgICAgICAgICAnbW90b3JzcG9ydCBzZWFzb24nLFxuICAgICAgICAgICAgICAgICdtdWx0aXBsZSBpbWFnZScsXG4gICAgICAgICAgICAgICAgJ211c2ljIHJhdGluZ3MnLFxuICAgICAgICAgICAgICAgICdteWNvbW9ycGhib3gnLFxuICAgICAgICAgICAgICAgICduYXZib3gnLFxuICAgICAgICAgICAgICAgICdvb2JveCcsXG4gICAgICAgICAgICAgICAgJ29yYml0Ym94JyxcbiAgICAgICAgICAgICAgICAnb3NtIGxvY2F0aW9uIG1hcCcsXG4gICAgICAgICAgICAgICAgJ3F1b3RlIGJveCcsXG4gICAgICAgICAgICAgICAgJ3JlcGVjaGFnZScsXG4gICAgICAgICAgICAgICAgJ3J1Z2J5Ym94JyxcbiAgICAgICAgICAgICAgICAnc2lkZWJhcicsXG4gICAgICAgICAgICAgICAgJ3NpbmdsZSByYXRpbmdzJyxcbiAgICAgICAgICAgICAgICAnc2luZ2xlcycsXG4gICAgICAgICAgICAgICAgJ3NvbmcgcmF0aW5ncycsXG4gICAgICAgICAgICAgICAgJ3NwZWNpZXNib3gnLFxuICAgICAgICAgICAgICAgICdzdGFyYm94JyxcbiAgICAgICAgICAgICAgICAnc3VjY2Vzc2lvbiBib3gnLFxuICAgICAgICAgICAgICAgICd0YXhvYm94JyxcbiAgICAgICAgICAgICAgICAndGVhbSBicmFja2V0JyxcbiAgICAgICAgICAgICAgICAndHJhY2sgbGlzdGluZycsXG4gICAgICAgICAgICAgICAgJ3R3ZWV0JyxcbiAgICAgICAgICAgICAgICAndmlydXNib3gnLFxuICAgICAgICAgICAgICAgICd2b2xsZXliYWxsIGtpdCcsXG5cbiAgICAgICAgICAgICAgICAvLyBOdW1iZXJlZCBicmFja2V0c1xuICAgICAgICAgICAgICAgICdudGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICcybnRlYW0tbnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnM3RlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnM3RlYW1ycicsXG4gICAgICAgICAgICAgICAgJzR0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzR0ZWFtcnInLFxuICAgICAgICAgICAgICAgICc1dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICc1dGVhbXJyJyxcbiAgICAgICAgICAgICAgICAnNnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnNnRlYW1ycicsXG4gICAgICAgICAgICAgICAgJzd0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzd0ZWFtcnInLFxuICAgICAgICAgICAgICAgICc4dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICc4dGVhbXJvdW5kcm9iaW4nLFxuICAgICAgICAgICAgICAgICc4dGVhbXJyJyxcbiAgICAgICAgICAgICAgICAnOXRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMTB0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzExdGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICcxMnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMTN0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzE0dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICcxNXRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMTZ0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzE4dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICcyMHRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMjR0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzI3dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICczMnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnNDB0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzQ4dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICc2NHRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMTI4dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtGb3JtYXRTdHlsZS5NaW5pbWl6ZWRdOiBbJ2JpcnRoIGRhdGUnLCAnY29vcmQnLCAnZGVhdGggZGF0ZScsICdlbmQgZGF0ZScsICdsYW5nJywgJ3N0YXJ0IGRhdGUnXSxcbiAgICAgICAgICAgIFtGb3JtYXRTdHlsZS5NaW5pbWl6ZWRTcGFjZWRdOiBbJ2luZm9ib3ggbWFwZnJhbWUnXSxcbiAgICAgICAgfTtcblxuICAgICAgICBwcml2YXRlIE5BTUVTUEFDRV9TUEVDSUZJQ19URU1QTEFURVMgPSB7XG4gICAgICAgICAgICBbTmFtZXNwYWNlLkRyYWZ0XTogW1xuICAgICAgICAgICAgICAgICdhZmMgY29tbWVudCcsXG4gICAgICAgICAgICAgICAgJ2FmYyBzdWJtaXNzaW9uJyxcbiAgICAgICAgICAgICAgICAnYWZjIHN1Ym1pc3Npb24vZHJhZnQnLFxuICAgICAgICAgICAgICAgICdhZmMgdG9waWMnLFxuICAgICAgICAgICAgICAgICdkcmFmdCBhcnRpY2xlJyxcbiAgICAgICAgICAgICAgICAnZHJhZnQgY2F0ZWdvcmllcycsXG4gICAgICAgICAgICAgICAgJ2RyYWZ0IHRvcGljcycsXG4gICAgICAgICAgICAgICAgJ2RyYWZ0JyxcbiAgICAgICAgICAgICAgICAnZHJhZnRzIG1vdmVkIGZyb20gbWFpbnNwYWNlJyxcbiAgICAgICAgICAgICAgICAncHJlbG9hZGRyYWZ0IHN1Ym1pdCcsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW05hbWVzcGFjZS5Vc2VyXTogWydkYXNoYm9hcmQud2lraWVkdS5vcmcgc2FuZGJveCcsICd1c2VyIHNhbmRib3gnLCAndXNlcnNwYWNlIGRyYWZ0J10sXG4gICAgICAgIH07XG5cbiAgICAgICAgcHJpdmF0ZSBURU1QTEFURVNfVE9fS0VFUF9DT05URU5UID0gWydkcmFmdCBjYXRlZ29yaWVzJ107XG5cbiAgICAgICAgcHJpdmF0ZSBURU1QTEFURVNfVE9fU1VCU1QgPSBbXG4gICAgICAgICAgICAvLyBNYWdpYyB3b3Jkc1xuICAgICAgICAgICAgJ2FydGljbGVwYWdlbmFtZScsXG4gICAgICAgICAgICAnYXJ0aWNsZXNwYWNlJyxcbiAgICAgICAgICAgICdiYXNlcGFnZW5hbWUnLFxuICAgICAgICAgICAgJ2Z1bGxwYWdlbmFtZScsXG4gICAgICAgICAgICAnbmFtZXNwYWNlJyxcbiAgICAgICAgICAgICduYW1lc3BhY2VudW1iZXInLFxuICAgICAgICAgICAgJ3BhZ2VuYW1lJyxcbiAgICAgICAgICAgICdyb290cGFnZW5hbWUnLFxuICAgICAgICAgICAgJ3N1YmplY3RwYWdlbmFtZScsXG4gICAgICAgICAgICAnc3ViamVjdHNwYWNlJyxcbiAgICAgICAgICAgICdzdWJwYWdlbmFtZScsXG4gICAgICAgICAgICAndGFsa3BhZ2VuYW1lJyxcbiAgICAgICAgICAgICd0YWxrc3BhY2UnLFxuXG4gICAgICAgICAgICAvLyBUZW1wbGF0ZXNcbiAgICAgICAgICAgICdwYWdlbmFtZWJhc2UnLFxuICAgICAgICBdO1xuXG4gICAgICAgIHByaXZhdGUgSU1BR0VfUEFSQU1FVEVSUyA9IG5ldyBTZXQoWydjb3ZlcicsICdpbWFnZV9mbGFnJywgJ2ltYWdlX3NlYWwnLCAnaW1hZ2Vfc2t5bGluZScsICdpbWFnZScsICdsb2dvJywgJ21hcF9pbWFnZSddKTtcblxuICAgICAgICBwcml2YXRlIElHTk9SRURfSU1BR0VfU1lOVEFYID0gbmV3IFNldChbXG4gICAgICAgICAgICAvLyBUeXBlXG4gICAgICAgICAgICAndGh1bWInLFxuICAgICAgICAgICAgJ3RodW1ibmFpbCcsXG4gICAgICAgICAgICAnZnJhbWUnLFxuICAgICAgICAgICAgJ2ZyYW1lZCcsXG4gICAgICAgICAgICAnZnJhbWVsZXNzJyxcbiAgICAgICAgICAgIC8vIEJvcmRlclxuICAgICAgICAgICAgJ2JvcmRlcicsXG4gICAgICAgICAgICAncmlnaHQnLFxuICAgICAgICAgICAgJ2xlZnQnLFxuICAgICAgICAgICAgJ2NlbnRlcicsXG4gICAgICAgICAgICAnbm9uZScsXG4gICAgICAgICAgICAvLyBBbGlnbm1lbnRcbiAgICAgICAgICAgICdiYXNlbGluZScsXG4gICAgICAgICAgICAnbWlkZGxlJyxcbiAgICAgICAgICAgICdzdWInLFxuICAgICAgICAgICAgJ3N1cGVyJyxcbiAgICAgICAgICAgICd0ZXh0LXRvcCcsXG4gICAgICAgICAgICAndGV4dC1ib3R0b20nLFxuICAgICAgICAgICAgJ3RvcCcsXG4gICAgICAgICAgICAnYm90dG9tJyxcbiAgICAgICAgXSk7XG5cbiAgICAgICAgY29uc3RydWN0b3Ioc3RhcnRMb2NhdGlvbjogbnVtYmVyKSB7XG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9uID0geyBzdGFydDogc3RhcnRMb2NhdGlvbiB9O1xuXG4gICAgICAgICAgICBmb3IgKGxldCBudW1iZXIgPSAxOyBudW1iZXIgPD0gMTA7IG51bWJlcisrKSB0aGlzLklNQUdFX1BBUkFNRVRFUlMuYWRkKGBpbWFnZSR7bnVtYmVyfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHBhcnNlKCkge1xuICAgICAgICAgICAgdGhpcy5mdWxsVGV4dCA9IGNvbnRlbnQuc2xpY2UodGhpcy5sb2NhdGlvbi5zdGFydCwgdGhpcy5sb2NhdGlvbi5lbmQpO1xuICAgICAgICAgICAgdGhpcy5mdWxsVGV4dEVzY2FwZWQgPSB0aGlzLmZ1bGxUZXh0O1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN1YlRlbXBsYXRlIG9mIHRoaXMuc3ViVGVtcGxhdGVzKSB7XG4gICAgICAgICAgICAgICAgc3ViVGVtcGxhdGUucGFyc2UoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZnVsbFRleHRFc2NhcGVkID0gdGhpcy5mdWxsVGV4dEVzY2FwZWQucmVwbGFjZShzdWJUZW1wbGF0ZS5mdWxsVGV4dCEsIHRoaXMuUExBQ0VIT0xERVJfU1RSSU5HU1swXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB0cmltbWVkSW5uZXJUZXh0ID0gdGhpcy5mdWxsVGV4dEVzY2FwZWQuc2xpY2UoMiwgLTIpLnRyaW0oKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBwaXBlRXNjYXBlUmVnZXggb2YgdGhpcy5QSVBFX0VTQ0FQRV9SRUdFWEVTKVxuICAgICAgICAgICAgICAgIHdoaWxlIChwaXBlRXNjYXBlUmVnZXgudGVzdCh0cmltbWVkSW5uZXJUZXh0KSlcbiAgICAgICAgICAgICAgICAgICAgdHJpbW1lZElubmVyVGV4dCA9IHRyaW1tZWRJbm5lclRleHQucmVwbGFjZUFsbChwaXBlRXNjYXBlUmVnZXgsIGAkMSR7dGhpcy5QTEFDRUhPTERFUl9TVFJJTkdTWzFdfSQyYCk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVnZXggb2YgdGhpcy5UQUdfRVFVQUxTX0VTQ0FQRV9SRUdFWEVTKVxuICAgICAgICAgICAgICAgIHRyaW1tZWRJbm5lclRleHQgPSB0cmltbWVkSW5uZXJUZXh0LnJlcGxhY2VBbGwocmVnZXgsIChmdWxsVGV4dCwgdGFnTmFtZTogc3RyaW5nLCBhdHRyaWJ1dGVzOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bGxUZXh0LnJlcGxhY2UoYXR0cmlidXRlcywgYXR0cmlidXRlcy5yZXBsYWNlQWxsKCc9JywgdGhpcy5QTEFDRUhPTERFUl9TVFJJTkdTWzJdKSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhcmFtZXRlcnMgPSB0cmltbWVkSW5uZXJUZXh0XG4gICAgICAgICAgICAgICAgLnNwbGl0KCd8JylcbiAgICAgICAgICAgICAgICAubWFwKChwYXJhbWV0ZXIpID0+IHBhcmFtZXRlci5yZXBsYWNlQWxsKHRoaXMuUExBQ0VIT0xERVJfU1RSSU5HU1sxXSwgJ3wnKS50cmltKCkpO1xuXG4gICAgICAgICAgICB0aGlzLnJhd05hbWUgPSBwYXJhbWV0ZXJzLnNoaWZ0KCkhO1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5yYXdOYW1lLnJlcGxhY2VBbGwoJ18nLCAnICcpO1xuXG4gICAgICAgICAgICAvLyBTdHJpcCBuYW1lc3BhY2UgcHJlZml4IGZyb20gbmFtZVxuICAgICAgICAgICAgaWYgKHRoaXMubmFtZS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJ3RlbXBsYXRlOicpKSB0aGlzLm5hbWUgPSB0aGlzLm5hbWUuc2xpY2UoOSk7XG5cbiAgICAgICAgICAgIGNvbnN0IG5hbWVMb3dlcmNhc2VGaXJzdCA9IHRoaXMubmFtZS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHRoaXMubmFtZS5zbGljZSgxKTtcblxuICAgICAgICAgICAgLy8gUmVzb2x2ZSB0ZW1wbGF0ZSBhbGlhcyBpbiBuYW1lXG4gICAgICAgICAgICBpZiAobmFtZUxvd2VyY2FzZUZpcnN0IGluIHRoaXMuVEVNUExBVEVfQUxJQVNFUykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzU3RhcnRMb3dlciA9IHRoaXMubmFtZS5zdGFydHNXaXRoKHRoaXMubmFtZS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBmaW5hbE5hbWUgPSB0aGlzLlRFTVBMQVRFX0FMSUFTRVNbbmFtZUxvd2VyY2FzZUZpcnN0XTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG11c3RTdGFydEJlVXBwZXJjYXNlID1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxOYW1lLnN0YXJ0c1dpdGgoZmluYWxOYW1lLnNsaWNlKDAsIDIpLnRvVXBwZXJDYXNlKCkpICYmIC9eW0EtWl0rJC8uZXhlYyhmaW5hbE5hbWUuc2xpY2UoMCwgMikpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5uYW1lID0gaXNTdGFydExvd2VyICYmICFtdXN0U3RhcnRCZVVwcGVyY2FzZSA/IGZpbmFsTmFtZS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIGZpbmFsTmFtZS5zbGljZSgxKSA6IGZpbmFsTmFtZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc3BsaXRQYXJhbWV0ZXJzID0gcGFyYW1ldGVycy5tYXAoKHBhcmFtZXRlcnMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcXVhbHNMb2NhdGlvbiA9IHBhcmFtZXRlcnMuaW5kZXhPZignPScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVxdWFsc0xvY2F0aW9uID09PSAtMSkgcmV0dXJuIHsga2V5OiBudWxsLCB2YWx1ZTogcGFyYW1ldGVycy5yZXBsYWNlQWxsKHRoaXMuUExBQ0VIT0xERVJfU1RSSU5HU1syXSwgJz0nKS50cmltKCkgfTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFyYW1ldGVycy5zbGljZShlcXVhbHNMb2NhdGlvbiArIDEpLnJlcGxhY2VBbGwodGhpcy5QTEFDRUhPTERFUl9TVFJJTkdTWzJdLCAnPScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBwYXJhbWV0ZXJzLnNsaWNlKDAsIGVxdWFsc0xvY2F0aW9uKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBgJHt2YWx1ZS5zdGFydHNXaXRoKCdcXG4nKSA/ICdcXG4nIDogJyd9JHt2YWx1ZS50cmltKCl9YCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHNwbGl0UGFyYW1ldGVycztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc2hvdWxkQmVSZW1vdmVkKCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBbbmFtZXNwYWNlLCB0ZW1wbGF0ZXNdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuTkFNRVNQQUNFX1NQRUNJRklDX1RFTVBMQVRFUykpIHtcbiAgICAgICAgICAgICAgICBpZiAobXcuY29uZmlnLmdldCgnd2dOYW1lc3BhY2VOdW1iZXInKSA9PT0gTnVtYmVyLnBhcnNlSW50KG5hbWVzcGFjZSkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRlbXBsYXRlcy5pbmNsdWRlcyh0aGlzLm5hbWUhLnRvTG93ZXJDYXNlKCkpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBnZXRTdHlsZSgpIHtcbiAgICAgICAgICAgIGxldCBtb3N0U3BlY2lmaWNEZWZhdWx0U3R5bGVQcmVmaXhMZW5ndGggPSAwO1xuICAgICAgICAgICAgbGV0IG1vc3RTcGVjaWZpY0RlZmF1bHRTdHlsZUZvcm1hdFN0eWxlOiBGb3JtYXRTdHlsZSB8IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBbZm9ybWF0U3R5bGUsIHRlbXBsYXRlUHJlZml4ZXNdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuREVGQVVMVF9URU1QTEFURV9TVFlMRVMpKVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGVtcGxhdGVQcmVmaXggb2YgdGVtcGxhdGVQcmVmaXhlcylcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lIS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgodGVtcGxhdGVQcmVmaXgpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVByZWZpeC5sZW5ndGggPj0gbW9zdFNwZWNpZmljRGVmYXVsdFN0eWxlUHJlZml4TGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9zdFNwZWNpZmljRGVmYXVsdFN0eWxlUHJlZml4TGVuZ3RoID0gdGVtcGxhdGVQcmVmaXgubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9zdFNwZWNpZmljRGVmYXVsdFN0eWxlRm9ybWF0U3R5bGUgPSBOdW1iZXIucGFyc2VJbnQoZm9ybWF0U3R5bGUpIGFzIEZvcm1hdFN0eWxlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBtb3N0U3BlY2lmaWNEZWZhdWx0U3R5bGVGb3JtYXRTdHlsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgY2xlYW51cFBhcmFtZXRlcnMoKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSB0aGlzLnBhcmFtZXRlcnMubWFwKCh7IGtleSwgdmFsdWUgfSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgJiYgdGhpcy5JTUFHRV9QQVJBTUVURVJTLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlQmVmb3JlID0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGltYWdlUGFyYW1ldGVycyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5zdGFydHNXaXRoKCdbWycpICYmIHZhbHVlLmVuZHNXaXRoKCddXScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVBhcmFtZXRlcnMgPSB2YWx1ZS5zbGljZSgyLCAtMikuc3BsaXQoJ3wnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBpbWFnZVBhcmFtZXRlcnNbMF0udHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9eKEZpbGV8SW1hZ2UpOi8sICcnKS5yZXBsYWNlQWxsKCdfJywgJyAnKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRpdGlvbmFsRGF0YSA9IHZhbHVlQmVmb3JlXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoMiwgLTIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJ3wnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKChwYXJhbWV0ZXIpID0+IHBhcmFtZXRlci50cmltKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChwYXJhbWV0ZXIpID0+ICF0aGlzLklHTk9SRURfSU1BR0VfU1lOVEFYLmhhcyhwYXJhbWV0ZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJ3wnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkaXRpb25hbERhdGEubGVuZ3RoID4gMCkgdmFsdWUgKz0gYCA8IS0tIFByZXZpb3VzIGFkZGl0aW9uYWwgZGF0YTogXCIke2FkZGl0aW9uYWxEYXRhfVwiIC0tPmA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsga2V5LCB2YWx1ZSB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZm9ybWF0KCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmZ1bGxUZXh0KSB0aGlzLnBhcnNlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZEJlUmVtb3ZlZCgpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlRFTVBMQVRFU19UT19LRUVQX0NPTlRFTlQuaW5jbHVkZXModGhpcy5uYW1lIS50b0xvd2VyQ2FzZSgpKSA/IHRoaXMucGFyYW1ldGVyc1swXS52YWx1ZSA6ICcnO1xuXG4gICAgICAgICAgICBjb25zdCBzaG91bGRTdWJzdCA9XG4gICAgICAgICAgICAgICAgbXcuY29uZmlnLmdldCgnd2dOYW1lc3BhY2VOdW1iZXInKSAhPT0gKE5hbWVzcGFjZS5UZW1wbGF0ZSBhcyBudW1iZXIpICYmXG4gICAgICAgICAgICAgICAgdGhpcy5URU1QTEFURVNfVE9fU1VCU1Quc29tZShcbiAgICAgICAgICAgICAgICAgICAgKG5hbWUpID0+IG5hbWUgPT09IHRoaXMubmFtZSEudG9Mb3dlckNhc2UoKSB8fCB0aGlzLm5hbWUhLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aChgJHtuYW1lfTpgKSxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2V0U3R5bGUoKTtcbiAgICAgICAgICAgIGlmIChzdHlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5ld05hbWUgPSB0aGlzLm5hbWUhO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5hbWUhLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgndGVtcGxhdGU6JykpIG5ld05hbWUgPSB0aGlzLm5hbWUhLnNsaWNlKDkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZFN1YnN0KSBuZXdOYW1lID0gYHN1YnN0OiR7bmV3TmFtZX1gO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5ld05hbWUgIT09IHRoaXMucmF3TmFtZSEpIHRoaXMuZnVsbFRleHRFc2NhcGVkID0gdGhpcy5mdWxsVGV4dEVzY2FwZWQhLnJlcGxhY2UodGhpcy5yYXdOYW1lISwgbmV3TmFtZSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHN1YlRlbXBsYXRlIG9mIHRoaXMuc3ViVGVtcGxhdGVzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZ1bGxUZXh0RXNjYXBlZCA9IHRoaXMuZnVsbFRleHRFc2NhcGVkIS5yZXBsYWNlKHRoaXMuUExBQ0VIT0xERVJfU1RSSU5HU1swXSwgc3ViVGVtcGxhdGUuZm9ybWF0KCkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnVsbFRleHRFc2NhcGVkITtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gW2B7eyR7c2hvdWxkU3Vic3QgPyAnc3Vic3Q6JyA6ICcnfSR7dGhpcy5uYW1lIX1gXTtcblxuICAgICAgICAgICAgdGhpcy5jbGVhbnVwUGFyYW1ldGVycygpO1xuXG4gICAgICAgICAgICBpZiAoc3R5bGUgPT09IEZvcm1hdFN0eWxlLkV4cGFuZGVkIHx8IHN0eWxlID09PSBGb3JtYXRTdHlsZS5FeHBhbmRlZEFsaWduZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVxdWlyZWRLZXlMZW5ndGggPSAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlID09PSBGb3JtYXRTdHlsZS5FeHBhbmRlZEFsaWduZWQpXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkS2V5TGVuZ3RoID0gTWF0aC5tYXgoLi4udGhpcy5wYXJhbWV0ZXJzLm1hcCgocGFyYW1ldGVyKSA9PiBwYXJhbWV0ZXIua2V5Py5sZW5ndGggPz8gMCkpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIHBhcmFtZXRlcl0gb2YgdGhpcy5wYXJhbWV0ZXJzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAhcGFyYW1ldGVyLmtleSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIXBhcmFtZXRlci52YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNsaWNlKGluZGV4ICsgMSkuZXZlcnkoKHBhcmFtZXRlcikgPT4gcGFyYW1ldGVyLmtleSA/PyAhcGFyYW1ldGVyLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChgfCAke3BhcmFtZXRlci5rZXkgPyBgJHtwYXJhbWV0ZXIua2V5LnBhZEVuZChyZXF1aXJlZEtleUxlbmd0aCl9ID0gYCA6ICcnfSR7cGFyYW1ldGVyLnZhbHVlfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBwYXJhbWV0ZXJdIG9mIHRoaXMucGFyYW1ldGVycy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgIXBhcmFtZXRlci52YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHBhcmFtZXRlci5rZXkgfHwgdGhpcy5wYXJhbWV0ZXJzLnNsaWNlKGluZGV4ICsgMSkuZXZlcnkoKHBhcmFtZXRlcikgPT4gcGFyYW1ldGVyLmtleSA/PyAhcGFyYW1ldGVyLnZhbHVlKSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goYHwke3BhcmFtZXRlci5rZXkgPyBgJHtwYXJhbWV0ZXIua2V5fT1gIDogJyd9JHtwYXJhbWV0ZXIudmFsdWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvdXRwdXQucHVzaCgnfX0nKTtcblxuICAgICAgICAgICAgaWYgKG91dHB1dC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRbMF0gKz0gJ319JztcblxuICAgICAgICAgICAgICAgIG91dHB1dC5wb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3R5bGUgPT09IEZvcm1hdFN0eWxlLk1pbmltaXplZFNwYWNlZCkge1xuICAgICAgICAgICAgICAgIG91dHB1dFtvdXRwdXQubGVuZ3RoIC0gMl0gKz0gJ319JztcblxuICAgICAgICAgICAgICAgIG91dHB1dC5wb3AoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGpvaW5lZE91dHB1dCA9IG91dHB1dC5qb2luKFxuICAgICAgICAgICAgICAgIHN0eWxlID09PSBGb3JtYXRTdHlsZS5FeHBhbmRlZCB8fCBzdHlsZSA9PT0gRm9ybWF0U3R5bGUuRXhwYW5kZWRBbGlnbmVkXG4gICAgICAgICAgICAgICAgICAgID8gJ1xcbidcbiAgICAgICAgICAgICAgICAgICAgOiBzdHlsZSA9PT0gRm9ybWF0U3R5bGUuTWluaW1pemVkU3BhY2VkXG4gICAgICAgICAgICAgICAgICAgICAgPyAnICdcbiAgICAgICAgICAgICAgICAgICAgICA6ICcnLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBzdWJUZW1wbGF0ZSBvZiB0aGlzLnN1YlRlbXBsYXRlcylcbiAgICAgICAgICAgICAgICBqb2luZWRPdXRwdXQgPSBqb2luZWRPdXRwdXQucmVwbGFjZSh0aGlzLlBMQUNFSE9MREVSX1NUUklOR1NbMF0sIHN1YlRlbXBsYXRlLmZvcm1hdCgpKTtcblxuICAgICAgICAgICAgcmV0dXJuIGpvaW5lZE91dHB1dDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGFsbFRlbXBsYXRlczogVGVtcGxhdGVbXSA9IFtdO1xuXG4gICAgY29uc3QgaW5zaWRlVGVtcGxhdGVzOiBUZW1wbGF0ZVtdID0gW107XG4gICAgbGV0IGlzSW5zaWRlTGluayA9IGZhbHNlO1xuICAgIGxldCBpc0luc2lkZU5vd2lraSA9IGZhbHNlO1xuICAgIGxldCBpc0luc2lkZUNvbW1lbnQgPSBmYWxzZTtcblxuICAgIGxldCBjdXJyZW50TG9jYXRpb24gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBjb250ZW50IGZvbGxvd2luZyB0aGUgY3VycmVudCBsb2NhdGlvbiBtYXRjaGVzIHRoZSBkZXNpcmVkIHN0cmluZy5cbiAgICAgKiBAcGFyYW0gZGVzaXJlZFN0cmluZyBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBdFN0cmluZyhkZXNpcmVkU3RyaW5nOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgaXNBdFN0cmluZyA9IGNvbnRlbnQuc2xpY2UoY3VycmVudExvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24gKyBkZXNpcmVkU3RyaW5nLmxlbmd0aCkgPT09IGRlc2lyZWRTdHJpbmc7XG5cbiAgICAgICAgaWYgKGlzQXRTdHJpbmcpIGN1cnJlbnRMb2NhdGlvbiArPSBkZXNpcmVkU3RyaW5nLmxlbmd0aDtcblxuICAgICAgICByZXR1cm4gaXNBdFN0cmluZztcbiAgICB9XG5cbiAgICB3aGlsZSAoY3VycmVudExvY2F0aW9uIDwgY29udGVudC5sZW5ndGgpXG4gICAgICAgIGlmIChpc0F0U3RyaW5nKCc8bm93aWtpPicpKSBpc0luc2lkZU5vd2lraSA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKGlzQXRTdHJpbmcoJzwvbm93aWtpPicpKSBpc0luc2lkZU5vd2lraSA9IGZhbHNlO1xuICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCc8IS0tJykpIGlzSW5zaWRlQ29tbWVudCA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKGlzQXRTdHJpbmcoJy0tPicpKSBpc0luc2lkZUNvbW1lbnQgPSBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAoIWlzSW5zaWRlTm93aWtpICYmICFpc0luc2lkZUNvbW1lbnQpXG4gICAgICAgICAgICBpZiAoaXNBdFN0cmluZygnW1snKSkgaXNJbnNpZGVMaW5rID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzSW5zaWRlTGluayAmJiBpc0F0U3RyaW5nKCddXScpKSBpc0luc2lkZUxpbmsgPSBmYWxzZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzQXRTdHJpbmcoJ3t7JykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShjdXJyZW50TG9jYXRpb24gLSAyKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbnNpZGVUZW1wbGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5pc05lc3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGluc2lkZVRlbXBsYXRlcy5hdCgtMSk/LnN1YlRlbXBsYXRlcy5wdXNoKHRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpbnNpZGVUZW1wbGF0ZXMucHVzaCh0ZW1wbGF0ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzQXRTdHJpbmcoJ319JykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0VGVtcGxhdGUgPSBpbnNpZGVUZW1wbGF0ZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFsYXN0VGVtcGxhdGUpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgbGFzdFRlbXBsYXRlLmxvY2F0aW9uLmVuZCA9IGN1cnJlbnRMb2NhdGlvbjtcblxuICAgICAgICAgICAgICAgIGFsbFRlbXBsYXRlcy5wdXNoKGxhc3RUZW1wbGF0ZSk7XG4gICAgICAgICAgICB9IGVsc2UgY3VycmVudExvY2F0aW9uKys7XG4gICAgICAgIGVsc2UgY3VycmVudExvY2F0aW9uKys7XG5cbiAgICBsZXQgbmV3Q29udGVudCA9IGNvbnRlbnQ7XG5cbiAgICBmb3IgKGNvbnN0IHRlbXBsYXRlIG9mIGFsbFRlbXBsYXRlcylcbiAgICAgICAgaWYgKCF0ZW1wbGF0ZS5pc05lc3RlZCkge1xuICAgICAgICAgICAgdGVtcGxhdGUucGFyc2UoKTtcblxuICAgICAgICAgICAgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQucmVwbGFjZSh0ZW1wbGF0ZS5mdWxsVGV4dCEsIHRlbXBsYXRlLmZvcm1hdCgpKTtcbiAgICAgICAgfVxuXG4gICAgcmV0dXJuIG5ld0NvbnRlbnQ7XG59XG5cbi8qKlxuICogUmVtb3ZlcyB1bm5lY2Vzc2FyeSBjb21tZW50cyBmcm9tIGFuIGFydGljbGUncyBjb250ZW50LlxuICogQHBhcmFtIGNvbnRlbnQgVGhlIGFydGljbGUgY29udGVudCB0byBjbGVhbiB1cC5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQ29tbWVudHMoY29udGVudDogc3RyaW5nKSB7XG4gICAgaWYgKG13LmNvbmZpZy5nZXQoJ3dnTmFtZXNwYWNlTnVtYmVyJykgIT09IDApIHJldHVybiBjb250ZW50O1xuXG4gICAgY29uc3QgQ09NTUVOVFNfVE9fUkVNT1ZFID0gW1xuICAgICAgICAnRG8gbm90IHJlbW92ZSB0aGlzIGxpbmUnLFxuICAgICAgICAnRURJVCBCRUxPVyBUSElTIExJTkUnLFxuICAgICAgICAnSW1wb3J0YW50LCBkbyBub3QgcmVtb3ZlIGFueXRoaW5nIGFib3ZlIHRoaXMgbGluZSBiZWZvcmUgYXJ0aWNsZSBoYXMgYmVlbiBjcmVhdGVkJyxcbiAgICAgICAgJ0ltcG9ydGFudCwgZG8gbm90IHJlbW92ZSB0aGlzIGxpbmUgYmVmb3JlIGFydGljbGUgaGFzIGJlZW4gY3JlYXRlZCcsXG4gICAgICAgICdJbmxpbmUgY2l0YXRpb25zIGFkZGVkIHRvIHlvdXIgYXJ0aWNsZSB3aWxsIGF1dG9tYXRpY2FsbHkgZGlzcGxheSBoZXJlJyxcbiAgICAgICAgJ05vdGU6IFRoZSBmb2xsb3dpbmcgcGFnZXMgd2VyZSByZWRpcmVjdHMgdG8gJyxcbiAgICBdO1xuXG4gICAgZm9yIChjb25zdCBjb21tZW50IG9mIENPTU1FTlRTX1RPX1JFTU9WRSlcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbChuZXcgUmVnRXhwKGAgKjwhLS0gPyR7ZXNjYXBlUmVnZXhDaGFyYWN0ZXJzKGNvbW1lbnQpfS4qPy0tPiAqXFxuP2AsICdncycpLCAnJyk7XG5cbiAgICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBBZGRzIHJlbGV2YW50IHRhZ3MgdG8gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGFkZCB0YWdzIHRvLlxuICovXG5mdW5jdGlvbiBhdXRvVGFnUGFnZShjb250ZW50OiBzdHJpbmcpIHtcbiAgICBjb25zdCBpc091dHNpZGVNYWluc3BhY2UgPSBtdy5jb25maWcuZ2V0KCd3Z05hbWVzcGFjZU51bWJlcicpICE9PSAwO1xuICAgIGNvbnN0IGlzRWRpdGluZ1NlY3Rpb24gPSAhIW5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCkuZ2V0KCdzZWN0aW9uJyk7XG4gICAgY29uc3QgaXNEaXNhbWJpZ3VhdGlvbiA9IG13LmNvbmZpZy5nZXQoJ3dnQ2F0ZWdvcmllcycpLmluY2x1ZGVzKCdBbGwgZGlzYW1iaWd1YXRpb24gcGFnZXMnKTtcbiAgICBjb25zdCBpc1JlZGlyZWN0ID0gbXcuY29uZmlnLmdldCgnd2dJc1JlZGlyZWN0Jyk7XG5cbiAgICBpZiAoaXNPdXRzaWRlTWFpbnNwYWNlIHx8IGlzRWRpdGluZ1NlY3Rpb24gfHwgaXNEaXNhbWJpZ3VhdGlvbiB8fCBpc1JlZGlyZWN0KSByZXR1cm4gY29udGVudDtcblxuICAgIGNvbnN0IG51bWJlck9mQ2F0ZWdvcmllcyA9IFsuLi5jb250ZW50Lm1hdGNoQWxsKC9cXFtcXFtDYXRlZ29yeTovZyldLmxlbmd0aDtcblxuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoL1xcbip7eyh1bmNhdGVnb3JpemVkfGltcHJvdmUgY2F0ZWdvcmllcykoXFx8Lis/KT99fSh7e3xcXG4rfCQpL2dpLCAnJyk7XG5cbiAgICBpZiAobnVtYmVyT2ZDYXRlZ29yaWVzID09PSAwICYmICEve3t1bmNhdGVnb3JpemVkL2kudGVzdChjb250ZW50KSlcbiAgICAgICAgY29udGVudCArPSAnXFxuXFxue3tVbmNhdGVnb3JpemVkfHt7c3Vic3Q6Q1VSUkVOVE1PTlRITkFNRX19IHt7c3Vic3Q6Q1VSUkVOVFlFQVJ9fX19JztcbiAgICBlbHNlIGlmIChudW1iZXJPZkNhdGVnb3JpZXMgPT09IDEgJiYgIS97e2ltcHJvdmUgY2F0ZWdvcmllcy9pLnRlc3QoY29udGVudCkpXG4gICAgICAgIGNvbnRlbnQgKz0gJ1xcblxcbnt7SW1wcm92ZSBjYXRlZ29yaWVzfHt7c3Vic3Q6Q1VSUkVOVE1PTlRITkFNRX19IHt7c3Vic3Q6Q1VSUkVOVFlFQVJ9fX19JztcblxuICAgIHJldHVybiBjb250ZW50O1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7O21CQUdPLElBQU1BLEVBQU0sSUFBSSxHQUFHLElBTTFCLGVBQXNCQyxFQUFlQyxFQUFlLENBQ2hELE9BQ0ssTUFBTUYsRUFBSSxJQUFJLENBQ1gsT0FBUSxRQUNSLGNBQWUsSUFDZixLQUFNLFlBQ04sT0FBUSxVQUNSLFFBQVMsT0FDVCxPQUFRRSxDQUNaLENBQW1DLEdBQ3JDLE1BQU0sTUFBTSxDQUFDLEVBQUUsWUFBWSxDQUFDLEVBQUUsTUFBTSxLQUFLLFFBQVEsS0FBSyxDQUM1RCxFQ2dCQyxJQUFNLENBRUgsR0FESSxHQUFHLE9BQU8sSUFBSSxtQkFBbUIsRUFBSSxHQUNyQyxDQUFDLEdBQUcsT0FBTyxJQUFJLHNCQUFzQixFQUFHLE9BRTVDLElBQU1DLEVBQWUsQ0FBQyxpQkFBa0Isc0JBQXNCLEVBRTFELEdBQUcsT0FBTyxJQUFJLE1BQU0sSUFBTSxXQUFXQSxFQUFhLEtBQUssdUJBQXVCLEVBRWxGLEdBQUcsT0FBTyxNQUFNQSxFQUFjLElBQU0sQ0FDaEMsSUFBSUMsRUFBeUIsR0FFdkJDLEVBQWlCLDRGQU12QixTQUFTQyxFQUFjQyxFQUFrRCxDQUVyRSxXQUFXLElBQU0sQ0FDUkEsRUFBUyxNQUFNLFNBQVNGLEVBQWUsTUFBTSxDQUFDLENBQUMsSUFDaERFLEVBQVMsT0FDTEEsRUFBUyxPQUFTLENBQUNBLEVBQVMsTUFBTSxXQUFXLEtBQUssR0FBSyxDQUFDQSxFQUFTLE1BQU0sU0FBUyxNQUFNLEVBQ2hGLEtBQUtGLEVBQWUsT0FBTyxDQUFDLEVBQUUsWUFBWSxFQUFJQSxFQUFlLE1BQU0sQ0FBQyxDQUFDLEdBQ3JFQSxFQUNsQixFQUFHLENBQUMsRUFFSkQsRUFBeUIsRUFDN0IsQ0FNQSxlQUFlSSxFQUFpQkMsRUFBbUIsQ0FDL0NBLEVBQU0sZUFBZSxFQUVyQixJQUFNQyxF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MEJBQTBCLEVBQ3BGQyxFQUFhLEdBQUcsT0FBTyxJQUFJLGNBQWMsRUFFL0MsR0FBSUgsR0FBc0JDLEdBQW9CQyxHQUFvQkMsRUFBWSxPQUFPeEksRUFFckYsSUFBTXlJLEVBQXFCLENBQUMsR0FBR3pJLEVBQVEsU0FBUyxnQkFBZ0IsQ0FBQyxFQUFFLE9BRW5FLE9BQUFBLEVBQVVBLEVBQVEsV0FBVyxnRUFBaUUsRUFBRSxFQUU1RnlJLElBQXVCLEdBQUssQ0FBQyxtQkFBbUIsS0FBS3pJLENBQU8sRUFDNURBLEdBQVc7QUFBQTtBQUFBLG9FQUNOeUksSUFBdUIsR0FBSyxDQUFDLHdCQUF3QixLQUFLekksQ0FBTyxJQUN0RUEsR0FBVztBQUFBO0FBQUEsMEVBRVJBLENBQ1giLAogICJuYW1lcyI6IFsiYXBpIiwgImdldFBhZ2VDb250ZW50IiwgInRpdGxlIiwgImRlcGVuZGVuY2llcyIsICJzaG91bGRBZGRTY3JpcHRNZXNzYWdlIiwgIlNDUklQVF9NRVNTQUdFIiwgInVwZGF0ZVN1bW1hcnkiLCAidGV4dGFyZWEiLCAiaGFuZGxlQWN0aXZhdGlvbiIsICJldmVudCIsICJlZGl0b3IiLCAib3JpZ2luYWxUZXh0IiwgImZpbmFsVGV4dCIsICJjbGVhbnVwU3RyYXlVbmljb2RlQ2hhcmFjdGVycyIsICJjbGVhbnVwU2VjdGlvbkhlYWRlcnMiLCAiY2xlYW51cE1hZ2ljV29yZHMiLCAiY2xlYW51cERpc3BsYXl0aXRsZXNBbmREZWZhdWx0c29ydHMiLCAiY2xlYW51cENhdGVnb3JpZXMiLCAiY2xlYW51cExpbmtzIiwgImNsZWFudXBJbXByb3BlckNoYXJhY3RlcnMiLCAiY2xlYW51cFllYXJSYW5nZXMiLCAiY2xlYW51cFN0cmF5TWFya3VwIiwgImNsZWFudXBTcGFjaW5nIiwgImNsZWFudXBSZWZlcmVuY2VzIiwgImZvcm1hdFRlbXBsYXRlcyIsICJyZW1vdmVDb21tZW50cyIsICJhdXRvVGFnUGFnZSIsICJzdXJmYWNlTW9kZWwiLCAic3VtbWFyeUlucHV0IiwgImhlYWRlclN3aXRjaGVyIiwgImJ1dHRvbiIsICJjb250ZW50IiwgImVzY2FwZVJlZ2V4Q2hhcmFjdGVycyIsICJzdHJpbmciLCAiU1RSQVlfVU5JQ09ERV9SRUdFWCIsICJDT01NT05fUkVQTEFDRU1FTlRTIiwgIkNPTU1PTl9NSVNDQVBJVEFMSVpFRF9XT1JEUyIsICJyZXZlcnNlQ29tbW9uUmVwbGFjZW1lbnRzIiwgImtleSIsICJ2YWx1ZXMiLCAidmFsdWUiLCAicGFyc2VkSGVhZGVycyIsICJoZWFkZXIiLCAibmFtZSIsICJzdGFydE1hcmt1cCIsICJlbmRNYXJrdXAiLCAibGlua3MiLCAibGluayIsICJkZXB0aCIsICJoZWFkZXJzU2V0IiwgInRpdGxlU3BhY2VyIiwgImxvd2VyY2FzZU5hbWUiLCAiY2FwaXRhbGl6ZWROYW1lIiwgIndvcmQiLCAib3V0cHV0IiwgInBhcnNlZFRhZ3MiLCAidGFnIiwgImZ1bGxUYWciLCAidHlwZSIsICJjdXJyZW50VGl0bGUiLCAib3JpZ2luYWxUYWdSZWdleCIsICJ1bnByZWZpeGVkVGl0bGUiLCAidGl0bGUiLCAiZGVmYXVsdEtleSIsICJjdXN0b21LZXkiLCAibmV3VGV4dCIsICJmdW5jdGlvbnNDYWxsZWRXaGlsZUVzY2FwZWQiLCAiY2xvc2VkTGlua3MiLCAiaXNJbnNpZGVOb3dpa2kiLCAiaXNJbnNpZGVDb21tZW50IiwgImN1cnJlbnRMb2NhdGlvbiIsICJpc0F0U3RyaW5nIiwgImRlc2lyZWRTdHJpbmciLCAic2hvdWxkSW5jcmVtZW50IiwgImxhc3RMaW5rIiwgIm5ld0xpbmtDb250ZW50IiwgIm5hbWVzcGFjZU5hbWVzIiwgImxpbmtMb2NhdGlvbiIsICJpbm5lckxpbmsiLCAidW5wYXJzZWRMaW5rIiwgInBhcmFtZXRlcnMiLCAiYWx0VGV4dCIsICJpc0ZpcnN0Q2hhcmFjdGVyQ29sb24iLCAic2hvdWxkRmlyc3RDaGFyYWN0ZXJCZUNvbG9uIiwgImxpbmtVcHBlcmNhc2VTdGFydCIsICJsaW5rTG93ZXJjYXNlU3RhcnQiLCAibmFtZXNwYWNlIiwgImJlZm9yZUxpbmtUZXh0IiwgImFmdGVyTGlua1RleHQiLCAibWF0Y2hlZE1hcmt1cCIsICJhZGRlZFB1bmN0dWF0aW9uIiwgIm5ld0xpbmsiLCAiZnVuY3Rpb25Ub0NhbGwiLCAibG9vcENvdW50ZXIiLCAibGlua0RhdGEiLCAibGlua0NvbnRlbnQiLCAicnVuIiwgIm9yaWdpbmFsIiwgInN0YXJ0IiwgImVuZCIsICJTVFJBWV9NQVJLVVBfUkVHRVhFUyIsICJyZWdleCIsICJzZWNvbmRSdW4iLCAiVEFHU19UT19JR05PUkUiLCAiaWdub3JlZFRhZ3NDb250ZW50IiwgImZ1bGxNYXRjaCIsICJzdGFydFRhZyIsICJ0YWdOYW1lIiwgImlubmVyQ29udGVudCIsICJlbmRUYWciLCAidGFnQ29udGVudCIsICJyZWZlcmVuY2VUYWciLCAicHVuY3R1YXRpb24iLCAicmVmZXJlbmNlcyIsICJwcm9jZWVkVW50aWxTdHJpbmciLCAiaXNTZWxmQ2xvc2luZyIsICJwYXJzZXIiLCAicmVwbGFjZW1lbnRzIiwgInJlZmVyZW5jZSIsICJ0ZW1wbGF0ZUFsaWFzZXMiLCAiRm9ybWF0U3R5bGUiLCAiTmFtZXNwYWNlIiwgImdldFBhZ2VDb250ZW50IiwgIm1hcHBlZFRlbXBsYXRlQWxpYXNlcyIsICJhbGlhcyIsICJmcm9tIiwgIlRlbXBsYXRlIiwgInN0YXJ0TG9jYXRpb24iLCAibnVtYmVyIiwgInN1YlRlbXBsYXRlIiwgInRyaW1tZWRJbm5lclRleHQiLCAicGlwZUVzY2FwZVJlZ2V4IiwgImZ1bGxUZXh0IiwgImF0dHJpYnV0ZXMiLCAicGFyYW1ldGVyIiwgIm5hbWVMb3dlcmNhc2VGaXJzdCIsICJpc1N0YXJ0TG93ZXIiLCAiZmluYWxOYW1lIiwgIm11c3RTdGFydEJlVXBwZXJjYXNlIiwgInNwbGl0UGFyYW1ldGVycyIsICJlcXVhbHNMb2NhdGlvbiIsICJ0ZW1wbGF0ZXMiLCAibW9zdFNwZWNpZmljRGVmYXVsdFN0eWxlUHJlZml4TGVuZ3RoIiwgIm1vc3RTcGVjaWZpY0RlZmF1bHRTdHlsZUZvcm1hdFN0eWxlIiwgImZvcm1hdFN0eWxlIiwgInRlbXBsYXRlUHJlZml4ZXMiLCAidGVtcGxhdGVQcmVmaXgiLCAidmFsdWVCZWZvcmUiLCAiaW1hZ2VQYXJhbWV0ZXJzIiwgImFkZGl0aW9uYWxEYXRhIiwgInNob3VsZFN1YnN0IiwgInN0eWxlIiwgIm5ld05hbWUiLCAicmVxdWlyZWRLZXlMZW5ndGgiLCAiaW5kZXgiLCAiam9pbmVkT3V0cHV0IiwgImFsbFRlbXBsYXRlcyIsICJpbnNpZGVUZW1wbGF0ZXMiLCAiaXNJbnNpZGVMaW5rIiwgInRlbXBsYXRlIiwgImxhc3RUZW1wbGF0ZSIsICJuZXdDb250ZW50IiwgIkNPTU1FTlRTX1RPX1JFTU9WRSIsICJjb21tZW50IiwgImlzT3V0c2lkZU1haW5zcGFjZSIsICJpc0VkaXRpbmdTZWN0aW9uIiwgImlzRGlzYW1iaWd1YXRpb24iLCAiaXNSZWRpcmVjdCIsICJudW1iZXJPZkNhdGVnb3JpZXMiXQp9Cg==
