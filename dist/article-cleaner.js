// <pre>
// Note: This script was compiled and minified from TypeScript. For a more readable version, see https://github.com/Eejit43/wikipedia-scripts/blob/main/scripts/article-cleaner.ts

"use strict";(()=>{var I=new mw.Api;async function C(e){return(await I.get({action:"query",formatversion:"2",prop:"revisions",rvprop:"content",rvslots:"main",titles:e})).query.pages[0].revisions?.[0].slots.main.content.trim()}(()=>{if(mw.config.get("wgNamespaceNumber")<0||!mw.config.get("wgIsProbablyEditable"))return;let e=["mediawiki.util","jquery.textSelection"];mw.config.get("skin")!=="minerva"&&e.push("mobile.editor.overlay"),mw.loader.using(e,()=>{let p=!1,f="Cleaned up article content (via [[User:Eejit43/scripts/article-cleaner|article-cleaner]])";function d(l){setTimeout(()=>{l.value.includes(f.slice(1))||(l.value+=l.value&&!l.value.startsWith("/* ")&&!l.value.endsWith(" */ ")?`; ${f.charAt(0).toLowerCase()+f.slice(1)}`:f)},0),p=!1}async function o(l){l.preventDefault();let m=$(mw.config.get("skin")==="minerva"?"#wikitext-editor":"#wpTextbox1");if(m.length===0)return mw.notify("Edit box not found!",{type:"error",autoHideSeconds:"short"});let g=m.textSelection("getContents"),t=g;if(t=N(t),t=M(t),t=P(t),t=_(t),t=O(t),t=F(t,[D,U]),t=H(t),t=y(t),t=G(t),t=await W(t),t=j(t),t=y(t,!0),t=B(t),g===t)mw.notify("No changes to be made to the article!",{type:"warn",autoHideSeconds:"short"});else{if(ve.init){let i=ve.init.target.getSurface().getModel();i.getLinearFragment(i.getRangeFromSourceOffsets(0,g.length)).insertContent(t),i.setSelection(new ve.dm.LinearSelection(new ve.Range(0,0)))}else m.textSelection("setContents",t),m.textSelection("setSelection",{start:0});mw.notify("Article cleanup complete!",{type:"success",autoHideSeconds:"short"});let r=document.querySelector("#wpSummary");r?d(r):p=!0}}mw.config.get("skin")==="minerva"?(mw.hook("mobileFrontend.editorOpened").add(()=>{let l=document.querySelector(".overlay-header .switcher-container"),g=new OO.ui.ButtonWidget({icon:"articleCheck",framed:!1}).$element[0];g.addEventListener("click",o),l.before(g)}),mw.hook("wikipage.content").add(l=>{if(l[0]?.classList.contains("preview")&&p){let m=document.querySelector(".summary-input textarea");d(m)}})):(mw.util.addCSS(`
#article-cleaner {
    display: none;
}

#content:has(#wpTextbox1) #article-cleaner {
    display: unset;
}`),mw.util.addPortletLink(mw.config.get("skin")==="minerva"?"p-navigation":"p-cactions","#","Perform article cleanup","article-cleaner").addEventListener("click",o),mw.hook("ve.saveDialog.stateChanged").add(()=>{if(p){let m=document.querySelector(".ve-ui-mwSaveDialog-summary textarea");d(m)}}))})})();function L(e){return e.replaceAll(/[$()*+.?[\\\]^{|}]/g,"\\$&")}function N(e){let p=/[\u0000-\u0009\u000B\u000C\u000E-\u001F\u007F\u00AD\u200B-\u200F\u202A-\u202E\u2060\u2063\uFEFF]/g;return p.test(e)&&(e=e.replaceAll(p,"")),e}function M(e){let p={"See also":["also see"],References:["reference","source","sources","citation","citations"],"Further reading":["further reading"],"External links":["external link","weblink","weblinks"]},f=["and","birth","career","death","education","life","of","or"],d=Object.fromEntries(Object.entries(p).flatMap(([t,r])=>[[t.toLowerCase(),t],...r.map(i=>[i,t])])),l=[...e.matchAll(/(?<=^|\n)\n*(?<startMarkup>=+) *(?<name>.*?) *(?<endMarkup>=+)(\n+|$)/g)].map(t=>{let{name:r}=t.groups,{startMarkup:i,endMarkup:c}=t.groups;r=r.replaceAll(/'{3}/g,"");let S=r.matchAll(/\[\[(.+?)]]/g).toArray();for(let a of S)r=r.replace(a[0],a[1].split("|").at(-1));let u=Math.max(i.length,c.length,2);return{name:r,depth:u,original:t[0]}}),m=new Set(l.map(t=>t.name)),g=l.length>0&&/^\n*=+ | =+\n+$/.test(l[0].original)?" ":"";for(let t of l){let r=t.name.toLowerCase(),c=r in d&&!m.has(d[r])?d[r]:t.name;for(let u of f)c=c.replaceAll(new RegExp(`\\b${u}\\b`,"gi"),u);c=c.charAt(0).toUpperCase()+c.slice(1);let S=`${"=".repeat(t.depth)}${g}${c}${g}${"=".repeat(t.depth)}`;t.original!==S&&(e=e.replace(t.original,`

${S}
`))}return e}function P(e){return e.replaceAll(/__(INDEX|NOINDEX|NEWSECTIONLINK|NONEWSECTIONLINK|NOEDITSECTION|DISAMBIG|STATICREDIRECT|FORCETOC)__\n*/g,"")}function _(e){let f=[...e.matchAll(/{{(displaytitle|defaultsort)[:|](.*?)}}/gi)].map(o=>{let[l,m,g]=o;return{type:m.toUpperCase(),value:g,original:l}}),d=mw.Title.newFromText(mw.config.get("wgPageName"));for(let o of f){let l=new RegExp(`${L(o.original)}
*`,"g"),m=mw.Title.newFromText(o.value);if(!m)continue;let g=mw.Title.makeTitle(d.getNamespaceId(),m.getMainText());if(!g)continue;let t=o.type==="DISPLAYTITLE"?d.toText():d.getMainText(),r=o.type==="DISPLAYTITLE"?g.toText():g.getMainText();if(t===r){e=e.replace(l,"");continue}let i=`{{${o.type}:${r}}}
`;e=e.replace(l,i)}return e}function O(e){return e.replaceAll(/(\[\[|}}):?category:(.*?)(]]|}})/gi,`[[${mw.config.get("wgCanonicalNamespace")==="Draft"?":":""}Category:$2]]`)}function F(e,p){let f=[],d=[],o=!1,l=!1,m=0;function g(i,c=!0){let S=e.slice(m,m+i.length)===i;return S&&c&&(m+=i.length),S}for(;m<e.length;)if(g("<nowiki>"))o=!0;else if(g("</nowiki>"))o=!1;else if(g("<!--"))l=!0;else if(g("-->"))l=!1;else if(!o&&!l)if(g("[["))d.push({start:m-2,end:-1,isNested:d.length>0});else if(g("]]")){let i=d.pop();if(!i)continue;i.end=m,f.push(i)}else m++;else m++;let t=[],r=Object.values(mw.config.get("wgFormattedNamespaces"));for(let i of f){let c=e.slice(i.start+2,i.end-2),[S,...u]=c.split("|");e=e.slice(0,i.start+2)+"\0".repeat(S.length)+e.slice(i.start+2+S.length);let a=S.replaceAll("_"," ").trim(),s=u.join("|");s=s===" "?" ":s.trim();let h=a.startsWith(":");h&&(a=a.slice(1));let b=!1,n=a.charAt(0).toUpperCase()+a.slice(1),E=a.charAt(0).toLowerCase()+a.slice(1),T=a.split(":")[0];T=T.charAt(0).toUpperCase()+T.slice(1),a.includes(":")&&(n.startsWith("Image:")&&(a=`${a.startsWith("Image:")?"F":"f"}ile:${a.slice(6)}`),h&&(["Image","File","Category"].includes(n.split(":")[0])||!r.includes(T))&&(b=!0));let w="",k="",x=/^('{2,})(.*?)\1$/.exec(s);if(x&&!x[2].includes("''")&&(w=x[1],s=x[2].trim(),k=x[1]),/[!,.:;?]$/.test(s)&&!["Image","File","Category"].includes(n.split(":")[0])){let A=s.slice(-1);a.endsWith(A)||(k+=A,s=s.slice(0,-1))}a===s?s="":new RegExp(`^${L(a)}[a-z]+$`).test(s)&&(k=s.slice(a.length)+k,s="");for(let A of[n,E])A===s?(a=A,s=""):new RegExp(`^${L(A)}[a-z]+$`).test(s)&&(a=A,k=s.slice(A.length)+k,s="");(s&&a.includes(":")&&r.includes(T)||a.startsWith("file:")||a.startsWith("category:"))&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a=`${b?":":""}${a}`,a=a.padStart(S.length,"\0");let v=`${w}[[${a}${s?`|${s}`:""}]]${k}`;t.push([i,v])}for(let i of p)e=i(e,1);for(let i=0;i<2;i++)for(let[c,S]of t)i===0&&c.isNested||i===1&&!c.isNested||(e=e.slice(0,c.start)+S.padEnd(c.end-c.start,"\0")+e.slice(c.end));for(let i of p)e=i(e,2);return e.replaceAll("\0","")}function D(e,p){let f="\x7F",d="\x9F";return p===1?(e=e.replaceAll(/[“”„‟]/g,'"'),e=e.replaceAll(/[‘’‚‛]/g,"'"),e=e.replaceAll("\u2026",f),e=e.replaceAll("\xA0",d)):(e=e.replaceAll(f,"..."),e=e.replaceAll(d,"&nbsp;")),e}function U(e,p){return p===1&&(e=e.replaceAll(/(\(\d{3,4}) ?[‒–−-] ?(\d{3,4}\))/g,(f,d,o)=>`${d}\u2013${o}`.padEnd(f.length,"\0"))),e}function H(e){let p=[/'+(Bold|Italic)( text)?'+ */g,/(<big>)+Big( text)?(<\/big>)+ */g,/(<small>)+Small( text)?(<\/small>)+ */g,/(<sup>)+Superscript( text)?(<\/sup>)+ */g,/(<sub>)+Subscript( text)?(<\/sub>)+ */g,/(<s>)+Strikethrough(<\/s>)+ */g,/(<u>)+Underline(<\/u>)+ */g,/(<code>)+Computer code(<\/code>)+ */g,/(<nowiki>)+Insert non-formatted text here(<\/nowiki>)+ */g,/=+ Heading text =+ */g,/\* Bulleted list item */g,/# Numbered list item */g,/<gallery>\nExample.jpg\|Caption1\nExample.jpg\|Caption2\n<\/gallery> */g,/#REDIRECT \[\[Target page name]] */g,/<!-- Invisible comment --> */g,/<\s*(big|small|sup|sub|s|u|code|nowiki|noinclude|onlyinclude|includeonly|center|blockquote|gallery)\s*(\s+[^<>]*)?>\s*<\s*\/\s*\1\s*>/gi];for(let f of p)for(;f.test(e);)e=e.replace(f,"");return e}function y(e,p=!1){let f="\u{F0000}",d=["poem","pre","templatedata"],o=[];e=e.replaceAll(new RegExp(`(<(${d.join("|")})(?: [^<>]*?)?>)(.*?)(</\\2>)`,"gs"),(l,m,g,t,r)=>(t=t.replaceAll(/ +$/gm,"").trim(),o.push(`${m}
${t}
${r}`),f)),e=e.replaceAll(/(\b|\p{Punctuation}|\]\]|\}\}|\w>) {2,}(\b|\p{Punctuation}|\[\[|\{\{|<\w)/gu,"$1 $2"),p||(e=e.replaceAll(/^ +| +$/gm,"")),e=e.replaceAll(/\n{3,}/g,`

`),e=e.replace(/\s*({{[^}]*stub}})/i,`

$1`),e=e.replaceAll(/\s+$/g,""),e=e.replaceAll(/^([#*]+) */gm,"$1 "),e=e.replaceAll(/^([#*]+ .*)\n+(?=[#*]+ )/gm,`$1
`),p||(e=e.replaceAll(/(?<!\|)\s+(?=<ref(?!erences))/g,"")),e=e.replaceAll(/<\/([A-Za-z]+) +>/g,"</$1>"),e=e.replaceAll(/^(=+.*?=+)$\n{2,}(?=^=+.*?=+$)/gm,`$1
`),e=e.trim();for(let l of o)e=e.replace(f,l);return e}function G(e){e=e.replaceAll(/((?:<ref(?!erences)[^/]*?>.*?<\/ref>|<ref(?!erences).*?\/>)+)([!,.;?])?/g,(r,i,c)=>(c??"")+i);let p=[],f=!1,d=!1,o=0;function l(r){let i=e.slice(o,o+r.length)===r;return i&&(o+=r.length),i}function m(r){for(;o<e.length&&!l(r);)o++}for(;o<e.length;)if(l("<nowiki>"))f=!0;else if(l("</nowiki>"))f=!1;else if(l("<!--"))d=!0;else if(l("-->"))d=!1;else if(!f&&!d)if(!l("<references")&&l("<ref")){let r=o-4;m(">");let i=e.slice(r,o-1).trim().endsWith("/");p.push(i?{start:r,end:o,isSelfClosing:i}:{start:r,end:-1})}else l("</ref>")?p.at(-1).end=o:o++;else o++;let g=new DOMParser,t=[];for(let r of p){let i=e.slice(r.start,r.end),c=/<ref(?!erences).*?>/is.exec(i)[0],u=g.parseFromString(r.isSelfClosing?c.replace(/ *\/ *>/," />"):c+"</ref>","text/html").body.firstChild.outerHTML.replaceAll("&amp;","&"),a=i.slice(c.length,-6).trim().replaceAll(/^\[ *([^ \]]*) *]$/gm,"$1").trim();u=r.isSelfClosing||a.length===0?u.replace(/>\s*<\/ref>/," />"):`${u.slice(0,-6)}${a}</ref>`,i!==u&&t.push([i,u])}for(let[r,i]of t)e=e.replace(r,i);return e}var R;async function W(e){let p;(b=>(b[b.Expanded=0]="Expanded",b[b.ExpandedAligned=1]="ExpandedAligned",b[b.Minimized=2]="Minimized",b[b.MinimizedSpaced=3]="MinimizedSpaced"))(p||={});let f;(h=>(h[h.User=2]="User",h[h.Template=10]="Template",h[h.Draft=118]="Draft"))(f||={}),R??=JSON.parse(await C("User:Eejit43/scripts/article-cleaner.json")??"[]");let d=Object.fromEntries(R.flatMap(u=>u.from.map(a=>[a.charAt(0).toLowerCase()+a.slice(1),u.to])));class o{location;isNested=!1;fullText;fullTextEscaped;rawName;name;parameters=[];subTemplates=[];PLACEHOLDER_STRINGS=["\u{F0000}","\u{10FFFF}","\u{FFFFE}"];PIPE_ESCAPE_REGEXES=[/(\[\[[^\]]*?)\|(.*?]])/g,/(<!--.*?)\|(.*?-->)/g,/(<nowiki>.*?)\|(.*?<\/nowiki>)/g];TAG_EQUALS_ESCAPE_REGEXES=[/<(\w+)( [^<>]+?)(?<!\/)>.*?<\/\1>/g,/<(\w+)( [^<>]+?)\/>/g];TEMPLATE_ALIASES=d;DEFAULT_TEMPLATE_STYLES={1:["album rating","album reviews","american football uniform","australian rules football kit","automatic taxobox","baseball uniform","basketball kit","beachhandball kit","blockquote","chembox","cricket uniform","election box","episode list","external music video","extra album cover","field hockey kit","football box","football kit","footballbox","handball kit","hybridbox","icehockey kit","ichnobox","infobox","infraspeciesbox","judo bracket","judo repechage","listen","location map","medical resources","motorsport season","multiple image","music ratings","mycomorphbox","navbox","oobox","orbitbox","osm location map","quote box","repechage","rugbybox","sidebar","single ratings","singles","song ratings","speciesbox","starbox","succession box","taxobox","team bracket","track listing","tweet","virusbox","volleyball kit","nteambracket","2nteam-nteambracket","2teambracket","3teambracket","3teamrr","4teambracket","4teamrr","5teambracket","5teamrr","6teambracket","6teamrr","7teambracket","7teamrr","8teambracket","8teamroundrobin","8teamrr","9teambracket","10teambracket","11teambracket","12teambracket","13teambracket","14teambracket","15teambracket","16teambracket","18teambracket","20teambracket","24teambracket","27teambracket","32teambracket","40teambracket","48teambracket","64teambracket","128teambracket"],2:["birth date","coord","death date","end date","lang","start date"],3:["infobox mapframe"]};NAMESPACE_SPECIFIC_TEMPLATES={118:["afc comment","afc submission","afc submission/draft","afc topic","draft article","draft categories","draft topics","draft","drafts moved from mainspace","preloaddraft submit"],2:["dashboard.wikiedu.org sandbox","user sandbox","userspace draft"]};TEMPLATES_TO_KEEP_CONTENT=["draft categories"];TEMPLATES_TO_SUBST=["articlepagename","articlespace","basepagename","fullpagename","namespace","namespacenumber","pagename","rootpagename","subjectpagename","subjectspace","subpagename","talkpagename","talkspace","pagenamebase"];IMAGE_PARAMETERS=new Set(["cover","image_flag","image","logo","map_image"]);constructor(a){this.location={start:a};for(let s=1;s<=10;s++)this.IMAGE_PARAMETERS.add(`image${s}`)}parse(){this.fullText=e.slice(this.location.start,this.location.end),this.fullTextEscaped=this.fullText;for(let n of this.subTemplates)n.parse(),this.fullTextEscaped=this.fullTextEscaped.replace(n.fullText,this.PLACEHOLDER_STRINGS[0]);let a=this.fullTextEscaped.slice(2,-2).trim();for(let n of this.PIPE_ESCAPE_REGEXES)for(;n.test(a);)a=a.replaceAll(n,`$1${this.PLACEHOLDER_STRINGS[1]}$2`);for(let n of this.TAG_EQUALS_ESCAPE_REGEXES)a=a.replaceAll(n,(E,T,w)=>E.replace(w,w.replaceAll("=",this.PLACEHOLDER_STRINGS[2])));let s=a.split("|").map(n=>n.replaceAll(this.PLACEHOLDER_STRINGS[1],"|").trim());this.rawName=s.shift(),this.name=this.rawName.replaceAll("_"," "),this.name.toLowerCase().startsWith("template:")&&(this.name=this.name.slice(9));let h=this.name.charAt(0).toLowerCase()+this.name.slice(1);if(h in this.TEMPLATE_ALIASES){let n=this.name.startsWith(this.name.charAt(0).toLowerCase()),E=this.TEMPLATE_ALIASES[h],T=E.startsWith(E.slice(0,2).toUpperCase())&&/^[A-Z]+$/.exec(E.slice(0,2));this.name=n&&!T?E.charAt(0).toLowerCase()+E.slice(1):E}let b=s.map(n=>{let E=n.indexOf("=");if(E===-1)return{key:null,value:n.replaceAll(this.PLACEHOLDER_STRINGS[2],"=").trim()};let T=n.slice(E+1).replaceAll(this.PLACEHOLDER_STRINGS[2],"=");return{key:n.slice(0,E).trim(),value:`${T.startsWith(`
`)?`
`:""}${T.trim()}`}});this.parameters=b}shouldBeRemoved(){for(let[a,s]of Object.entries(this.NAMESPACE_SPECIFIC_TEMPLATES))if(mw.config.get("wgNamespaceNumber")!==Number.parseInt(a)&&s.includes(this.name.toLowerCase()))return!0;return!1}getStyle(){let a=0,s;for(let[h,b]of Object.entries(this.DEFAULT_TEMPLATE_STYLES))for(let n of b)this.name.toLowerCase().startsWith(n)&&n.length>=a&&(a=n.length,s=Number.parseInt(h));return s}cleanupParameters(){this.parameters=this.parameters.map(({key:a,value:s})=>{if(a&&this.IMAGE_PARAMETERS.has(a)){s=s.trim();let h=s,b=[];s.startsWith("[[")&&s.endsWith("]]")&&(b=s.slice(2,-2).split("|"),s=b[0].trim()),s=s.replace(/^(File|Image):/,"").replaceAll("_"," "),b.length>1&&(s+=` <!-- Previously: "${h}" -->`)}return{key:a,value:s}})}format(){if(this.fullText||this.parse(),this.shouldBeRemoved())return this.TEMPLATES_TO_KEEP_CONTENT.includes(this.name.toLowerCase())?this.parameters[0].value:"";let a=mw.config.get("wgNamespaceNumber")!==10&&this.TEMPLATES_TO_SUBST.some(n=>n===this.name.toLowerCase()||this.name.toLowerCase().startsWith(`${n}:`)),s=this.getStyle();if(s===void 0){let n=this.name;this.name.toLowerCase().startsWith("template:")&&(n=this.name.slice(9)),a&&(n=`subst:${n}`),n!==this.rawName&&(this.fullTextEscaped=this.fullTextEscaped.replace(this.rawName,n));for(let E of this.subTemplates)this.fullTextEscaped=this.fullTextEscaped.replace(this.PLACEHOLDER_STRINGS[0],E.format());return this.fullTextEscaped}let h=[`{{${a?"subst:":""}${this.name}`];if(this.cleanupParameters(),s===0||s===1){let n=0;s===1&&(n=Math.max(...this.parameters.map(E=>E.key?.length??0)));for(let[E,T]of this.parameters.entries())!T.key&&!T.value&&this.parameters.slice(E+1).every(w=>w.key??!w.value)||h.push(`| ${T.key?`${T.key.padEnd(n)} = `:""}${T.value}`)}else for(let[n,E]of this.parameters.entries())!E.value&&(E.key||this.parameters.slice(n+1).every(T=>T.key??!T.value))||h.push(`|${E.key?`${E.key}=`:""}${E.value}`);h.push("}}"),h.length===2?(h[0]+="}}",h.pop()):s===3&&(h[h.length-2]+="}}",h.pop());let b=h.join(s===0||s===1?`
`:s===3?" ":"");for(let n of this.subTemplates)b=b.replace(this.PLACEHOLDER_STRINGS[0],n.format());return b}}let l=[],m=[],g=!1,t=!1,r=!1,i=0;function c(u){let a=e.slice(i,i+u.length)===u;return a&&(i+=u.length),a}for(;i<e.length;)if(c("<nowiki>"))t=!0;else if(c("</nowiki>"))t=!1;else if(c("<!--"))r=!0;else if(c("-->"))r=!1;else if(!t&&!r)if(c("[["))g=!0;else if(g&&c("]]"))g=!1;else if(c("{{")){let u=new o(i-2);m.length>0&&(u.isNested=!0,m.at(-1)?.subTemplates.push(u)),m.push(u)}else if(c("}}")){let u=m.pop();if(!u)continue;u.location.end=i,l.push(u)}else i++;else i++;let S=e;for(let u of l)u.isNested||(u.parse(),S=S.replace(u.fullText,u.format()));return S}function j(e){if(mw.config.get("wgNamespaceNumber")!==0)return e;let p=["Do not remove this line","EDIT BELOW THIS LINE","Important, do not remove anything above this line before article has been created","Important, do not remove this line before article has been created","Inline citations added to your article will automatically display here","Note: The following pages were redirects to "];for(let f of p)e=e.replaceAll(new RegExp(` *<!-- ?${L(f)}.*?--> *
?`,"gs"),"");return e}function B(e){if(mw.config.get("wgNamespaceNumber")!==0)return e;let p=[...e.matchAll(/\[\[Category:/g)].length;return e=e.replaceAll(/\n*{{(uncategorized|improve categories)(\|.+?)?}}({{|\n+|$)/gi,""),p===0&&!/{{uncategorized/i.test(e)?e+=`

{{Uncategorized|{{subst:CURRENTMONTHNAME}} {{subst:CURRENTYEAR}}}}`:p===1&&!/{{improve categories/i.test(e)&&(e+=`

{{Improve categories|{{subst:CURRENTMONTHNAME}} {{subst:CURRENTYEAR}}}}`),e}})();

// </pre>
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vdXRpbGl0eS50cyIsICIuLi9zY3JpcHRzL2FydGljbGUtY2xlYW5lci50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHR5cGUgeyBBcGlRdWVyeVJldmlzaW9uc1BhcmFtcyB9IGZyb20gJ3R5cGVzLW1lZGlhd2lraS9hcGlfcGFyYW1zJztcbmltcG9ydCB0eXBlIHsgUGFnZVJldmlzaW9uc1Jlc3VsdCB9IGZyb20gJy4vZ2xvYmFsLXR5cGVzJztcblxuZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBtdy5BcGkoKTtcblxuLyoqXG4gKiBGZXRjaGVzIHRoZSBjb250ZW50IG9mIGEgZ2l2ZW4gcGFnZS5cbiAqIEBwYXJhbSB0aXRsZSBUaGUgdGl0bGUgdG8gZmV0Y2guXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQYWdlQ29udGVudCh0aXRsZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgKGF3YWl0IGFwaS5nZXQoe1xuICAgICAgICAgICAgYWN0aW9uOiAncXVlcnknLFxuICAgICAgICAgICAgZm9ybWF0dmVyc2lvbjogJzInLFxuICAgICAgICAgICAgcHJvcDogJ3JldmlzaW9ucycsXG4gICAgICAgICAgICBydnByb3A6ICdjb250ZW50JyxcbiAgICAgICAgICAgIHJ2c2xvdHM6ICdtYWluJyxcbiAgICAgICAgICAgIHRpdGxlczogdGl0bGUsXG4gICAgICAgIH0gc2F0aXNmaWVzIEFwaVF1ZXJ5UmV2aXNpb25zUGFyYW1zKSkgYXMgUGFnZVJldmlzaW9uc1Jlc3VsdFxuICAgICkucXVlcnkucGFnZXNbMF0ucmV2aXNpb25zPy5bMF0uc2xvdHMubWFpbi5jb250ZW50LnRyaW0oKTtcbn1cbiIsICJpbXBvcnQgeyBnZXRQYWdlQ29udGVudCB9IGZyb20gJy4uL3V0aWxpdHknO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHRyYW5lb3VzLWNsYXNzXG4gICAgY2xhc3MgVmVSYW5nZSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKTtcbiAgICB9XG5cbiAgICBjbGFzcyBWZUZyYWdtZW50IHtcbiAgICAgICAgaW5zZXJ0Q29udGVudChjb250ZW50OiBzdHJpbmcpOiB2b2lkO1xuICAgIH1cblxuICAgIGNsYXNzIFZlU3VyZmFjZU1vZGVsIHtcbiAgICAgICAgZ2V0TGluZWFyRnJhZ21lbnQocmFuZ2U6IFZlUmFuZ2UpOiBWZUZyYWdtZW50O1xuICAgICAgICBnZXRSYW5nZUZyb21Tb3VyY2VPZmZzZXRzKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKTogVmVSYW5nZTtcbiAgICAgICAgc2V0U2VsZWN0aW9uKHNlbGVjdGlvbjogVmVMaW5lYXJTZWxlY3Rpb24pOiB2b2lkO1xuICAgIH1cblxuICAgIGNsYXNzIFZlVGFyZ2V0IHtcbiAgICAgICAgZ2V0U3VyZmFjZSgpOiB7IGdldE1vZGVsKCk6IFZlU3VyZmFjZU1vZGVsIH07XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHRyYW5lb3VzLWNsYXNzXG4gICAgY2xhc3MgVmVMaW5lYXJTZWxlY3Rpb24ge1xuICAgICAgICBjb25zdHJ1Y3RvcihyYW5nZTogVmVSYW5nZSk7XG4gICAgfVxuXG4gICAgY29uc3QgdmU6IHtcbiAgICAgICAgUmFuZ2U6IHR5cGVvZiBWZVJhbmdlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuICAgICAgICBkbTogeyBMaW5lYXJTZWxlY3Rpb246IHR5cGVvZiBWZUxpbmVhclNlbGVjdGlvbiB9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuICAgICAgICBpbml0PzogeyB0YXJnZXQ6IFZlVGFyZ2V0IH07XG4gICAgfTtcbn1cblxuZXhwb3J0IHt9O1xuXG4oKCkgPT4ge1xuICAgIGlmIChtdy5jb25maWcuZ2V0KCd3Z05hbWVzcGFjZU51bWJlcicpIDwgMCkgcmV0dXJuOyAvLyBEb24ndCBydW4gaW4gdmlydHVhbCBuYW1lc3BhY2VzXG4gICAgaWYgKCFtdy5jb25maWcuZ2V0KCd3Z0lzUHJvYmFibHlFZGl0YWJsZScpKSByZXR1cm47IC8vIERvbid0IHJ1biBpZiB1c2VyIGNhbid0IGVkaXQgcGFnZVxuXG4gICAgY29uc3QgZGVwZW5kZW5jaWVzID0gWydtZWRpYXdpa2kudXRpbCcsICdqcXVlcnkudGV4dFNlbGVjdGlvbiddO1xuXG4gICAgaWYgKG13LmNvbmZpZy5nZXQoJ3NraW4nKSAhPT0gJ21pbmVydmEnKSBkZXBlbmRlbmNpZXMucHVzaCgnbW9iaWxlLmVkaXRvci5vdmVybGF5Jyk7XG5cbiAgICBtdy5sb2FkZXIudXNpbmcoZGVwZW5kZW5jaWVzLCAoKSA9PiB7XG4gICAgICAgIGxldCBzaG91bGRBZGRTY3JpcHRNZXNzYWdlID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgU0NSSVBUX01FU1NBR0UgPSAnQ2xlYW5lZCB1cCBhcnRpY2xlIGNvbnRlbnQgKHZpYSBbW1VzZXI6RWVqaXQ0My9zY3JpcHRzL2FydGljbGUtY2xlYW5lcnxhcnRpY2xlLWNsZWFuZXJdXSknO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGVzIHRoZSBzdW1tYXJ5IHRleHRhcmVhIHdpdGggdGhlIHNjcmlwdCBtZXNzYWdlIGlmIGl0IGlzIG5vdCBhbHJlYWR5IHByZXNlbnQuXG4gICAgICAgICAqIEBwYXJhbSB0ZXh0YXJlYSBUaGUgc3VtbWFyeSB0ZXh0YXJlYSBlbGVtZW50IHRvIHVwZGF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVN1bW1hcnkodGV4dGFyZWE6IEhUTUxUZXh0QXJlYUVsZW1lbnQgfCBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgICAvLyBBZGQgdGltZW91dCBiZWZvcmUgc2V0dGluZyB0ZXh0YXJlYSB2YWx1ZSBhcyB0aGlzIGlzIG92ZXJ3cml0dGVuIHNvbWV0aW1lcyBmb3Igc29tZSByZWFzb25cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGV4dGFyZWEudmFsdWUuaW5jbHVkZXMoU0NSSVBUX01FU1NBR0Uuc2xpY2UoMSkpKVxuICAgICAgICAgICAgICAgICAgICB0ZXh0YXJlYS52YWx1ZSArPVxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dGFyZWEudmFsdWUgJiYgIXRleHRhcmVhLnZhbHVlLnN0YXJ0c1dpdGgoJy8qICcpICYmICF0ZXh0YXJlYS52YWx1ZS5lbmRzV2l0aCgnICovICcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgOyAke1NDUklQVF9NRVNTQUdFLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgU0NSSVBUX01FU1NBR0Uuc2xpY2UoMSl9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogU0NSSVBUX01FU1NBR0U7XG4gICAgICAgICAgICB9LCAwKTtcblxuICAgICAgICAgICAgc2hvdWxkQWRkU2NyaXB0TWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZXMgdGhlIGNsaWNrIGV2ZW50IGZvciB0aGUgYWN0aXZhdGlvbiBidXR0b24uXG4gICAgICAgICAqIEBwYXJhbSBldmVudCBUaGUgbW91c2UgZXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIGNsaWNrLlxuICAgICAgICAgKi9cbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQWN0aXZhdGlvbihldmVudDogTW91c2VFdmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgY29uc3QgZWRpdG9yID0gJChtdy5jb25maWcuZ2V0KCdza2luJykgPT09ICdtaW5lcnZhJyA/ICcjd2lraXRleHQtZWRpdG9yJyA6ICcjd3BUZXh0Ym94MScpO1xuICAgICAgICAgICAgaWYgKGVkaXRvci5sZW5ndGggPT09IDApIHJldHVybiBtdy5ub3RpZnkoJ0VkaXQgYm94IG5vdCBmb3VuZCEnLCB7IHR5cGU6ICdlcnJvcicsIGF1dG9IaWRlU2Vjb25kczogJ3Nob3J0JyB9KTtcblxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxUZXh0ID0gZWRpdG9yLnRleHRTZWxlY3Rpb24oJ2dldENvbnRlbnRzJyk7XG5cbiAgICAgICAgICAgIGxldCBmaW5hbFRleHQgPSBvcmlnaW5hbFRleHQ7XG5cbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBTdHJheVVuaWNvZGVDaGFyYWN0ZXJzKGZpbmFsVGV4dCk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwU2VjdGlvbkhlYWRlcnMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBNYWdpY1dvcmRzKGZpbmFsVGV4dCk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwRGlzcGxheXRpdGxlc0FuZERlZmF1bHRzb3J0cyhmaW5hbFRleHQpO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gY2xlYW51cENhdGVnb3JpZXMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBMaW5rcyhmaW5hbFRleHQsIFtjbGVhbnVwSW1wcm9wZXJDaGFyYWN0ZXJzLCBjbGVhbnVwWWVhclJhbmdlc10pO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gY2xlYW51cFN0cmF5TWFya3VwKGZpbmFsVGV4dCk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBjbGVhbnVwU3BhY2luZyhmaW5hbFRleHQpO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gY2xlYW51cFJlZmVyZW5jZXMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGF3YWl0IGZvcm1hdFRlbXBsYXRlcyhmaW5hbFRleHQpO1xuICAgICAgICAgICAgZmluYWxUZXh0ID0gcmVtb3ZlQ29tbWVudHMoZmluYWxUZXh0KTtcbiAgICAgICAgICAgIGZpbmFsVGV4dCA9IGNsZWFudXBTcGFjaW5nKGZpbmFsVGV4dCwgdHJ1ZSk7XG4gICAgICAgICAgICBmaW5hbFRleHQgPSBhdXRvVGFnUGFnZShmaW5hbFRleHQpO1xuXG4gICAgICAgICAgICBpZiAob3JpZ2luYWxUZXh0ID09PSBmaW5hbFRleHQpIG13Lm5vdGlmeSgnTm8gY2hhbmdlcyB0byBiZSBtYWRlIHRvIHRoZSBhcnRpY2xlIScsIHsgdHlwZTogJ3dhcm4nLCBhdXRvSGlkZVNlY29uZHM6ICdzaG9ydCcgfSk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodmUuaW5pdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdXJmYWNlTW9kZWwgPSB2ZS5pbml0LnRhcmdldC5nZXRTdXJmYWNlKCkuZ2V0TW9kZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBzdXJmYWNlTW9kZWwuZ2V0TGluZWFyRnJhZ21lbnQoc3VyZmFjZU1vZGVsLmdldFJhbmdlRnJvbVNvdXJjZU9mZnNldHMoMCwgb3JpZ2luYWxUZXh0Lmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudC5pbnNlcnRDb250ZW50KGZpbmFsVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHN1cmZhY2VNb2RlbC5zZXRTZWxlY3Rpb24obmV3IHZlLmRtLkxpbmVhclNlbGVjdGlvbihuZXcgdmUuUmFuZ2UoMCwgMCkpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlZGl0b3IudGV4dFNlbGVjdGlvbignc2V0Q29udGVudHMnLCBmaW5hbFRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci50ZXh0U2VsZWN0aW9uKCdzZXRTZWxlY3Rpb24nLCB7IHN0YXJ0OiAwIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG13Lm5vdGlmeSgnQXJ0aWNsZSBjbGVhbnVwIGNvbXBsZXRlIScsIHsgdHlwZTogJ3N1Y2Nlc3MnLCBhdXRvSGlkZVNlY29uZHM6ICdzaG9ydCcgfSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzdW1tYXJ5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjd3BTdW1tYXJ5Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3VtbWFyeUlucHV0KSB1cGRhdGVTdW1tYXJ5KHN1bW1hcnlJbnB1dCk7XG4gICAgICAgICAgICAgICAgZWxzZSBzaG91bGRBZGRTY3JpcHRNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtdy5jb25maWcuZ2V0KCdza2luJykgPT09ICdtaW5lcnZhJykge1xuICAgICAgICAgICAgLy8gU2V0IHVwIGhvb2sgdG8gYWRkIGJ1dHRvbiB0byBlZGl0aW5nIHRvb2xiYXJcbiAgICAgICAgICAgIG13Lmhvb2soJ21vYmlsZUZyb250ZW5kLmVkaXRvck9wZW5lZCcpLmFkZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyU3dpdGNoZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PignLm92ZXJsYXktaGVhZGVyIC5zd2l0Y2hlci1jb250YWluZXInKSE7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0b29sID0gbmV3IE9PLnVpLkJ1dHRvbldpZGdldCh7IGljb246ICdhcnRpY2xlQ2hlY2snLCBmcmFtZWQ6IGZhbHNlIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gdG9vbC4kZWxlbWVudFswXTtcbiAgICAgICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVBY3RpdmF0aW9uKTtcblxuICAgICAgICAgICAgICAgIGhlYWRlclN3aXRjaGVyLmJlZm9yZShidXR0b24pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFNldCB1cCBob29rIGZvciB1cGRhdGluZyBlZGl0IHN1bW1hcnlcbiAgICAgICAgICAgIG13Lmhvb2soJ3dpa2lwYWdlLmNvbnRlbnQnKS5hZGQoKGNvbnRlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgaWYgdHJpZ2dlcmVkIGJ5IG1haW4gY29udGVudCBsb2FkIGluc3RlYWQgb2YgcHJldmlld1xuICAgICAgICAgICAgICAgIGlmICghY29udGVudFswXT8uY2xhc3NMaXN0LmNvbnRhaW5zKCdwcmV2aWV3JykpIHJldHVybjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktY29uZGl0aW9uXG5cbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkQWRkU2NyaXB0TWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdW1tYXJ5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcuc3VtbWFyeS1pbnB1dCB0ZXh0YXJlYScpITtcblxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVTdW1tYXJ5KHN1bW1hcnlJbnB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBTZXQgdXAgbGluayBpbiBzaWRlIG1lbnVcbiAgICAgICAgICAgIG13LnV0aWwuYWRkQ1NTKGBcbiNhcnRpY2xlLWNsZWFuZXIge1xuICAgIGRpc3BsYXk6IG5vbmU7XG59XG5cbiNjb250ZW50Omhhcygjd3BUZXh0Ym94MSkgI2FydGljbGUtY2xlYW5lciB7XG4gICAgZGlzcGxheTogdW5zZXQ7XG59YCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBtdy51dGlsLmFkZFBvcnRsZXRMaW5rKFxuICAgICAgICAgICAgICAgIG13LmNvbmZpZy5nZXQoJ3NraW4nKSA9PT0gJ21pbmVydmEnID8gJ3AtbmF2aWdhdGlvbicgOiAncC1jYWN0aW9ucycsXG4gICAgICAgICAgICAgICAgJyMnLFxuICAgICAgICAgICAgICAgICdQZXJmb3JtIGFydGljbGUgY2xlYW51cCcsXG4gICAgICAgICAgICAgICAgJ2FydGljbGUtY2xlYW5lcicsXG4gICAgICAgICAgICApITtcbiAgICAgICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVBY3RpdmF0aW9uKTtcblxuICAgICAgICAgICAgLy8gU2V0IHVwIGhvb2sgZm9yIHVwZGF0aW5nIGVkaXQgc3VtbWFyeSBpbiBWaXN1YWxFZGl0b3JcbiAgICAgICAgICAgIG13Lmhvb2soJ3ZlLnNhdmVEaWFsb2cuc3RhdGVDaGFuZ2VkJykuYWRkKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkQWRkU2NyaXB0TWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdW1tYXJ5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxUZXh0QXJlYUVsZW1lbnQ+KCcudmUtdWktbXdTYXZlRGlhbG9nLXN1bW1hcnkgdGV4dGFyZWEnKSE7XG5cbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3VtbWFyeShzdW1tYXJ5SW5wdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59KSgpO1xuXG4vKipcbiAqIEVzY2FwZXMgcmVnZXggY2hhcmFjdGVycyBpbiBhIHN0cmluZy5cbiAqIEBwYXJhbSBzdHJpbmcgVGhlIHN0cmluZyB0byBlc2NhcGUgcmVnZXggY2hhcmFjdGVycyBpbi5cbiAqL1xuZnVuY3Rpb24gZXNjYXBlUmVnZXhDaGFyYWN0ZXJzKHN0cmluZzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlQWxsKC9bJCgpKisuP1tcXFxcXFxdXnt8fV0vZywgJ1xcXFwkJicpO1xufVxuXG4vKipcbiAqIENsZWFucyB1cCBzdHJheSBVbmljb2RlIGNoYXJhY3RlcnMgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwU3RyYXlVbmljb2RlQ2hhcmFjdGVycyhjb250ZW50OiBzdHJpbmcpIHtcbiAgICAvLyBUaGlzIHJlZ2V4IHJlbW92ZXM6XG4gICAgLy8gICAtIEFTQ0lJIGNvbnRyb2wgY2hhcmFjdGVycyAoXFx1MDAwMC1cXHUwMDA5LCBcXHUwMDBCLVxcdTAwMEMsIFxcdTAwMEUtXFx1MDAxRilcbiAgICAvLyAgIC0gREVMIChcXHUwMDdGKVxuICAgIC8vICAgLSBTb2Z0IGh5cGhlbiAoXFx1MDBBRClcbiAgICAvLyAgIC0gWmVyby13aWR0aCBjaGFyYWN0ZXJzIGFuZCBkaXJlY3Rpb25hbGl0eSBtYXJrcyAoXFx1MjAwQi1cXHUyMDBGKVxuICAgIC8vICAgLSBCaWRpIG92ZXJyaWRlIGFuZCBmb3JtYXR0aW5nIGNoYXJhY3RlcnMgKFxcdTIwMkEtXFx1MjAyRSlcbiAgICAvLyAgIC0gV29yZCBqb2luZXIgYW5kIGludmlzaWJsZSBzZXBhcmF0b3IgKFxcdTIwNjAsIFxcdTIwNjMpXG4gICAgLy8gICAtIEJ5dGUgb3JkZXIgbWFyayAoQk9NKSAoXFx1RkVGRilcbiAgICBjb25zdCBTVFJBWV9VTklDT0RFX1JFR0VYID0gL1tcXHUwMDAwLVxcdTAwMDlcXHUwMDBCXFx1MDAwQ1xcdTAwMEUtXFx1MDAxRlxcdTAwN0ZcXHUwMEFEXFx1MjAwQi1cXHUyMDBGXFx1MjAyQS1cXHUyMDJFXFx1MjA2MFxcdTIwNjNcXHVGRUZGXS9nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnRyb2wtcmVnZXhcblxuICAgIGlmIChTVFJBWV9VTklDT0RFX1JFR0VYLnRlc3QoY29udGVudCkpIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoU1RSQVlfVU5JQ09ERV9SRUdFWCwgJycpO1xuXG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIHNlY3Rpb24gaGVhZGVycyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBTZWN0aW9uSGVhZGVycyhjb250ZW50OiBzdHJpbmcpIHtcbiAgICBjb25zdCBDT01NT05fUkVQTEFDRU1FTlRTID0ge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb24gKi9cbiAgICAgICAgJ1NlZSBhbHNvJzogWydhbHNvIHNlZSddLFxuICAgICAgICAnUmVmZXJlbmNlcyc6IFsncmVmZXJlbmNlJywgJ3NvdXJjZScsICdzb3VyY2VzJywgJ2NpdGF0aW9uJywgJ2NpdGF0aW9ucyddLFxuICAgICAgICAnRnVydGhlciByZWFkaW5nJzogWydmdXJ0aGVyIHJlYWRpbmcnXSxcbiAgICAgICAgJ0V4dGVybmFsIGxpbmtzJzogWydleHRlcm5hbCBsaW5rJywgJ3dlYmxpbmsnLCAnd2VibGlua3MnXSxcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb24gKi9cbiAgICB9O1xuXG4gICAgY29uc3QgQ09NTU9OX01JU0NBUElUQUxJWkVEX1dPUkRTID0gWydhbmQnLCAnYmlydGgnLCAnY2FyZWVyJywgJ2RlYXRoJywgJ2VkdWNhdGlvbicsICdsaWZlJywgJ29mJywgJ29yJ107XG5cbiAgICBjb25zdCByZXZlcnNlQ29tbW9uUmVwbGFjZW1lbnRzID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICBPYmplY3QuZW50cmllcyhDT01NT05fUkVQTEFDRU1FTlRTKS5mbGF0TWFwKChba2V5LCB2YWx1ZXNdKSA9PiBbXG4gICAgICAgICAgICBba2V5LnRvTG93ZXJDYXNlKCksIGtleV0sXG4gICAgICAgICAgICAuLi4odmFsdWVzLm1hcCgodmFsdWUpID0+IFt2YWx1ZSwga2V5XSkgYXMgW3N0cmluZywgc3RyaW5nXVtdKSwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktdHlwZS1hc3NlcnRpb25cbiAgICAgICAgXSksXG4gICAgKTtcblxuICAgIGNvbnN0IGhlYWRlcnMgPSBjb250ZW50Lm1hdGNoQWxsKC8oPzw9XnxcXG4pXFxuKig/PHN0YXJ0TWFya3VwPj0rKSAqKD88bmFtZT4uKj8pICooPzxlbmRNYXJrdXA+PSspKFxcbit8JCkvZyk7XG5cbiAgICBjb25zdCBwYXJzZWRIZWFkZXJzID0gWy4uLmhlYWRlcnNdLm1hcCgoaGVhZGVyKSA9PiB7XG4gICAgICAgIGxldCB7IG5hbWUgfSA9IGhlYWRlci5ncm91cHMhO1xuICAgICAgICBjb25zdCB7IHN0YXJ0TWFya3VwLCBlbmRNYXJrdXAgfSA9IGhlYWRlci5ncm91cHMhO1xuXG4gICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2VBbGwoLyd7M30vZywgJycpO1xuXG4gICAgICAgIGNvbnN0IGxpbmtzID0gbmFtZS5tYXRjaEFsbCgvXFxbXFxbKC4rPyldXS9nKS50b0FycmF5KCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBsaW5rIG9mIGxpbmtzKSBuYW1lID0gbmFtZS5yZXBsYWNlKGxpbmtbMF0sIGxpbmtbMV0uc3BsaXQoJ3wnKS5hdCgtMSkhKTtcblxuICAgICAgICBjb25zdCBkZXB0aCA9IE1hdGgubWF4KHN0YXJ0TWFya3VwLmxlbmd0aCwgZW5kTWFya3VwLmxlbmd0aCwgMik7XG5cbiAgICAgICAgcmV0dXJuIHsgbmFtZSwgZGVwdGgsIG9yaWdpbmFsOiBoZWFkZXJbMF0gfTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGhlYWRlcnNTZXQgPSBuZXcgU2V0KHBhcnNlZEhlYWRlcnMubWFwKChoZWFkZXIpID0+IGhlYWRlci5uYW1lKSk7XG5cbiAgICBjb25zdCB0aXRsZVNwYWNlciA9IHBhcnNlZEhlYWRlcnMubGVuZ3RoID4gMCA/ICgvXlxcbio9KyB8ID0rXFxuKyQvLnRlc3QocGFyc2VkSGVhZGVyc1swXS5vcmlnaW5hbCkgPyAnICcgOiAnJykgOiAnJztcblxuICAgIGZvciAoY29uc3QgaGVhZGVyIG9mIHBhcnNlZEhlYWRlcnMpIHtcbiAgICAgICAgY29uc3QgbG93ZXJjYXNlTmFtZSA9IGhlYWRlci5uYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgY29uc3QgcmVwbGFjZWROYW1lID1cbiAgICAgICAgICAgIGxvd2VyY2FzZU5hbWUgaW4gcmV2ZXJzZUNvbW1vblJlcGxhY2VtZW50cyAmJiAhaGVhZGVyc1NldC5oYXMocmV2ZXJzZUNvbW1vblJlcGxhY2VtZW50c1tsb3dlcmNhc2VOYW1lXSlcbiAgICAgICAgICAgICAgICA/IHJldmVyc2VDb21tb25SZXBsYWNlbWVudHNbbG93ZXJjYXNlTmFtZV1cbiAgICAgICAgICAgICAgICA6IGhlYWRlci5uYW1lO1xuXG4gICAgICAgIGxldCBjYXBpdGFsaXplZE5hbWUgPSByZXBsYWNlZE5hbWU7XG5cbiAgICAgICAgZm9yIChjb25zdCB3b3JkIG9mIENPTU1PTl9NSVNDQVBJVEFMSVpFRF9XT1JEUylcbiAgICAgICAgICAgIGNhcGl0YWxpemVkTmFtZSA9IGNhcGl0YWxpemVkTmFtZS5yZXBsYWNlQWxsKG5ldyBSZWdFeHAoYFxcXFxiJHt3b3JkfVxcXFxiYCwgJ2dpJyksIHdvcmQpO1xuXG4gICAgICAgIGNhcGl0YWxpemVkTmFtZSA9IGNhcGl0YWxpemVkTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGNhcGl0YWxpemVkTmFtZS5zbGljZSgxKTtcblxuICAgICAgICBjb25zdCBvdXRwdXQgPSBgJHsnPScucmVwZWF0KGhlYWRlci5kZXB0aCl9JHt0aXRsZVNwYWNlcn0ke2NhcGl0YWxpemVkTmFtZX0ke3RpdGxlU3BhY2VyfSR7Jz0nLnJlcGVhdChoZWFkZXIuZGVwdGgpfWA7XG5cbiAgICAgICAgaWYgKGhlYWRlci5vcmlnaW5hbCAhPT0gb3V0cHV0KSBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKGhlYWRlci5vcmlnaW5hbCwgYFxcblxcbiR7b3V0cHV0fVxcbmApO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgdW5uZWNlc3NhcnkgbWFnaWMgd29yZHMgZnJvbSBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBNYWdpY1dvcmRzKGNvbnRlbnQ6IHN0cmluZykge1xuICAgIHJldHVybiBjb250ZW50LnJlcGxhY2VBbGwoL19fKElOREVYfE5PSU5ERVh8TkVXU0VDVElPTkxJTkt8Tk9ORVdTRUNUSU9OTElOS3xOT0VESVRTRUNUSU9OfERJU0FNQklHfFNUQVRJQ1JFRElSRUNUfEZPUkNFVE9DKV9fXFxuKi9nLCAnJyk7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIERJU1BMQVlUSVRMRXMgYW5kIERFRkFVTFRTT1JUcyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBEaXNwbGF5dGl0bGVzQW5kRGVmYXVsdHNvcnRzKGNvbnRlbnQ6IHN0cmluZykge1xuICAgIGNvbnN0IHRhZ3MgPSBjb250ZW50Lm1hdGNoQWxsKC97eyhkaXNwbGF5dGl0bGV8ZGVmYXVsdHNvcnQpWzp8XSguKj8pfX0vZ2kpO1xuXG4gICAgY29uc3QgcGFyc2VkVGFncyA9IFsuLi50YWdzXS5tYXAoKHRhZykgPT4ge1xuICAgICAgICBjb25zdCBbZnVsbFRhZywgdHlwZSwgdmFsdWVdID0gdGFnO1xuXG4gICAgICAgIHJldHVybiB7IHR5cGU6IHR5cGUudG9VcHBlckNhc2UoKSwgdmFsdWUsIG9yaWdpbmFsOiBmdWxsVGFnIH07XG4gICAgfSk7XG5cbiAgICBjb25zdCBjdXJyZW50VGl0bGUgPSBtdy5UaXRsZS5uZXdGcm9tVGV4dChtdy5jb25maWcuZ2V0KCd3Z1BhZ2VOYW1lJykpITtcblxuICAgIGZvciAoY29uc3QgdGFnIG9mIHBhcnNlZFRhZ3MpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxUYWdSZWdleCA9IG5ldyBSZWdFeHAoYCR7ZXNjYXBlUmVnZXhDaGFyYWN0ZXJzKHRhZy5vcmlnaW5hbCl9XFxuKmAsICdnJyk7XG5cbiAgICAgICAgY29uc3QgdW5wcmVmaXhlZFRpdGxlID0gbXcuVGl0bGUubmV3RnJvbVRleHQodGFnLnZhbHVlKTtcblxuICAgICAgICBpZiAoIXVucHJlZml4ZWRUaXRsZSkgY29udGludWU7XG5cbiAgICAgICAgY29uc3QgdGl0bGUgPSBtdy5UaXRsZS5tYWtlVGl0bGUoY3VycmVudFRpdGxlLmdldE5hbWVzcGFjZUlkKCksIHVucHJlZml4ZWRUaXRsZS5nZXRNYWluVGV4dCgpKTtcblxuICAgICAgICBpZiAoIXRpdGxlKSBjb250aW51ZTtcblxuICAgICAgICBjb25zdCBkZWZhdWx0S2V5ID0gdGFnLnR5cGUgPT09ICdESVNQTEFZVElUTEUnID8gY3VycmVudFRpdGxlLnRvVGV4dCgpIDogY3VycmVudFRpdGxlLmdldE1haW5UZXh0KCk7XG5cbiAgICAgICAgY29uc3QgY3VzdG9tS2V5ID0gdGFnLnR5cGUgPT09ICdESVNQTEFZVElUTEUnID8gdGl0bGUudG9UZXh0KCkgOiB0aXRsZS5nZXRNYWluVGV4dCgpO1xuXG4gICAgICAgIGlmIChkZWZhdWx0S2V5ID09PSBjdXN0b21LZXkpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2Uob3JpZ2luYWxUYWdSZWdleCwgJycpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuZXdUZXh0ID0gYHt7JHt0YWcudHlwZX06JHtjdXN0b21LZXl9fX1cXG5gO1xuXG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2Uob3JpZ2luYWxUYWdSZWdleCwgbmV3VGV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIGNhdGVnb3JpZXMgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwQ2F0ZWdvcmllcyhjb250ZW50OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gY29udGVudC5yZXBsYWNlQWxsKFxuICAgICAgICAvKFxcW1xcW3x9fSk6P2NhdGVnb3J5OiguKj8pKF1dfH19KS9naSxcbiAgICAgICAgYFtbJHttdy5jb25maWcuZ2V0KCd3Z0Nhbm9uaWNhbE5hbWVzcGFjZScpID09PSAnRHJhZnQnID8gJzonIDogJyd9Q2F0ZWdvcnk6JDJdXWAsXG4gICAgKTtcbn1cblxuaW50ZXJmYWNlIExpbmtJbmZvcm1hdGlvbiB7XG4gICAgc3RhcnQ6IG51bWJlcjtcbiAgICBlbmQ6IG51bWJlcjtcbiAgICBpc05lc3RlZDogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBDbGVhbnMgdXAgbGlua3MgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICogQHBhcmFtIGZ1bmN0aW9uc0NhbGxlZFdoaWxlRXNjYXBlZCBUaGUgZnVuY3Rpb25zIGNhbGxlZCB3aGlsZSB0aGUgbGlua3MgYXJlIGVzY2FwZWQuXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBMaW5rcyhjb250ZW50OiBzdHJpbmcsIGZ1bmN0aW9uc0NhbGxlZFdoaWxlRXNjYXBlZDogKChjb250ZW50OiBzdHJpbmcsIHJ1bjogMSB8IDIpID0+IHN0cmluZylbXSkge1xuICAgIGNvbnN0IGNsb3NlZExpbmtzOiBMaW5rSW5mb3JtYXRpb25bXSA9IFtdO1xuICAgIGNvbnN0IGxpbmtzOiBMaW5rSW5mb3JtYXRpb25bXSA9IFtdO1xuXG4gICAgbGV0IGlzSW5zaWRlTm93aWtpID0gZmFsc2U7XG4gICAgbGV0IGlzSW5zaWRlQ29tbWVudCA9IGZhbHNlO1xuXG4gICAgbGV0IGN1cnJlbnRMb2NhdGlvbiA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGNvbnRlbnQgZm9sbG93aW5nIHRoZSBjdXJyZW50IGxvY2F0aW9uIG1hdGNoZXMgdGhlIGRlc2lyZWQgc3RyaW5nLlxuICAgICAqIEBwYXJhbSBkZXNpcmVkU3RyaW5nIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0gc2hvdWxkSW5jcmVtZW50IFdoZXRoZXIgdG8gaW5jcmVtZW50IHRoZSBjdXJyZW50IGxvY2F0aW9uIGlmIHRoZSBzdHJpbmcgaXMgZm91bmQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBdFN0cmluZyhkZXNpcmVkU3RyaW5nOiBzdHJpbmcsIHNob3VsZEluY3JlbWVudCA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgaXNBdFN0cmluZyA9IGNvbnRlbnQuc2xpY2UoY3VycmVudExvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24gKyBkZXNpcmVkU3RyaW5nLmxlbmd0aCkgPT09IGRlc2lyZWRTdHJpbmc7XG5cbiAgICAgICAgaWYgKGlzQXRTdHJpbmcgJiYgc2hvdWxkSW5jcmVtZW50KSBjdXJyZW50TG9jYXRpb24gKz0gZGVzaXJlZFN0cmluZy5sZW5ndGg7XG5cbiAgICAgICAgcmV0dXJuIGlzQXRTdHJpbmc7XG4gICAgfVxuXG4gICAgd2hpbGUgKGN1cnJlbnRMb2NhdGlvbiA8IGNvbnRlbnQubGVuZ3RoKVxuICAgICAgICBpZiAoaXNBdFN0cmluZygnPG5vd2lraT4nKSkgaXNJbnNpZGVOb3dpa2kgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCc8L25vd2lraT4nKSkgaXNJbnNpZGVOb3dpa2kgPSBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnPCEtLScpKSBpc0luc2lkZUNvbW1lbnQgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCctLT4nKSkgaXNJbnNpZGVDb21tZW50ID0gZmFsc2U7XG4gICAgICAgIGVsc2UgaWYgKCFpc0luc2lkZU5vd2lraSAmJiAhaXNJbnNpZGVDb21tZW50KVxuICAgICAgICAgICAgaWYgKGlzQXRTdHJpbmcoJ1tbJykpIGxpbmtzLnB1c2goeyBzdGFydDogY3VycmVudExvY2F0aW9uIC0gMiwgZW5kOiAtMSwgaXNOZXN0ZWQ6IGxpbmtzLmxlbmd0aCA+IDAgfSk7XG4gICAgICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCddXScpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdExpbmsgPSBsaW5rcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWxhc3RMaW5rKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGxhc3RMaW5rLmVuZCA9IGN1cnJlbnRMb2NhdGlvbjtcblxuICAgICAgICAgICAgICAgIGNsb3NlZExpbmtzLnB1c2gobGFzdExpbmspO1xuICAgICAgICAgICAgfSBlbHNlIGN1cnJlbnRMb2NhdGlvbisrO1xuICAgICAgICBlbHNlIGN1cnJlbnRMb2NhdGlvbisrO1xuXG4gICAgY29uc3QgbmV3TGlua0NvbnRlbnQ6IFtMaW5rSW5mb3JtYXRpb24sIHN0cmluZ11bXSA9IFtdO1xuXG4gICAgY29uc3QgbmFtZXNwYWNlTmFtZXMgPSBPYmplY3QudmFsdWVzKG13LmNvbmZpZy5nZXQoJ3dnRm9ybWF0dGVkTmFtZXNwYWNlcycpKTtcblxuICAgIGZvciAoY29uc3QgbGlua0xvY2F0aW9uIG9mIGNsb3NlZExpbmtzKSB7XG4gICAgICAgIGNvbnN0IGlubmVyTGluayA9IGNvbnRlbnQuc2xpY2UobGlua0xvY2F0aW9uLnN0YXJ0ICsgMiwgbGlua0xvY2F0aW9uLmVuZCAtIDIpO1xuXG4gICAgICAgIGNvbnN0IFt1bnBhcnNlZExpbmssIC4uLnBhcmFtZXRlcnNdID0gaW5uZXJMaW5rLnNwbGl0KCd8Jyk7XG5cbiAgICAgICAgLy8gUmVwbGFjZSBsaW5rIG5hbWVzIHNvIHRoZXNlIHdvbid0IGJlIGFmZmVjdGVkIGJ5IGZ1bmN0aW9ucyBjYWxsZWQgd2hpbGUgZXNjYXBlZFxuICAgICAgICBjb250ZW50ID1cbiAgICAgICAgICAgIGNvbnRlbnQuc2xpY2UoMCwgbGlua0xvY2F0aW9uLnN0YXJ0ICsgMikgK1xuICAgICAgICAgICAgJ1xcMCcucmVwZWF0KHVucGFyc2VkTGluay5sZW5ndGgpICtcbiAgICAgICAgICAgIGNvbnRlbnQuc2xpY2UobGlua0xvY2F0aW9uLnN0YXJ0ICsgMiArIHVucGFyc2VkTGluay5sZW5ndGgpO1xuXG4gICAgICAgIGxldCBsaW5rID0gdW5wYXJzZWRMaW5rLnJlcGxhY2VBbGwoJ18nLCAnICcpLnRyaW0oKTtcbiAgICAgICAgbGV0IGFsdFRleHQgPSBwYXJhbWV0ZXJzLmpvaW4oJ3wnKTtcbiAgICAgICAgYWx0VGV4dCA9IGFsdFRleHQgPT09ICcgJyA/ICcgJyA6IGFsdFRleHQudHJpbSgpO1xuXG4gICAgICAgIGNvbnN0IGlzRmlyc3RDaGFyYWN0ZXJDb2xvbiA9IGxpbmsuc3RhcnRzV2l0aCgnOicpO1xuICAgICAgICBpZiAoaXNGaXJzdENoYXJhY3RlckNvbG9uKSBsaW5rID0gbGluay5zbGljZSgxKTtcblxuICAgICAgICBsZXQgc2hvdWxkRmlyc3RDaGFyYWN0ZXJCZUNvbG9uID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgbGlua1VwcGVyY2FzZVN0YXJ0ID0gbGluay5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGxpbmsuc2xpY2UoMSk7XG4gICAgICAgIGNvbnN0IGxpbmtMb3dlcmNhc2VTdGFydCA9IGxpbmsuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBsaW5rLnNsaWNlKDEpO1xuXG4gICAgICAgIGxldCBuYW1lc3BhY2UgPSBsaW5rLnNwbGl0KCc6JylbMF07XG4gICAgICAgIG5hbWVzcGFjZSA9IG5hbWVzcGFjZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWVzcGFjZS5zbGljZSgxKTtcblxuICAgICAgICBpZiAobGluay5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgICBpZiAobGlua1VwcGVyY2FzZVN0YXJ0LnN0YXJ0c1dpdGgoJ0ltYWdlOicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkU3RhcnRVcHBlcmNhc2UgPSBsaW5rLnN0YXJ0c1dpdGgoJ0ltYWdlOicpO1xuXG4gICAgICAgICAgICAgICAgbGluayA9IGAke3Nob3VsZFN0YXJ0VXBwZXJjYXNlID8gJ0YnIDogJ2YnfWlsZToke2xpbmsuc2xpY2UoNil9YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGlzRmlyc3RDaGFyYWN0ZXJDb2xvbiAmJlxuICAgICAgICAgICAgICAgIChbJ0ltYWdlJywgJ0ZpbGUnLCAnQ2F0ZWdvcnknXS5pbmNsdWRlcyhsaW5rVXBwZXJjYXNlU3RhcnQuc3BsaXQoJzonKVswXSkgfHwgIW5hbWVzcGFjZU5hbWVzLmluY2x1ZGVzKG5hbWVzcGFjZSkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgc2hvdWxkRmlyc3RDaGFyYWN0ZXJCZUNvbG9uID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBiZWZvcmVMaW5rVGV4dCA9ICcnO1xuICAgICAgICBsZXQgYWZ0ZXJMaW5rVGV4dCA9ICcnO1xuXG4gICAgICAgIGNvbnN0IG1hdGNoZWRNYXJrdXAgPSAvXignezIsfSkoLio/KVxcMSQvLmV4ZWMoYWx0VGV4dCk7XG5cbiAgICAgICAgaWYgKG1hdGNoZWRNYXJrdXAgJiYgIW1hdGNoZWRNYXJrdXBbMl0uaW5jbHVkZXMoXCInJ1wiKSkge1xuICAgICAgICAgICAgYmVmb3JlTGlua1RleHQgPSBtYXRjaGVkTWFya3VwWzFdO1xuICAgICAgICAgICAgYWx0VGV4dCA9IG1hdGNoZWRNYXJrdXBbMl0udHJpbSgpO1xuICAgICAgICAgICAgYWZ0ZXJMaW5rVGV4dCA9IG1hdGNoZWRNYXJrdXBbMV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoL1shLC46Oz9dJC8udGVzdChhbHRUZXh0KSAmJiAhWydJbWFnZScsICdGaWxlJywgJ0NhdGVnb3J5J10uaW5jbHVkZXMobGlua1VwcGVyY2FzZVN0YXJ0LnNwbGl0KCc6JylbMF0pKSB7XG4gICAgICAgICAgICBjb25zdCBhZGRlZFB1bmN0dWF0aW9uID0gYWx0VGV4dC5zbGljZSgtMSk7XG5cbiAgICAgICAgICAgIGlmICghbGluay5lbmRzV2l0aChhZGRlZFB1bmN0dWF0aW9uKSkge1xuICAgICAgICAgICAgICAgIGFmdGVyTGlua1RleHQgKz0gYWRkZWRQdW5jdHVhdGlvbjtcbiAgICAgICAgICAgICAgICBhbHRUZXh0ID0gYWx0VGV4dC5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGluayA9PT0gYWx0VGV4dCkgYWx0VGV4dCA9ICcnO1xuICAgICAgICBlbHNlIGlmIChuZXcgUmVnRXhwKGBeJHtlc2NhcGVSZWdleENoYXJhY3RlcnMobGluayl9W2Etel0rJGApLnRlc3QoYWx0VGV4dCkpIHtcbiAgICAgICAgICAgIGFmdGVyTGlua1RleHQgPSBhbHRUZXh0LnNsaWNlKGxpbmsubGVuZ3RoKSArIGFmdGVyTGlua1RleHQ7XG4gICAgICAgICAgICBhbHRUZXh0ID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IG5ld0xpbmsgb2YgW2xpbmtVcHBlcmNhc2VTdGFydCwgbGlua0xvd2VyY2FzZVN0YXJ0XSlcbiAgICAgICAgICAgIGlmIChuZXdMaW5rID09PSBhbHRUZXh0KSB7XG4gICAgICAgICAgICAgICAgbGluayA9IG5ld0xpbms7XG4gICAgICAgICAgICAgICAgYWx0VGV4dCA9ICcnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuZXcgUmVnRXhwKGBeJHtlc2NhcGVSZWdleENoYXJhY3RlcnMobmV3TGluayl9W2Etel0rJGApLnRlc3QoYWx0VGV4dCkpIHtcbiAgICAgICAgICAgICAgICBsaW5rID0gbmV3TGluaztcbiAgICAgICAgICAgICAgICBhZnRlckxpbmtUZXh0ID0gYWx0VGV4dC5zbGljZShuZXdMaW5rLmxlbmd0aCkgKyBhZnRlckxpbmtUZXh0O1xuICAgICAgICAgICAgICAgIGFsdFRleHQgPSAnJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAoYWx0VGV4dCAmJiBsaW5rLmluY2x1ZGVzKCc6JykgJiYgbmFtZXNwYWNlTmFtZXMuaW5jbHVkZXMobmFtZXNwYWNlKSkgfHxcbiAgICAgICAgICAgIGxpbmsuc3RhcnRzV2l0aCgnZmlsZTonKSB8fFxuICAgICAgICAgICAgbGluay5zdGFydHNXaXRoKCdjYXRlZ29yeTonKVxuICAgICAgICApXG4gICAgICAgICAgICBsaW5rID0gbGluay5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGxpbmsuc2xpY2UoMSk7XG5cbiAgICAgICAgbGluayA9IGAke3Nob3VsZEZpcnN0Q2hhcmFjdGVyQmVDb2xvbiA/ICc6JyA6ICcnfSR7bGlua31gO1xuXG4gICAgICAgIGxpbmsgPSBsaW5rLnBhZFN0YXJ0KHVucGFyc2VkTGluay5sZW5ndGgsICdcXDAnKTtcblxuICAgICAgICBjb25zdCBvdXRwdXQgPSBgJHtiZWZvcmVMaW5rVGV4dH1bWyR7bGlua30ke2FsdFRleHQgPyBgfCR7YWx0VGV4dH1gIDogJyd9XV0ke2FmdGVyTGlua1RleHR9YDtcblxuICAgICAgICBuZXdMaW5rQ29udGVudC5wdXNoKFtsaW5rTG9jYXRpb24sIG91dHB1dF0pO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgZnVuY3Rpb25Ub0NhbGwgb2YgZnVuY3Rpb25zQ2FsbGVkV2hpbGVFc2NhcGVkKSBjb250ZW50ID0gZnVuY3Rpb25Ub0NhbGwoY29udGVudCwgMSk7XG5cbiAgICBmb3IgKGxldCBsb29wQ291bnRlciA9IDA7IGxvb3BDb3VudGVyIDwgMjsgbG9vcENvdW50ZXIrKylcbiAgICAgICAgZm9yIChjb25zdCBbbGlua0RhdGEsIGxpbmtDb250ZW50XSBvZiBuZXdMaW5rQ29udGVudCkge1xuICAgICAgICAgICAgaWYgKGxvb3BDb3VudGVyID09PSAwICYmIGxpbmtEYXRhLmlzTmVzdGVkKSBjb250aW51ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGxvb3BDb3VudGVyID09PSAxICYmICFsaW5rRGF0YS5pc05lc3RlZCkgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPVxuICAgICAgICAgICAgICAgIGNvbnRlbnQuc2xpY2UoMCwgbGlua0RhdGEuc3RhcnQpICsgbGlua0NvbnRlbnQucGFkRW5kKGxpbmtEYXRhLmVuZCAtIGxpbmtEYXRhLnN0YXJ0LCAnXFwwJykgKyBjb250ZW50LnNsaWNlKGxpbmtEYXRhLmVuZCk7XG4gICAgICAgIH1cblxuICAgIGZvciAoY29uc3QgZnVuY3Rpb25Ub0NhbGwgb2YgZnVuY3Rpb25zQ2FsbGVkV2hpbGVFc2NhcGVkKSBjb250ZW50ID0gZnVuY3Rpb25Ub0NhbGwoY29udGVudCwgMik7XG5cbiAgICByZXR1cm4gY29udGVudC5yZXBsYWNlQWxsKCdcXDAnLCAnJyk7XG59XG5cbi8qKlxuICogQ2xlYW5zIHVwIGltcHJvcGVyIGNoYXJhY3RlcnMgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICogQHBhcmFtIHJ1biBUaGUgcnVuIG51bWJlciBvZiB0aGUgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNsZWFudXBJbXByb3BlckNoYXJhY3RlcnMoY29udGVudDogc3RyaW5nLCBydW46IDEgfCAyKSB7XG4gICAgY29uc3QgRUxJUFNJU19QTEFDRUhPTERFUiA9ICdcXHUwMDdGJztcbiAgICBjb25zdCBOQlNQX1BMQUNFSE9MREVSID0gJ1xcdTAwOUYnO1xuXG4gICAgaWYgKHJ1biA9PT0gMSkge1xuICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC9bXHUyMDFDXHUyMDFEXHUyMDFFXHUyMDFGXS9nLCAnXCInKTtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvW1x1MjAxOFx1MjAxOVx1MjAxQVx1MjAxQl0vZywgXCInXCIpO1xuICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKCdcdTIwMjYnLCBFTElQU0lTX1BMQUNFSE9MREVSKTtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgnXHUwMEEwJywgTkJTUF9QTEFDRUhPTERFUik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbChFTElQU0lTX1BMQUNFSE9MREVSLCAnLi4uJyk7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoTkJTUF9QTEFDRUhPTERFUiwgJyZuYnNwOycpO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIENsZWFucyB1cCB5ZWFyIHJhbmdlcyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKiBAcGFyYW0gcnVuIFRoZSBydW4gbnVtYmVyIG9mIHRoZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY2xlYW51cFllYXJSYW5nZXMoY29udGVudDogc3RyaW5nLCBydW46IDEgfCAyKSB7XG4gICAgaWYgKHJ1biA9PT0gMSlcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvKFxcKFxcZHszLDR9KSA/W1x1MjAxMlx1MjAxM1x1MjIxMi1dID8oXFxkezMsNH1cXCkpL2csIChvcmlnaW5hbCwgc3RhcnQsIGVuZCkgPT5cbiAgICAgICAgICAgIGAke3N0YXJ0fVx1MjAxMyR7ZW5kfWAucGFkRW5kKG9yaWdpbmFsLmxlbmd0aCwgJ1xcMCcpLFxuICAgICAgICApO1xuXG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBzdHJheSBtYXJrdXAgaW4gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGNsZWFuIHVwLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwU3RyYXlNYXJrdXAoY29udGVudDogc3RyaW5nKSB7XG4gICAgY29uc3QgU1RSQVlfTUFSS1VQX1JFR0VYRVMgPSBbXG4gICAgICAgIC8nKyhCb2xkfEl0YWxpYykoIHRleHQpPycrICovZyxcbiAgICAgICAgLyg8YmlnPikrQmlnKCB0ZXh0KT8oPFxcL2JpZz4pKyAqL2csXG4gICAgICAgIC8oPHNtYWxsPikrU21hbGwoIHRleHQpPyg8XFwvc21hbGw+KSsgKi9nLFxuICAgICAgICAvKDxzdXA+KStTdXBlcnNjcmlwdCggdGV4dCk/KDxcXC9zdXA+KSsgKi9nLFxuICAgICAgICAvKDxzdWI+KStTdWJzY3JpcHQoIHRleHQpPyg8XFwvc3ViPikrICovZyxcbiAgICAgICAgLyg8cz4pK1N0cmlrZXRocm91Z2goPFxcL3M+KSsgKi9nLFxuICAgICAgICAvKDx1PikrVW5kZXJsaW5lKDxcXC91PikrICovZyxcbiAgICAgICAgLyg8Y29kZT4pK0NvbXB1dGVyIGNvZGUoPFxcL2NvZGU+KSsgKi9nLFxuICAgICAgICAvKDxub3dpa2k+KStJbnNlcnQgbm9uLWZvcm1hdHRlZCB0ZXh0IGhlcmUoPFxcL25vd2lraT4pKyAqL2csXG4gICAgICAgIC89KyBIZWFkaW5nIHRleHQgPSsgKi9nLFxuICAgICAgICAvXFwqIEJ1bGxldGVkIGxpc3QgaXRlbSAqL2csXG4gICAgICAgIC8jIE51bWJlcmVkIGxpc3QgaXRlbSAqL2csXG4gICAgICAgIC88Z2FsbGVyeT5cXG5FeGFtcGxlLmpwZ1xcfENhcHRpb24xXFxuRXhhbXBsZS5qcGdcXHxDYXB0aW9uMlxcbjxcXC9nYWxsZXJ5PiAqL2csXG4gICAgICAgIC8jUkVESVJFQ1QgXFxbXFxbVGFyZ2V0IHBhZ2UgbmFtZV1dICovZyxcbiAgICAgICAgLzwhLS0gSW52aXNpYmxlIGNvbW1lbnQgLS0+ICovZyxcbiAgICAgICAgLzxcXHMqKGJpZ3xzbWFsbHxzdXB8c3VifHN8dXxjb2RlfG5vd2lraXxub2luY2x1ZGV8b25seWluY2x1ZGV8aW5jbHVkZW9ubHl8Y2VudGVyfGJsb2NrcXVvdGV8Z2FsbGVyeSlcXHMqKFxccytbXjw+XSopPz5cXHMqPFxccypcXC9cXHMqXFwxXFxzKj4vZ2ksXG4gICAgXTtcblxuICAgIGZvciAoY29uc3QgcmVnZXggb2YgU1RSQVlfTUFSS1VQX1JFR0VYRVMpIHdoaWxlIChyZWdleC50ZXN0KGNvbnRlbnQpKSBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKHJlZ2V4LCAnJyk7XG5cbiAgICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBDbGVhbnMgdXAgc3BhY2luZyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gY2xlYW4gdXAuXG4gKiBAcGFyYW0gc2Vjb25kUnVuIFdoZXRoZXIgdGhlIGZ1bmN0aW9uIGlzIGJlaW5nIHJ1biBmb3IgdGhlIHNlY29uZCB0aW1lLCBhZnRlciBvdGhlciBwcm9jZXNzaW5nLlxuICovXG5mdW5jdGlvbiBjbGVhbnVwU3BhY2luZyhjb250ZW50OiBzdHJpbmcsIHNlY29uZFJ1biA9IGZhbHNlKSB7XG4gICAgY29uc3QgUExBQ0VIT0xERVIgPSAnXFx1e0YwMDAwfSc7XG5cbiAgICBjb25zdCBUQUdTX1RPX0lHTk9SRSA9IFsncG9lbScsICdwcmUnLCAndGVtcGxhdGVkYXRhJ107XG5cbiAgICBjb25zdCBpZ25vcmVkVGFnc0NvbnRlbnQ6IHN0cmluZ1tdID0gW107XG5cbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKFxuICAgICAgICBuZXcgUmVnRXhwKGAoPCgke1RBR1NfVE9fSUdOT1JFLmpvaW4oJ3wnKX0pKD86IFtePD5dKj8pPz4pKC4qPykoPC9cXFxcMj4pYCwgJ2dzJyksXG4gICAgICAgIChmdWxsTWF0Y2gsIHN0YXJ0VGFnOiBzdHJpbmcsIHRhZ05hbWU6IHN0cmluZywgaW5uZXJDb250ZW50OiBzdHJpbmcsIGVuZFRhZzogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICBpbm5lckNvbnRlbnQgPSBpbm5lckNvbnRlbnQucmVwbGFjZUFsbCgvICskL2dtLCAnJykudHJpbSgpO1xuXG4gICAgICAgICAgICBpZ25vcmVkVGFnc0NvbnRlbnQucHVzaChgJHtzdGFydFRhZ31cXG4ke2lubmVyQ29udGVudH1cXG4ke2VuZFRhZ31gKTtcblxuICAgICAgICAgICAgcmV0dXJuIFBMQUNFSE9MREVSO1xuICAgICAgICB9LFxuICAgICk7XG5cbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC8oXFxifFxccHtQdW5jdHVhdGlvbn18XFxdXFxdfFxcfVxcfXxcXHc+KSB7Mix9KFxcYnxcXHB7UHVuY3R1YXRpb259fFxcW1xcW3xcXHtcXHt8PFxcdykvZ3UsICckMSAkMicpOyAvLyBSZW1vdmUgZXh0cmEgc3BhY2VzIGJldHdlZW4gd29yZHMgYW5kIHNlbnRlbmNlc1xuICAgIGlmICghc2Vjb25kUnVuKSBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC9eICt8ICskL2dtLCAnJyk7IC8vIFJlbW92ZSBleHRyYSBzcGFjZXMgYXQgdGhlIHN0YXJ0IG9yIGVuZCBvZiBsaW5lc1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoL1xcbnszLH0vZywgJ1xcblxcbicpOyAvLyBSZW1vdmUgZXh0cmEgbmV3bGluZXNcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC9cXHMqKHt7W159XSpzdHVifX0pL2ksICdcXG5cXG4kMScpOyAvLyBFbnN1cmUgdGhlcmUgaXMgb25lIGJsYW5rIGxpbmUgYmVmb3JlIHRoZSBmaXJzdCBzdHViIHRlbXBsYXRlXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvXFxzKyQvZywgJycpOyAvLyBSZW1vdmUgdHJhaWxpbmcgc3BhY2VzXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvXihbIypdKykgKi9nbSwgJyQxICcpOyAvLyBFbnN1cmUgdGhlcmUgaXMgYSBzcGFjZSBhZnRlciBhIGJ1bGxldCBvciBoYXNoIGluIGEgbGlzdCBpdGVtXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvXihbIypdKyAuKilcXG4rKD89WyMqXSsgKS9nbSwgJyQxXFxuJyk7IC8vIFJlbW92ZSBuZXdsaW5lcyBiZXR3ZWVuIGxpc3QgaXRlbXNcbiAgICBpZiAoIXNlY29uZFJ1bikgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvKD88IVxcfClcXHMrKD89PHJlZig/IWVyZW5jZXMpKS9nLCAnJyk7IC8vIFJlbW92ZSBzcGFjZXMgYmVmb3JlIHJlZmVyZW5jZXNcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC88XFwvKFtBLVphLXpdKykgKz4vZywgJzwvJDE+Jyk7IC8vIFJlbW92ZSBleGNlc3Mgc3BhY2UgaW4gY2xvc2luZyB0YWdzXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgvXig9Ky4qPz0rKSRcXG57Mix9KD89Xj0rLio/PSskKS9nbSwgJyQxXFxuJyk7IC8vIFJlbW92ZSBleHRyYSBuZXdsaW5lcyBiZXR3ZWVuIGVtcHR5IHNlY3Rpb24gYW5kIGZvbGxvd2luZyBzZWN0aW9uXG4gICAgY29udGVudCA9IGNvbnRlbnQudHJpbSgpOyAvLyBSZW1vdmUgd2hpdGVzcGFjZSBhdCB0aGUgc3RhcnQgb3IgZW5kIG9mIHRoZSBjb250ZW50XG5cbiAgICAvLyBBZGQgYmFjayBpZ25vcmVkIHRhZ3NcbiAgICBmb3IgKGNvbnN0IHRhZ0NvbnRlbnQgb2YgaWdub3JlZFRhZ3NDb250ZW50KSBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKFBMQUNFSE9MREVSLCB0YWdDb250ZW50KTtcblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIENsZWFucyB1cCByZWZlcmVuY2VzIGluIGFuIGFydGljbGUncyBjb250ZW50LlxuICogQHBhcmFtIGNvbnRlbnQgVGhlIGFydGljbGUgY29udGVudCB0byBjbGVhbiB1cC5cbiAqL1xuZnVuY3Rpb24gY2xlYW51cFJlZmVyZW5jZXMoY29udGVudDogc3RyaW5nKSB7XG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbChcbiAgICAgICAgLygoPzo8cmVmKD8hZXJlbmNlcylbXi9dKj8+Lio/PFxcL3JlZj58PHJlZig/IWVyZW5jZXMpLio/XFwvPikrKShbISwuOz9dKT8vZyxcbiAgICAgICAgKGZ1bGxNYXRjaCwgcmVmZXJlbmNlVGFnOiBzdHJpbmcsIHB1bmN0dWF0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IChwdW5jdHVhdGlvbiA/PyAnJykgKyByZWZlcmVuY2VUYWcsXG4gICAgKTsgLy8gRml4IHB1bmN0dWF0aW9uIGZvbGxvd2luZyByZWZlcmVuY2VzXG5cbiAgICBjb25zdCByZWZlcmVuY2VzOiB7IHN0YXJ0OiBudW1iZXI7IGVuZDogbnVtYmVyOyBpc1NlbGZDbG9zaW5nPzogdHJ1ZSB9W10gPSBbXTtcblxuICAgIGxldCBpc0luc2lkZU5vd2lraSA9IGZhbHNlO1xuICAgIGxldCBpc0luc2lkZUNvbW1lbnQgPSBmYWxzZTtcblxuICAgIGxldCBjdXJyZW50TG9jYXRpb24gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBjb250ZW50IGZvbGxvd2luZyB0aGUgY3VycmVudCBsb2NhdGlvbiBtYXRjaGVzIHRoZSBkZXNpcmVkIHN0cmluZy5cbiAgICAgKiBAcGFyYW0gZGVzaXJlZFN0cmluZyBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBdFN0cmluZyhkZXNpcmVkU3RyaW5nOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgaXNBdFN0cmluZyA9IGNvbnRlbnQuc2xpY2UoY3VycmVudExvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24gKyBkZXNpcmVkU3RyaW5nLmxlbmd0aCkgPT09IGRlc2lyZWRTdHJpbmc7XG5cbiAgICAgICAgaWYgKGlzQXRTdHJpbmcpIGN1cnJlbnRMb2NhdGlvbiArPSBkZXNpcmVkU3RyaW5nLmxlbmd0aDtcblxuICAgICAgICByZXR1cm4gaXNBdFN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZWVkcyB0aHJvdWdoIHRoZSBjb250ZW50IHVudGlsIHRoZSBkZXNpcmVkIHN0cmluZyBpcyBmb3VuZC5cbiAgICAgKiBAcGFyYW0gZGVzaXJlZFN0cmluZyBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvY2VlZFVudGlsU3RyaW5nKGRlc2lyZWRTdHJpbmc6IHN0cmluZykge1xuICAgICAgICB3aGlsZSAoY3VycmVudExvY2F0aW9uIDwgY29udGVudC5sZW5ndGggJiYgIWlzQXRTdHJpbmcoZGVzaXJlZFN0cmluZykpIGN1cnJlbnRMb2NhdGlvbisrO1xuICAgIH1cblxuICAgIHdoaWxlIChjdXJyZW50TG9jYXRpb24gPCBjb250ZW50Lmxlbmd0aClcbiAgICAgICAgaWYgKGlzQXRTdHJpbmcoJzxub3dpa2k+JykpIGlzSW5zaWRlTm93aWtpID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnPC9ub3dpa2k+JykpIGlzSW5zaWRlTm93aWtpID0gZmFsc2U7XG4gICAgICAgIGVsc2UgaWYgKGlzQXRTdHJpbmcoJzwhLS0nKSkgaXNJbnNpZGVDb21tZW50ID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoaXNBdFN0cmluZygnLS0+JykpIGlzSW5zaWRlQ29tbWVudCA9IGZhbHNlO1xuICAgICAgICBlbHNlIGlmICghaXNJbnNpZGVOb3dpa2kgJiYgIWlzSW5zaWRlQ29tbWVudClcbiAgICAgICAgICAgIGlmICghaXNBdFN0cmluZygnPHJlZmVyZW5jZXMnKSAmJiBpc0F0U3RyaW5nKCc8cmVmJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IGN1cnJlbnRMb2NhdGlvbiAtIDQ7XG5cbiAgICAgICAgICAgICAgICBwcm9jZWVkVW50aWxTdHJpbmcoJz4nKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGlzU2VsZkNsb3NpbmcgPSBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgIC5zbGljZShzdGFydCwgY3VycmVudExvY2F0aW9uIC0gMSlcbiAgICAgICAgICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgICAgICAgICAgICAuZW5kc1dpdGgoJy8nKTtcblxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZXMucHVzaChpc1NlbGZDbG9zaW5nID8geyBzdGFydCwgZW5kOiBjdXJyZW50TG9jYXRpb24sIGlzU2VsZkNsb3NpbmcgfSA6IHsgc3RhcnQsIGVuZDogLTEgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzQXRTdHJpbmcoJzwvcmVmPicpKSByZWZlcmVuY2VzLmF0KC0xKSEuZW5kID0gY3VycmVudExvY2F0aW9uO1xuICAgICAgICAgICAgZWxzZSBjdXJyZW50TG9jYXRpb24rKztcbiAgICAgICAgZWxzZSBjdXJyZW50TG9jYXRpb24rKztcblxuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblxuICAgIGNvbnN0IHJlcGxhY2VtZW50czogW3N0cmluZywgc3RyaW5nXVtdID0gW107XG5cbiAgICBmb3IgKGNvbnN0IHJlZmVyZW5jZSBvZiByZWZlcmVuY2VzKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IGNvbnRlbnQuc2xpY2UocmVmZXJlbmNlLnN0YXJ0LCByZWZlcmVuY2UuZW5kKTtcblxuICAgICAgICBjb25zdCBzdGFydFRhZyA9IC88cmVmKD8hZXJlbmNlcykuKj8+L2lzLmV4ZWMob3JpZ2luYWxUZXh0KSFbMF07XG5cbiAgICAgICAgY29uc3QgcGFyc2VkVGFnID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhcbiAgICAgICAgICAgIHJlZmVyZW5jZS5pc1NlbGZDbG9zaW5nID8gc3RhcnRUYWcucmVwbGFjZSgvICpcXC8gKj4vLCAnIC8+JykgOiBzdGFydFRhZyArICc8L3JlZj4nLFxuICAgICAgICAgICAgJ3RleHQvaHRtbCcsXG4gICAgICAgICkuYm9keS5maXJzdENoaWxkIGFzIEhUTUxVbmtub3duRWxlbWVudDtcblxuICAgICAgICBsZXQgb3V0cHV0ID0gcGFyc2VkVGFnLm91dGVySFRNTC5yZXBsYWNlQWxsKCcmYW1wOycsICcmJyk7XG5cbiAgICAgICAgY29uc3QgdGFnQ29udGVudCA9IG9yaWdpbmFsVGV4dFxuICAgICAgICAgICAgLnNsaWNlKHN0YXJ0VGFnLmxlbmd0aCwgLTYpXG4gICAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgICAucmVwbGFjZUFsbCgvXlxcWyAqKFteIFxcXV0qKSAqXSQvZ20sICckMScpXG4gICAgICAgICAgICAudHJpbSgpO1xuXG4gICAgICAgIG91dHB1dCA9XG4gICAgICAgICAgICByZWZlcmVuY2UuaXNTZWxmQ2xvc2luZyB8fCB0YWdDb250ZW50Lmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgID8gb3V0cHV0LnJlcGxhY2UoLz5cXHMqPFxcL3JlZj4vLCAnIC8+JylcbiAgICAgICAgICAgICAgICA6IGAke291dHB1dC5zbGljZSgwLCAtNil9JHt0YWdDb250ZW50fTwvcmVmPmA7XG5cbiAgICAgICAgaWYgKG9yaWdpbmFsVGV4dCAhPT0gb3V0cHV0KSByZXBsYWNlbWVudHMucHVzaChbb3JpZ2luYWxUZXh0LCBvdXRwdXRdKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IFtvcmlnaW5hbFRleHQsIG91dHB1dF0gb2YgcmVwbGFjZW1lbnRzKSBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKG9yaWdpbmFsVGV4dCwgb3V0cHV0KTtcblxuICAgIHJldHVybiBjb250ZW50O1xufVxuXG5pbnRlcmZhY2UgVGVtcGxhdGVSZWRpcmVjdCB7XG4gICAgZnJvbTogc3RyaW5nW107XG4gICAgdG86IHN0cmluZztcbn1cblxubGV0IHRlbXBsYXRlQWxpYXNlczogVGVtcGxhdGVSZWRpcmVjdFtdIHwgdW5kZWZpbmVkO1xuXG4vKipcbiAqIEZvcm1hdHMgdGVtcGxhdGUgc3BhY2luZyBpbiBhbiBhcnRpY2xlJ3MgY29udGVudC5cbiAqIEBwYXJhbSBjb250ZW50IFRoZSBhcnRpY2xlIGNvbnRlbnQgdG8gZm9ybWF0LlxuICovXG5hc3luYyBmdW5jdGlvbiBmb3JtYXRUZW1wbGF0ZXMoY29udGVudDogc3RyaW5nKSB7XG4gICAgZW51bSBGb3JtYXRTdHlsZSB7XG4gICAgICAgIEV4cGFuZGVkLFxuICAgICAgICBFeHBhbmRlZEFsaWduZWQsXG4gICAgICAgIE1pbmltaXplZCxcbiAgICAgICAgTWluaW1pemVkU3BhY2VkLFxuICAgIH1cblxuICAgIGVudW0gTmFtZXNwYWNlIHtcbiAgICAgICAgVXNlciA9IDIsXG4gICAgICAgIFRlbXBsYXRlID0gMTAsXG4gICAgICAgIERyYWZ0ID0gMTE4LFxuICAgIH1cblxuICAgIHRlbXBsYXRlQWxpYXNlcyA/Pz0gSlNPTi5wYXJzZSgoYXdhaXQgZ2V0UGFnZUNvbnRlbnQoJ1VzZXI6RWVqaXQ0My9zY3JpcHRzL2FydGljbGUtY2xlYW5lci5qc29uJykpID8/ICdbXScpIGFzIFRlbXBsYXRlUmVkaXJlY3RbXTtcblxuICAgIGNvbnN0IG1hcHBlZFRlbXBsYXRlQWxpYXNlcyA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgdGVtcGxhdGVBbGlhc2VzLmZsYXRNYXAoKGFsaWFzKSA9PiBhbGlhcy5mcm9tLm1hcCgoZnJvbSkgPT4gW2Zyb20uY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBmcm9tLnNsaWNlKDEpLCBhbGlhcy50b10pKSxcbiAgICApO1xuXG4gICAgY2xhc3MgVGVtcGxhdGUge1xuICAgICAgICBwdWJsaWMgbG9jYXRpb246IHsgc3RhcnQ6IG51bWJlcjsgZW5kPzogbnVtYmVyIH07XG4gICAgICAgIHB1YmxpYyBpc05lc3RlZCA9IGZhbHNlO1xuXG4gICAgICAgIHB1YmxpYyBmdWxsVGV4dD86IHN0cmluZztcbiAgICAgICAgcHJpdmF0ZSBmdWxsVGV4dEVzY2FwZWQ/OiBzdHJpbmc7XG4gICAgICAgIHByaXZhdGUgcmF3TmFtZT86IHN0cmluZztcbiAgICAgICAgcHJpdmF0ZSBuYW1lPzogc3RyaW5nO1xuICAgICAgICBwcml2YXRlIHBhcmFtZXRlcnM6IHsga2V5OiBzdHJpbmcgfCBudWxsOyB2YWx1ZTogc3RyaW5nIH1bXSA9IFtdO1xuICAgICAgICBwdWJsaWMgc3ViVGVtcGxhdGVzOiBUZW1wbGF0ZVtdID0gW107XG5cbiAgICAgICAgcHJpdmF0ZSBQTEFDRUhPTERFUl9TVFJJTkdTID0gWydcXHV7RjAwMDB9JywgJ1xcdXsxMEZGRkZ9JywgJ1xcdXtGRkZGRX0nXTtcblxuICAgICAgICBwcml2YXRlIFBJUEVfRVNDQVBFX1JFR0VYRVMgPSBbLyhcXFtcXFtbXlxcXV0qPylcXHwoLio/XV0pL2csIC8oPCEtLS4qPylcXHwoLio/LS0+KS9nLCAvKDxub3dpa2k+Lio/KVxcfCguKj88XFwvbm93aWtpPikvZ107XG5cbiAgICAgICAgcHJpdmF0ZSBUQUdfRVFVQUxTX0VTQ0FQRV9SRUdFWEVTID0gWy88KFxcdyspKCBbXjw+XSs/KSg/PCFcXC8pPi4qPzxcXC9cXDE+L2csIC88KFxcdyspKCBbXjw+XSs/KVxcLz4vZ107XG5cbiAgICAgICAgcHJpdmF0ZSBURU1QTEFURV9BTElBU0VTID0gbWFwcGVkVGVtcGxhdGVBbGlhc2VzO1xuXG4gICAgICAgIHByaXZhdGUgREVGQVVMVF9URU1QTEFURV9TVFlMRVMgPSB7XG4gICAgICAgICAgICBbRm9ybWF0U3R5bGUuRXhwYW5kZWRBbGlnbmVkXTogW1xuICAgICAgICAgICAgICAgICdhbGJ1bSByYXRpbmcnLFxuICAgICAgICAgICAgICAgICdhbGJ1bSByZXZpZXdzJyxcbiAgICAgICAgICAgICAgICAnYW1lcmljYW4gZm9vdGJhbGwgdW5pZm9ybScsXG4gICAgICAgICAgICAgICAgJ2F1c3RyYWxpYW4gcnVsZXMgZm9vdGJhbGwga2l0JyxcbiAgICAgICAgICAgICAgICAnYXV0b21hdGljIHRheG9ib3gnLFxuICAgICAgICAgICAgICAgICdiYXNlYmFsbCB1bmlmb3JtJyxcbiAgICAgICAgICAgICAgICAnYmFza2V0YmFsbCBraXQnLFxuICAgICAgICAgICAgICAgICdiZWFjaGhhbmRiYWxsIGtpdCcsXG4gICAgICAgICAgICAgICAgJ2Jsb2NrcXVvdGUnLFxuICAgICAgICAgICAgICAgICdjaGVtYm94JyxcbiAgICAgICAgICAgICAgICAnY3JpY2tldCB1bmlmb3JtJyxcbiAgICAgICAgICAgICAgICAnZWxlY3Rpb24gYm94JyxcbiAgICAgICAgICAgICAgICAnZXBpc29kZSBsaXN0JyxcbiAgICAgICAgICAgICAgICAnZXh0ZXJuYWwgbXVzaWMgdmlkZW8nLFxuICAgICAgICAgICAgICAgICdleHRyYSBhbGJ1bSBjb3ZlcicsXG4gICAgICAgICAgICAgICAgJ2ZpZWxkIGhvY2tleSBraXQnLFxuICAgICAgICAgICAgICAgICdmb290YmFsbCBib3gnLFxuICAgICAgICAgICAgICAgICdmb290YmFsbCBraXQnLFxuICAgICAgICAgICAgICAgICdmb290YmFsbGJveCcsXG4gICAgICAgICAgICAgICAgJ2hhbmRiYWxsIGtpdCcsXG4gICAgICAgICAgICAgICAgJ2h5YnJpZGJveCcsXG4gICAgICAgICAgICAgICAgJ2ljZWhvY2tleSBraXQnLFxuICAgICAgICAgICAgICAgICdpY2hub2JveCcsXG4gICAgICAgICAgICAgICAgJ2luZm9ib3gnLFxuICAgICAgICAgICAgICAgICdpbmZyYXNwZWNpZXNib3gnLFxuICAgICAgICAgICAgICAgICdqdWRvIGJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICdqdWRvIHJlcGVjaGFnZScsXG4gICAgICAgICAgICAgICAgJ2xpc3RlbicsXG4gICAgICAgICAgICAgICAgJ2xvY2F0aW9uIG1hcCcsXG4gICAgICAgICAgICAgICAgJ21lZGljYWwgcmVzb3VyY2VzJyxcbiAgICAgICAgICAgICAgICAnbW90b3JzcG9ydCBzZWFzb24nLFxuICAgICAgICAgICAgICAgICdtdWx0aXBsZSBpbWFnZScsXG4gICAgICAgICAgICAgICAgJ211c2ljIHJhdGluZ3MnLFxuICAgICAgICAgICAgICAgICdteWNvbW9ycGhib3gnLFxuICAgICAgICAgICAgICAgICduYXZib3gnLFxuICAgICAgICAgICAgICAgICdvb2JveCcsXG4gICAgICAgICAgICAgICAgJ29yYml0Ym94JyxcbiAgICAgICAgICAgICAgICAnb3NtIGxvY2F0aW9uIG1hcCcsXG4gICAgICAgICAgICAgICAgJ3F1b3RlIGJveCcsXG4gICAgICAgICAgICAgICAgJ3JlcGVjaGFnZScsXG4gICAgICAgICAgICAgICAgJ3J1Z2J5Ym94JyxcbiAgICAgICAgICAgICAgICAnc2lkZWJhcicsXG4gICAgICAgICAgICAgICAgJ3NpbmdsZSByYXRpbmdzJyxcbiAgICAgICAgICAgICAgICAnc2luZ2xlcycsXG4gICAgICAgICAgICAgICAgJ3NvbmcgcmF0aW5ncycsXG4gICAgICAgICAgICAgICAgJ3NwZWNpZXNib3gnLFxuICAgICAgICAgICAgICAgICdzdGFyYm94JyxcbiAgICAgICAgICAgICAgICAnc3VjY2Vzc2lvbiBib3gnLFxuICAgICAgICAgICAgICAgICd0YXhvYm94JyxcbiAgICAgICAgICAgICAgICAndGVhbSBicmFja2V0JyxcbiAgICAgICAgICAgICAgICAndHJhY2sgbGlzdGluZycsXG4gICAgICAgICAgICAgICAgJ3R3ZWV0JyxcbiAgICAgICAgICAgICAgICAndmlydXNib3gnLFxuICAgICAgICAgICAgICAgICd2b2xsZXliYWxsIGtpdCcsXG5cbiAgICAgICAgICAgICAgICAvLyBOdW1iZXJlZCBicmFja2V0c1xuICAgICAgICAgICAgICAgICdudGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICcybnRlYW0tbnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnM3RlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnM3RlYW1ycicsXG4gICAgICAgICAgICAgICAgJzR0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzR0ZWFtcnInLFxuICAgICAgICAgICAgICAgICc1dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICc1dGVhbXJyJyxcbiAgICAgICAgICAgICAgICAnNnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnNnRlYW1ycicsXG4gICAgICAgICAgICAgICAgJzd0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzd0ZWFtcnInLFxuICAgICAgICAgICAgICAgICc4dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICc4dGVhbXJvdW5kcm9iaW4nLFxuICAgICAgICAgICAgICAgICc4dGVhbXJyJyxcbiAgICAgICAgICAgICAgICAnOXRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMTB0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzExdGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICcxMnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMTN0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzE0dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICcxNXRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMTZ0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzE4dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICcyMHRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMjR0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzI3dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICczMnRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnNDB0ZWFtYnJhY2tldCcsXG4gICAgICAgICAgICAgICAgJzQ4dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgICAgICc2NHRlYW1icmFja2V0JyxcbiAgICAgICAgICAgICAgICAnMTI4dGVhbWJyYWNrZXQnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtGb3JtYXRTdHlsZS5NaW5pbWl6ZWRdOiBbJ2JpcnRoIGRhdGUnLCAnY29vcmQnLCAnZGVhdGggZGF0ZScsICdlbmQgZGF0ZScsICdsYW5nJywgJ3N0YXJ0IGRhdGUnXSxcbiAgICAgICAgICAgIFtGb3JtYXRTdHlsZS5NaW5pbWl6ZWRTcGFjZWRdOiBbJ2luZm9ib3ggbWFwZnJhbWUnXSxcbiAgICAgICAgfTtcblxuICAgICAgICBwcml2YXRlIE5BTUVTUEFDRV9TUEVDSUZJQ19URU1QTEFURVMgPSB7XG4gICAgICAgICAgICBbTmFtZXNwYWNlLkRyYWZ0XTogW1xuICAgICAgICAgICAgICAgICdhZmMgY29tbWVudCcsXG4gICAgICAgICAgICAgICAgJ2FmYyBzdWJtaXNzaW9uJyxcbiAgICAgICAgICAgICAgICAnYWZjIHN1Ym1pc3Npb24vZHJhZnQnLFxuICAgICAgICAgICAgICAgICdhZmMgdG9waWMnLFxuICAgICAgICAgICAgICAgICdkcmFmdCBhcnRpY2xlJyxcbiAgICAgICAgICAgICAgICAnZHJhZnQgY2F0ZWdvcmllcycsXG4gICAgICAgICAgICAgICAgJ2RyYWZ0IHRvcGljcycsXG4gICAgICAgICAgICAgICAgJ2RyYWZ0JyxcbiAgICAgICAgICAgICAgICAnZHJhZnRzIG1vdmVkIGZyb20gbWFpbnNwYWNlJyxcbiAgICAgICAgICAgICAgICAncHJlbG9hZGRyYWZ0IHN1Ym1pdCcsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW05hbWVzcGFjZS5Vc2VyXTogWydkYXNoYm9hcmQud2lraWVkdS5vcmcgc2FuZGJveCcsICd1c2VyIHNhbmRib3gnLCAndXNlcnNwYWNlIGRyYWZ0J10sXG4gICAgICAgIH07XG5cbiAgICAgICAgcHJpdmF0ZSBURU1QTEFURVNfVE9fS0VFUF9DT05URU5UID0gWydkcmFmdCBjYXRlZ29yaWVzJ107XG5cbiAgICAgICAgcHJpdmF0ZSBURU1QTEFURVNfVE9fU1VCU1QgPSBbXG4gICAgICAgICAgICAvLyBNYWdpYyB3b3Jkc1xuICAgICAgICAgICAgJ2FydGljbGVwYWdlbmFtZScsXG4gICAgICAgICAgICAnYXJ0aWNsZXNwYWNlJyxcbiAgICAgICAgICAgICdiYXNlcGFnZW5hbWUnLFxuICAgICAgICAgICAgJ2Z1bGxwYWdlbmFtZScsXG4gICAgICAgICAgICAnbmFtZXNwYWNlJyxcbiAgICAgICAgICAgICduYW1lc3BhY2VudW1iZXInLFxuICAgICAgICAgICAgJ3BhZ2VuYW1lJyxcbiAgICAgICAgICAgICdyb290cGFnZW5hbWUnLFxuICAgICAgICAgICAgJ3N1YmplY3RwYWdlbmFtZScsXG4gICAgICAgICAgICAnc3ViamVjdHNwYWNlJyxcbiAgICAgICAgICAgICdzdWJwYWdlbmFtZScsXG4gICAgICAgICAgICAndGFsa3BhZ2VuYW1lJyxcbiAgICAgICAgICAgICd0YWxrc3BhY2UnLFxuXG4gICAgICAgICAgICAvLyBUZW1wbGF0ZXNcbiAgICAgICAgICAgICdwYWdlbmFtZWJhc2UnLFxuICAgICAgICBdO1xuXG4gICAgICAgIHByaXZhdGUgSU1BR0VfUEFSQU1FVEVSUyA9IG5ldyBTZXQoWydjb3ZlcicsICdpbWFnZV9mbGFnJywgJ2ltYWdlJywgJ2xvZ28nLCAnbWFwX2ltYWdlJ10pO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKHN0YXJ0TG9jYXRpb246IG51bWJlcikge1xuICAgICAgICAgICAgdGhpcy5sb2NhdGlvbiA9IHsgc3RhcnQ6IHN0YXJ0TG9jYXRpb24gfTtcblxuICAgICAgICAgICAgZm9yIChsZXQgbnVtYmVyID0gMTsgbnVtYmVyIDw9IDEwOyBudW1iZXIrKykgdGhpcy5JTUFHRV9QQVJBTUVURVJTLmFkZChgaW1hZ2Uke251bWJlcn1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBwYXJzZSgpIHtcbiAgICAgICAgICAgIHRoaXMuZnVsbFRleHQgPSBjb250ZW50LnNsaWNlKHRoaXMubG9jYXRpb24uc3RhcnQsIHRoaXMubG9jYXRpb24uZW5kKTtcbiAgICAgICAgICAgIHRoaXMuZnVsbFRleHRFc2NhcGVkID0gdGhpcy5mdWxsVGV4dDtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBzdWJUZW1wbGF0ZSBvZiB0aGlzLnN1YlRlbXBsYXRlcykge1xuICAgICAgICAgICAgICAgIHN1YlRlbXBsYXRlLnBhcnNlKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZ1bGxUZXh0RXNjYXBlZCA9IHRoaXMuZnVsbFRleHRFc2NhcGVkLnJlcGxhY2Uoc3ViVGVtcGxhdGUuZnVsbFRleHQhLCB0aGlzLlBMQUNFSE9MREVSX1NUUklOR1NbMF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdHJpbW1lZElubmVyVGV4dCA9IHRoaXMuZnVsbFRleHRFc2NhcGVkLnNsaWNlKDIsIC0yKS50cmltKCk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgcGlwZUVzY2FwZVJlZ2V4IG9mIHRoaXMuUElQRV9FU0NBUEVfUkVHRVhFUylcbiAgICAgICAgICAgICAgICB3aGlsZSAocGlwZUVzY2FwZVJlZ2V4LnRlc3QodHJpbW1lZElubmVyVGV4dCkpXG4gICAgICAgICAgICAgICAgICAgIHRyaW1tZWRJbm5lclRleHQgPSB0cmltbWVkSW5uZXJUZXh0LnJlcGxhY2VBbGwocGlwZUVzY2FwZVJlZ2V4LCBgJDEke3RoaXMuUExBQ0VIT0xERVJfU1RSSU5HU1sxXX0kMmApO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlZ2V4IG9mIHRoaXMuVEFHX0VRVUFMU19FU0NBUEVfUkVHRVhFUylcbiAgICAgICAgICAgICAgICB0cmltbWVkSW5uZXJUZXh0ID0gdHJpbW1lZElubmVyVGV4dC5yZXBsYWNlQWxsKHJlZ2V4LCAoZnVsbFRleHQsIHRhZ05hbWU6IHN0cmluZywgYXR0cmlidXRlczogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdWxsVGV4dC5yZXBsYWNlKGF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMucmVwbGFjZUFsbCgnPScsIHRoaXMuUExBQ0VIT0xERVJfU1RSSU5HU1syXSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0gdHJpbW1lZElubmVyVGV4dFxuICAgICAgICAgICAgICAgIC5zcGxpdCgnfCcpXG4gICAgICAgICAgICAgICAgLm1hcCgocGFyYW1ldGVyKSA9PiBwYXJhbWV0ZXIucmVwbGFjZUFsbCh0aGlzLlBMQUNFSE9MREVSX1NUUklOR1NbMV0sICd8JykudHJpbSgpKTtcblxuICAgICAgICAgICAgdGhpcy5yYXdOYW1lID0gcGFyYW1ldGVycy5zaGlmdCgpITtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IHRoaXMucmF3TmFtZS5yZXBsYWNlQWxsKCdfJywgJyAnKTtcblxuICAgICAgICAgICAgLy8gU3RyaXAgbmFtZXNwYWNlIHByZWZpeCBmcm9tIG5hbWVcbiAgICAgICAgICAgIGlmICh0aGlzLm5hbWUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCd0ZW1wbGF0ZTonKSkgdGhpcy5uYW1lID0gdGhpcy5uYW1lLnNsaWNlKDkpO1xuXG4gICAgICAgICAgICBjb25zdCBuYW1lTG93ZXJjYXNlRmlyc3QgPSB0aGlzLm5hbWUuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyB0aGlzLm5hbWUuc2xpY2UoMSk7XG5cbiAgICAgICAgICAgIC8vIFJlc29sdmUgdGVtcGxhdGUgYWxpYXMgaW4gbmFtZVxuICAgICAgICAgICAgaWYgKG5hbWVMb3dlcmNhc2VGaXJzdCBpbiB0aGlzLlRFTVBMQVRFX0FMSUFTRVMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1N0YXJ0TG93ZXIgPSB0aGlzLm5hbWUuc3RhcnRzV2l0aCh0aGlzLm5hbWUuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZmluYWxOYW1lID0gdGhpcy5URU1QTEFURV9BTElBU0VTW25hbWVMb3dlcmNhc2VGaXJzdF07XG5cbiAgICAgICAgICAgICAgICBjb25zdCBtdXN0U3RhcnRCZVVwcGVyY2FzZSA9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsTmFtZS5zdGFydHNXaXRoKGZpbmFsTmFtZS5zbGljZSgwLCAyKS50b1VwcGVyQ2FzZSgpKSAmJiAvXltBLVpdKyQvLmV4ZWMoZmluYWxOYW1lLnNsaWNlKDAsIDIpKTtcblxuICAgICAgICAgICAgICAgIHRoaXMubmFtZSA9IGlzU3RhcnRMb3dlciAmJiAhbXVzdFN0YXJ0QmVVcHBlcmNhc2UgPyBmaW5hbE5hbWUuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBmaW5hbE5hbWUuc2xpY2UoMSkgOiBmaW5hbE5hbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNwbGl0UGFyYW1ldGVycyA9IHBhcmFtZXRlcnMubWFwKChwYXJhbWV0ZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXF1YWxzTG9jYXRpb24gPSBwYXJhbWV0ZXJzLmluZGV4T2YoJz0nKTtcblxuICAgICAgICAgICAgICAgIGlmIChlcXVhbHNMb2NhdGlvbiA9PT0gLTEpIHJldHVybiB7IGtleTogbnVsbCwgdmFsdWU6IHBhcmFtZXRlcnMucmVwbGFjZUFsbCh0aGlzLlBMQUNFSE9MREVSX1NUUklOR1NbMl0sICc9JykudHJpbSgpIH07XG5cbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcmFtZXRlcnMuc2xpY2UoZXF1YWxzTG9jYXRpb24gKyAxKS5yZXBsYWNlQWxsKHRoaXMuUExBQ0VIT0xERVJfU1RSSU5HU1syXSwgJz0nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogcGFyYW1ldGVycy5zbGljZSgwLCBlcXVhbHNMb2NhdGlvbikudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYCR7dmFsdWUuc3RhcnRzV2l0aCgnXFxuJykgPyAnXFxuJyA6ICcnfSR7dmFsdWUudHJpbSgpfWAsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBzcGxpdFBhcmFtZXRlcnM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHNob3VsZEJlUmVtb3ZlZCgpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW25hbWVzcGFjZSwgdGVtcGxhdGVzXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLk5BTUVTUEFDRV9TUEVDSUZJQ19URU1QTEFURVMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG13LmNvbmZpZy5nZXQoJ3dnTmFtZXNwYWNlTnVtYmVyJykgPT09IE51bWJlci5wYXJzZUludChuYW1lc3BhY2UpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZXMuaW5jbHVkZXModGhpcy5uYW1lIS50b0xvd2VyQ2FzZSgpKSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgZ2V0U3R5bGUoKSB7XG4gICAgICAgICAgICBsZXQgbW9zdFNwZWNpZmljRGVmYXVsdFN0eWxlUHJlZml4TGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGxldCBtb3N0U3BlY2lmaWNEZWZhdWx0U3R5bGVGb3JtYXRTdHlsZTogRm9ybWF0U3R5bGUgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgW2Zvcm1hdFN0eWxlLCB0ZW1wbGF0ZVByZWZpeGVzXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLkRFRkFVTFRfVEVNUExBVEVfU1RZTEVTKSlcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRlbXBsYXRlUHJlZml4IG9mIHRlbXBsYXRlUHJlZml4ZXMpXG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmFtZSEudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKHRlbXBsYXRlUHJlZml4KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVQcmVmaXgubGVuZ3RoID49IG1vc3RTcGVjaWZpY0RlZmF1bHRTdHlsZVByZWZpeExlbmd0aFxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vc3RTcGVjaWZpY0RlZmF1bHRTdHlsZVByZWZpeExlbmd0aCA9IHRlbXBsYXRlUHJlZml4Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vc3RTcGVjaWZpY0RlZmF1bHRTdHlsZUZvcm1hdFN0eWxlID0gTnVtYmVyLnBhcnNlSW50KGZvcm1hdFN0eWxlKSBhcyBGb3JtYXRTdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbW9zdFNwZWNpZmljRGVmYXVsdFN0eWxlRm9ybWF0U3R5bGU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGNsZWFudXBQYXJhbWV0ZXJzKCkge1xuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gdGhpcy5wYXJhbWV0ZXJzLm1hcCgoeyBrZXksIHZhbHVlIH0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICYmIHRoaXMuSU1BR0VfUEFSQU1FVEVSUy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRyaW0oKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZUJlZm9yZSA9IHZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbWFnZVBhcmFtZXRlcnMgPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuc3RhcnRzV2l0aCgnW1snKSAmJiB2YWx1ZS5lbmRzV2l0aCgnXV0nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VQYXJhbWV0ZXJzID0gdmFsdWUuc2xpY2UoMiwgLTIpLnNwbGl0KCd8Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gaW1hZ2VQYXJhbWV0ZXJzWzBdLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXihGaWxlfEltYWdlKTovLCAnJykucmVwbGFjZUFsbCgnXycsICcgJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlUGFyYW1ldGVycy5sZW5ndGggPiAxKSB2YWx1ZSArPSBgIDwhLS0gUHJldmlvdXNseTogXCIke3ZhbHVlQmVmb3JlfVwiIC0tPmA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsga2V5LCB2YWx1ZSB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZm9ybWF0KCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmZ1bGxUZXh0KSB0aGlzLnBhcnNlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZEJlUmVtb3ZlZCgpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlRFTVBMQVRFU19UT19LRUVQX0NPTlRFTlQuaW5jbHVkZXModGhpcy5uYW1lIS50b0xvd2VyQ2FzZSgpKSA/IHRoaXMucGFyYW1ldGVyc1swXS52YWx1ZSA6ICcnO1xuXG4gICAgICAgICAgICBjb25zdCBzaG91bGRTdWJzdCA9XG4gICAgICAgICAgICAgICAgbXcuY29uZmlnLmdldCgnd2dOYW1lc3BhY2VOdW1iZXInKSAhPT0gKE5hbWVzcGFjZS5UZW1wbGF0ZSBhcyBudW1iZXIpICYmXG4gICAgICAgICAgICAgICAgdGhpcy5URU1QTEFURVNfVE9fU1VCU1Quc29tZShcbiAgICAgICAgICAgICAgICAgICAgKG5hbWUpID0+IG5hbWUgPT09IHRoaXMubmFtZSEudG9Mb3dlckNhc2UoKSB8fCB0aGlzLm5hbWUhLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aChgJHtuYW1lfTpgKSxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2V0U3R5bGUoKTtcbiAgICAgICAgICAgIGlmIChzdHlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5ld05hbWUgPSB0aGlzLm5hbWUhO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5hbWUhLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgndGVtcGxhdGU6JykpIG5ld05hbWUgPSB0aGlzLm5hbWUhLnNsaWNlKDkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZFN1YnN0KSBuZXdOYW1lID0gYHN1YnN0OiR7bmV3TmFtZX1gO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5ld05hbWUgIT09IHRoaXMucmF3TmFtZSEpIHRoaXMuZnVsbFRleHRFc2NhcGVkID0gdGhpcy5mdWxsVGV4dEVzY2FwZWQhLnJlcGxhY2UodGhpcy5yYXdOYW1lISwgbmV3TmFtZSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHN1YlRlbXBsYXRlIG9mIHRoaXMuc3ViVGVtcGxhdGVzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZ1bGxUZXh0RXNjYXBlZCA9IHRoaXMuZnVsbFRleHRFc2NhcGVkIS5yZXBsYWNlKHRoaXMuUExBQ0VIT0xERVJfU1RSSU5HU1swXSwgc3ViVGVtcGxhdGUuZm9ybWF0KCkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnVsbFRleHRFc2NhcGVkITtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gW2B7eyR7c2hvdWxkU3Vic3QgPyAnc3Vic3Q6JyA6ICcnfSR7dGhpcy5uYW1lIX1gXTtcblxuICAgICAgICAgICAgdGhpcy5jbGVhbnVwUGFyYW1ldGVycygpO1xuXG4gICAgICAgICAgICBpZiAoc3R5bGUgPT09IEZvcm1hdFN0eWxlLkV4cGFuZGVkIHx8IHN0eWxlID09PSBGb3JtYXRTdHlsZS5FeHBhbmRlZEFsaWduZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVxdWlyZWRLZXlMZW5ndGggPSAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlID09PSBGb3JtYXRTdHlsZS5FeHBhbmRlZEFsaWduZWQpXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkS2V5TGVuZ3RoID0gTWF0aC5tYXgoLi4udGhpcy5wYXJhbWV0ZXJzLm1hcCgocGFyYW1ldGVyKSA9PiBwYXJhbWV0ZXIua2V5Py5sZW5ndGggPz8gMCkpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIHBhcmFtZXRlcl0gb2YgdGhpcy5wYXJhbWV0ZXJzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAhcGFyYW1ldGVyLmtleSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIXBhcmFtZXRlci52YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNsaWNlKGluZGV4ICsgMSkuZXZlcnkoKHBhcmFtZXRlcikgPT4gcGFyYW1ldGVyLmtleSA/PyAhcGFyYW1ldGVyLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChgfCAke3BhcmFtZXRlci5rZXkgPyBgJHtwYXJhbWV0ZXIua2V5LnBhZEVuZChyZXF1aXJlZEtleUxlbmd0aCl9ID0gYCA6ICcnfSR7cGFyYW1ldGVyLnZhbHVlfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBwYXJhbWV0ZXJdIG9mIHRoaXMucGFyYW1ldGVycy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgIXBhcmFtZXRlci52YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHBhcmFtZXRlci5rZXkgfHwgdGhpcy5wYXJhbWV0ZXJzLnNsaWNlKGluZGV4ICsgMSkuZXZlcnkoKHBhcmFtZXRlcikgPT4gcGFyYW1ldGVyLmtleSA/PyAhcGFyYW1ldGVyLnZhbHVlKSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goYHwke3BhcmFtZXRlci5rZXkgPyBgJHtwYXJhbWV0ZXIua2V5fT1gIDogJyd9JHtwYXJhbWV0ZXIudmFsdWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvdXRwdXQucHVzaCgnfX0nKTtcblxuICAgICAgICAgICAgaWYgKG91dHB1dC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRbMF0gKz0gJ319JztcblxuICAgICAgICAgICAgICAgIG91dHB1dC5wb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3R5bGUgPT09IEZvcm1hdFN0eWxlLk1pbmltaXplZFNwYWNlZCkge1xuICAgICAgICAgICAgICAgIG91dHB1dFtvdXRwdXQubGVuZ3RoIC0gMl0gKz0gJ319JztcblxuICAgICAgICAgICAgICAgIG91dHB1dC5wb3AoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGpvaW5lZE91dHB1dCA9IG91dHB1dC5qb2luKFxuICAgICAgICAgICAgICAgIHN0eWxlID09PSBGb3JtYXRTdHlsZS5FeHBhbmRlZCB8fCBzdHlsZSA9PT0gRm9ybWF0U3R5bGUuRXhwYW5kZWRBbGlnbmVkXG4gICAgICAgICAgICAgICAgICAgID8gJ1xcbidcbiAgICAgICAgICAgICAgICAgICAgOiBzdHlsZSA9PT0gRm9ybWF0U3R5bGUuTWluaW1pemVkU3BhY2VkXG4gICAgICAgICAgICAgICAgICAgICAgPyAnICdcbiAgICAgICAgICAgICAgICAgICAgICA6ICcnLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBzdWJUZW1wbGF0ZSBvZiB0aGlzLnN1YlRlbXBsYXRlcylcbiAgICAgICAgICAgICAgICBqb2luZWRPdXRwdXQgPSBqb2luZWRPdXRwdXQucmVwbGFjZSh0aGlzLlBMQUNFSE9MREVSX1NUUklOR1NbMF0sIHN1YlRlbXBsYXRlLmZvcm1hdCgpKTtcblxuICAgICAgICAgICAgcmV0dXJuIGpvaW5lZE91dHB1dDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGFsbFRlbXBsYXRlczogVGVtcGxhdGVbXSA9IFtdO1xuXG4gICAgY29uc3QgaW5zaWRlVGVtcGxhdGVzOiBUZW1wbGF0ZVtdID0gW107XG4gICAgbGV0IGlzSW5zaWRlTGluayA9IGZhbHNlO1xuICAgIGxldCBpc0luc2lkZU5vd2lraSA9IGZhbHNlO1xuICAgIGxldCBpc0luc2lkZUNvbW1lbnQgPSBmYWxzZTtcblxuICAgIGxldCBjdXJyZW50TG9jYXRpb24gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBjb250ZW50IGZvbGxvd2luZyB0aGUgY3VycmVudCBsb2NhdGlvbiBtYXRjaGVzIHRoZSBkZXNpcmVkIHN0cmluZy5cbiAgICAgKiBAcGFyYW0gZGVzaXJlZFN0cmluZyBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBdFN0cmluZyhkZXNpcmVkU3RyaW5nOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgaXNBdFN0cmluZyA9IGNvbnRlbnQuc2xpY2UoY3VycmVudExvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24gKyBkZXNpcmVkU3RyaW5nLmxlbmd0aCkgPT09IGRlc2lyZWRTdHJpbmc7XG5cbiAgICAgICAgaWYgKGlzQXRTdHJpbmcpIGN1cnJlbnRMb2NhdGlvbiArPSBkZXNpcmVkU3RyaW5nLmxlbmd0aDtcblxuICAgICAgICByZXR1cm4gaXNBdFN0cmluZztcbiAgICB9XG5cbiAgICB3aGlsZSAoY3VycmVudExvY2F0aW9uIDwgY29udGVudC5sZW5ndGgpXG4gICAgICAgIGlmIChpc0F0U3RyaW5nKCc8bm93aWtpPicpKSBpc0luc2lkZU5vd2lraSA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKGlzQXRTdHJpbmcoJzwvbm93aWtpPicpKSBpc0luc2lkZU5vd2lraSA9IGZhbHNlO1xuICAgICAgICBlbHNlIGlmIChpc0F0U3RyaW5nKCc8IS0tJykpIGlzSW5zaWRlQ29tbWVudCA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKGlzQXRTdHJpbmcoJy0tPicpKSBpc0luc2lkZUNvbW1lbnQgPSBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAoIWlzSW5zaWRlTm93aWtpICYmICFpc0luc2lkZUNvbW1lbnQpXG4gICAgICAgICAgICBpZiAoaXNBdFN0cmluZygnW1snKSkgaXNJbnNpZGVMaW5rID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzSW5zaWRlTGluayAmJiBpc0F0U3RyaW5nKCddXScpKSBpc0luc2lkZUxpbmsgPSBmYWxzZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzQXRTdHJpbmcoJ3t7JykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShjdXJyZW50TG9jYXRpb24gLSAyKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbnNpZGVUZW1wbGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5pc05lc3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGluc2lkZVRlbXBsYXRlcy5hdCgtMSk/LnN1YlRlbXBsYXRlcy5wdXNoKHRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpbnNpZGVUZW1wbGF0ZXMucHVzaCh0ZW1wbGF0ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzQXRTdHJpbmcoJ319JykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0VGVtcGxhdGUgPSBpbnNpZGVUZW1wbGF0ZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFsYXN0VGVtcGxhdGUpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgbGFzdFRlbXBsYXRlLmxvY2F0aW9uLmVuZCA9IGN1cnJlbnRMb2NhdGlvbjtcblxuICAgICAgICAgICAgICAgIGFsbFRlbXBsYXRlcy5wdXNoKGxhc3RUZW1wbGF0ZSk7XG4gICAgICAgICAgICB9IGVsc2UgY3VycmVudExvY2F0aW9uKys7XG4gICAgICAgIGVsc2UgY3VycmVudExvY2F0aW9uKys7XG5cbiAgICBsZXQgbmV3Q29udGVudCA9IGNvbnRlbnQ7XG5cbiAgICBmb3IgKGNvbnN0IHRlbXBsYXRlIG9mIGFsbFRlbXBsYXRlcylcbiAgICAgICAgaWYgKCF0ZW1wbGF0ZS5pc05lc3RlZCkge1xuICAgICAgICAgICAgdGVtcGxhdGUucGFyc2UoKTtcblxuICAgICAgICAgICAgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQucmVwbGFjZSh0ZW1wbGF0ZS5mdWxsVGV4dCEsIHRlbXBsYXRlLmZvcm1hdCgpKTtcbiAgICAgICAgfVxuXG4gICAgcmV0dXJuIG5ld0NvbnRlbnQ7XG59XG5cbi8qKlxuICogUmVtb3ZlcyB1bm5lY2Vzc2FyeSBjb21tZW50cyBmcm9tIGFuIGFydGljbGUncyBjb250ZW50LlxuICogQHBhcmFtIGNvbnRlbnQgVGhlIGFydGljbGUgY29udGVudCB0byBjbGVhbiB1cC5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQ29tbWVudHMoY29udGVudDogc3RyaW5nKSB7XG4gICAgaWYgKG13LmNvbmZpZy5nZXQoJ3dnTmFtZXNwYWNlTnVtYmVyJykgIT09IDApIHJldHVybiBjb250ZW50O1xuXG4gICAgY29uc3QgQ09NTUVOVFNfVE9fUkVNT1ZFID0gW1xuICAgICAgICAnRG8gbm90IHJlbW92ZSB0aGlzIGxpbmUnLFxuICAgICAgICAnRURJVCBCRUxPVyBUSElTIExJTkUnLFxuICAgICAgICAnSW1wb3J0YW50LCBkbyBub3QgcmVtb3ZlIGFueXRoaW5nIGFib3ZlIHRoaXMgbGluZSBiZWZvcmUgYXJ0aWNsZSBoYXMgYmVlbiBjcmVhdGVkJyxcbiAgICAgICAgJ0ltcG9ydGFudCwgZG8gbm90IHJlbW92ZSB0aGlzIGxpbmUgYmVmb3JlIGFydGljbGUgaGFzIGJlZW4gY3JlYXRlZCcsXG4gICAgICAgICdJbmxpbmUgY2l0YXRpb25zIGFkZGVkIHRvIHlvdXIgYXJ0aWNsZSB3aWxsIGF1dG9tYXRpY2FsbHkgZGlzcGxheSBoZXJlJyxcbiAgICAgICAgJ05vdGU6IFRoZSBmb2xsb3dpbmcgcGFnZXMgd2VyZSByZWRpcmVjdHMgdG8gJyxcbiAgICBdO1xuXG4gICAgZm9yIChjb25zdCBjb21tZW50IG9mIENPTU1FTlRTX1RPX1JFTU9WRSlcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbChuZXcgUmVnRXhwKGAgKjwhLS0gPyR7ZXNjYXBlUmVnZXhDaGFyYWN0ZXJzKGNvbW1lbnQpfS4qPy0tPiAqXFxuP2AsICdncycpLCAnJyk7XG5cbiAgICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBBZGRzIHJlbGV2YW50IHRhZ3MgdG8gYW4gYXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAcGFyYW0gY29udGVudCBUaGUgYXJ0aWNsZSBjb250ZW50IHRvIGFkZCB0YWdzIHRvLlxuICovXG5mdW5jdGlvbiBhdXRvVGFnUGFnZShjb250ZW50OiBzdHJpbmcpIHtcbiAgICBpZiAobXcuY29uZmlnLmdldCgnd2dOYW1lc3BhY2VOdW1iZXInKSAhPT0gMCkgcmV0dXJuIGNvbnRlbnQ7XG5cbiAgICBjb25zdCBudW1iZXJPZkNhdGVnb3JpZXMgPSBbLi4uY29udGVudC5tYXRjaEFsbCgvXFxbXFxbQ2F0ZWdvcnk6L2cpXS5sZW5ndGg7XG5cbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKC9cXG4qe3sodW5jYXRlZ29yaXplZHxpbXByb3ZlIGNhdGVnb3JpZXMpKFxcfC4rPyk/fX0oe3t8XFxuK3wkKS9naSwgJycpO1xuXG4gICAgaWYgKG51bWJlck9mQ2F0ZWdvcmllcyA9PT0gMCAmJiAhL3t7dW5jYXRlZ29yaXplZC9pLnRlc3QoY29udGVudCkpXG4gICAgICAgIGNvbnRlbnQgKz0gJ1xcblxcbnt7VW5jYXRlZ29yaXplZHx7e3N1YnN0OkNVUlJFTlRNT05USE5BTUV9fSB7e3N1YnN0OkNVUlJFTlRZRUFSfX19fSc7XG4gICAgZWxzZSBpZiAobnVtYmVyT2ZDYXRlZ29yaWVzID09PSAxICYmICEve3tpbXByb3ZlIGNhdGVnb3JpZXMvaS50ZXN0KGNvbnRlbnQpKVxuICAgICAgICBjb250ZW50ICs9ICdcXG5cXG57e0ltcHJvdmUgY2F0ZWdvcmllc3x7e3N1YnN0OkNVUlJFTlRNT05USE5BTUV9fSB7e3N1YnN0OkNVUlJFTlRZRUFSfX19fSc7XG5cbiAgICByZXR1cm4gY29udGVudDtcbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7OzttQkFHTyxJQUFNQSxFQUFNLElBQUksR0FBRyxJQU0xQixlQUFzQkMsRUFBZUMsRUFBZSxDQUNoRCxPQUNLLE1BQU1GLEVBQUksSUFBSSxDQUNYLE9BQVEsUUFDUixjQUFlLElBQ2YsS0FBTSxZQUNOLE9BQVEsVUFDUixRQUFTLE9BQ1QsT0FBUUUsQ0FDWixDQUFtQyxHQUNyQyxNQUFNLE1BQU0sQ0FBQyxFQUFFLFlBQVksQ0FBQyxFQUFFLE1BQU0sS0FBSyxRQUFRLEtBQUssQ0FDNUQsRUNnQkMsSUFBTSxDQUVILEdBREksR0FBRyxPQUFPLElBQUksbUJBQW1CLEVBQUksR0FDckMsQ0FBQyxHQUFHLE9BQU8sSUFBSSxzQkFBc0IsRUFBRyxPQUU1QyxJQUFNQyxFQUFlLENBQUMsaUJBQWtCLHNC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RTdHLE9BQU90SSxDQUNYLENBTUEsU0FBU0wsRUFBWUssRUFBaUIsQ0FDbEMsR0FBSSxHQUFHLE9BQU8sSUFBSSxtQkFBbUIsSUFBTSxFQUFHLE9BQU9BLEVBRXJELElBQU11SSxFQUFxQixDQUFDLEdBQUd2SSxFQUFRLFNBQVMsZ0JBQWdCLENBQUMsRUFBRSxPQUVuRSxPQUFBQSxFQUFVQSxFQUFRLFdBQVcsZ0VBQWlFLEVBQUUsRUFFNUZ1SSxJQUF1QixHQUFLLENBQUMsbUJBQW1CLEtBQUt2SSxDQUFPLEVBQzVEQSxHQUFXO0FBQUE7QUFBQSxvRUFDTnVJLElBQXVCLEdBQUssQ0FBQyx3QkFBd0IsS0FBS3ZJLENBQU8sSUFDdEVBLEdBQVc7QUFBQTtBQUFBLDBFQUVSQSxDQUNYIiwKICAibmFtZXMiOiBbImFwaSIsICJnZXRQYWdlQ29udGVudCIsICJ0aXRsZSIsICJkZXBlbmRlbmNpZXMiLCAic2hvdWxkQWRkU2NyaXB0TWVzc2FnZSIsICJTQ1JJUFRfTUVTU0FHRSIsICJ1cGRhdGVTdW1tYXJ5IiwgInRleHRhcmVhIiwgImhhbmRsZUFjdGl2YXRpb24iLCAiZXZlbnQiLCAiZWRpdG9yIiwgIm9yaWdpbmFsVGV4dCIsICJmaW5hbFRleHQiLCAiY2xlYW51cFN0cmF5VW5pY29kZUNoYXJhY3RlcnMiLCAiY2xlYW51cFNlY3Rpb25IZWFkZXJzIiwgImNsZWFudXBNYWdpY1dvcmRzIiwgImNsZWFudXBEaXNwbGF5dGl0bGVzQW5kRGVmYXVsdHNvcnRzIiwgImNsZWFudXBDYXRlZ29yaWVzIiwgImNsZWFudXBMaW5rcyIsICJjbGVhbnVwSW1wcm9wZXJDaGFyYWN0ZXJzIiwgImNsZWFudXBZZWFyUmFuZ2VzIiwgImNsZWFudXBTdHJheU1hcmt1cCIsICJjbGVhbnVwU3BhY2luZyIsICJjbGVhbnVwUmVmZXJlbmNlcyIsICJmb3JtYXRUZW1wbGF0ZXMiLCAicmVtb3ZlQ29tbWVudHMiLCAiYXV0b1RhZ1BhZ2UiLCAic3VyZmFjZU1vZGVsIiwgInN1bW1hcnlJbnB1dCIsICJoZWFkZXJTd2l0Y2hlciIsICJidXR0b24iLCAiY29udGVudCIsICJlc2NhcGVSZWdleENoYXJhY3RlcnMiLCAic3RyaW5nIiwgIlNUUkFZX1VOSUNPREVfUkVHRVgiLCAiQ09NTU9OX1JFUExBQ0VNRU5UUyIsICJDT01NT05fTUlTQ0FQSVRBTElaRURfV09SRFMiLCAicmV2ZXJzZUNvbW1vblJlcGxhY2VtZW50cyIsICJrZXkiLCAidmFsdWVzIiwgInZhbHVlIiwgInBhcnNlZEhlYWRlcnMiLCAiaGVhZGVyIiwgIm5hbWUiLCAic3RhcnRNYXJrdXAiLCAiZW5kTWFya3VwIiwgImxpbmtzIiwgImxpbmsiLCAiZGVwdGgiLCAiaGVhZGVyc1NldCIsICJ0aXRsZVNwYWNlciIsICJsb3dlcmNhc2VOYW1lIiwgImNhcGl0YWxpemVkTmFtZSIsICJ3b3JkIiwgIm91dHB1dCIsICJwYXJzZWRUYWdzIiwgInRhZyIsICJmdWxsVGFnIiwgInR5cGUiLCAiY3VycmVudFRpdGxlIiwgIm9yaWdpbmFsVGFnUmVnZXgiLCAidW5wcmVmaXhlZFRpdGxlIiwgInRpdGxlIiwgImRlZmF1bHRLZXkiLCAiY3VzdG9tS2V5IiwgIm5ld1RleHQiLCAiZnVuY3Rpb25zQ2FsbGVkV2hpbGVFc2NhcGVkIiwgImNsb3NlZExpbmtzIiwgImlzSW5zaWRlTm93aWtpIiwgImlzSW5zaWRlQ29tbWVudCIsICJjdXJyZW50TG9jYXRpb24iLCAiaXNBdFN0cmluZyIsICJkZXNpcmVkU3RyaW5nIiwgInNob3VsZEluY3JlbWVudCIsICJsYXN0TGluayIsICJuZXdMaW5rQ29udGVudCIsICJuYW1lc3BhY2VOYW1lcyIsICJsaW5rTG9jYXRpb24iLCAiaW5uZXJMaW5rIiwgInVucGFyc2VkTGluayIsICJwYXJhbWV0ZXJzIiwgImFsdFRleHQiLCAiaXNGaXJzdENoYXJhY3RlckNvbG9uIiwgInNob3VsZEZpcnN0Q2hhcmFjdGVyQmVDb2xvbiIsICJsaW5rVXBwZXJjYXNlU3RhcnQiLCAibGlua0xvd2VyY2FzZVN0YXJ0IiwgIm5hbWVzcGFjZSIsICJiZWZvcmVMaW5rVGV4dCIsICJhZnRlckxpbmtUZXh0IiwgIm1hdGNoZWRNYXJrdXAiLCAiYWRkZWRQdW5jdHVhdGlvbiIsICJuZXdMaW5rIiwgImZ1bmN0aW9uVG9DYWxsIiwgImxvb3BDb3VudGVyIiwgImxpbmtEYXRhIiwgImxpbmtDb250ZW50IiwgInJ1biIsICJFTElQU0lTX1BMQUNFSE9MREVSIiwgIk5CU1BfUExBQ0VIT0xERVIiLCAib3JpZ2luYWwiLCAic3RhcnQiLCAiZW5kIiwgIlNUUkFZX01BUktVUF9SRUdFWEVTIiwgInJlZ2V4IiwgInNlY29uZFJ1biIsICJQTEFDRUhPTERFUiIsICJUQUdTX1RPX0lHTk9SRSIsICJpZ25vcmVkVGFnc0NvbnRlbnQiLCAiZnVsbE1hdGNoIiwgInN0YXJ0VGFnIiwgInRhZ05hbWUiLCAiaW5uZXJDb250ZW50IiwgImVuZFRhZyIsICJ0YWdDb250ZW50IiwgInJlZmVyZW5jZVRhZyIsICJwdW5jdHVhdGlvbiIsICJyZWZlcmVuY2VzIiwgInByb2NlZWRVbnRpbFN0cmluZyIsICJpc1NlbGZDbG9zaW5nIiwgInBhcnNlciIsICJyZXBsYWNlbWVudHMiLCAicmVmZXJlbmNlIiwgInRlbXBsYXRlQWxpYXNlcyIsICJGb3JtYXRTdHlsZSIsICJOYW1lc3BhY2UiLCAiZ2V0UGFnZUNvbnRlbnQiLCAibWFwcGVkVGVtcGxhdGVBbGlhc2VzIiwgImFsaWFzIiwgImZyb20iLCAiVGVtcGxhdGUiLCAic3RhcnRMb2NhdGlvbiIsICJudW1iZXIiLCAic3ViVGVtcGxhdGUiLCAidHJpbW1lZElubmVyVGV4dCIsICJwaXBlRXNjYXBlUmVnZXgiLCAiZnVsbFRleHQiLCAiYXR0cmlidXRlcyIsICJwYXJhbWV0ZXIiLCAibmFtZUxvd2VyY2FzZUZpcnN0IiwgImlzU3RhcnRMb3dlciIsICJmaW5hbE5hbWUiLCAibXVzdFN0YXJ0QmVVcHBlcmNhc2UiLCAic3BsaXRQYXJhbWV0ZXJzIiwgImVxdWFsc0xvY2F0aW9uIiwgInRlbXBsYXRlcyIsICJtb3N0U3BlY2lmaWNEZWZhdWx0U3R5bGVQcmVmaXhMZW5ndGgiLCAibW9zdFNwZWNpZmljRGVmYXVsdFN0eWxlRm9ybWF0U3R5bGUiLCAiZm9ybWF0U3R5bGUiLCAidGVtcGxhdGVQcmVmaXhlcyIsICJ0ZW1wbGF0ZVByZWZpeCIsICJ2YWx1ZUJlZm9yZSIsICJpbWFnZVBhcmFtZXRlcnMiLCAic2hvdWxkU3Vic3QiLCAic3R5bGUiLCAibmV3TmFtZSIsICJyZXF1aXJlZEtleUxlbmd0aCIsICJpbmRleCIsICJqb2luZWRPdXRwdXQiLCAiYWxsVGVtcGxhdGVzIiwgImluc2lkZVRlbXBsYXRlcyIsICJpc0luc2lkZUxpbmsiLCAidGVtcGxhdGUiLCAibGFzdFRlbXBsYXRlIiwgIm5ld0NvbnRlbnQiLCAiQ09NTUVOVFNfVE9fUkVNT1ZFIiwgImNvbW1lbnQiLCAibnVtYmVyT2ZDYXRlZ29yaWVzIl0KfQo=
