"use strict";mw.loader.using(["mediawiki.util"],()=>{if(mw.config.get("wgPageName")!=="User:Eejit43")return;mw.util.addPortletLink(mw.config.get("skin")==="minerva"?"p-tb":"p-cactions","#","Add counts to monitoring list","add-monitoring-counts").addEventListener("click",async l=>{l.preventDefault();const r=JSON.parse((await new mw.Api().get({action:"query",formatversion:"2",prop:"revisions",rvprop:"content",rvslots:"main",titles:"User:Eejit43/scripts/to-monitor-list.json"})).query.pages[0].revisions[0].slots.main.content);r.categories.forEach(async e=>{const n=await new mw.Api().get({action:"query",list:"search",srinfo:"totalhits",srnamespace:getCategory(e),srsearch:`incategory:"${e.category}"`}).catch((s,a)=>(mw.notify(`An error occurred while trying to get category members: ${a?.error.info??"Unknown error"} (${s})`,{type:"error"}),null));if(!n)return;const t=n.query.searchinfo.totalhits,i=document.querySelector(`#to-monitor-list-${e.id}`);if(!i)return mw.notify(`Failed to find element for ID "${e.id}"`);i.innerHTML=t===0?'<span style="color: #00733f">None</span>':`<b><span style="color: #bd2828">${t===500?"500+":t}</span></b>`}),r.searches.forEach(async e=>{const n=await new mw.Api().get({action:"query",list:"search",srinfo:"totalhits",srnamespace:getCategory(e),srsearch:e.search}).catch((s,a)=>(mw.notify(`An error occurred while trying to get search results: ${a?.error.info??"Unknown error"} (${s})`,{type:"error"}),null));if(!n)return;const t=n.query.searchinfo.totalhits,i=document.querySelector(`#to-monitor-list-${e.id}`);if(!i)return mw.notify(`Failed to find element for ID "${e.id}"`);i.innerHTML=t===0?'<span style="color: #00733f">None</span>':`<b><span style="color: #bd2828">${t.toLocaleString()}</span></b>`}),r.whatLinksHere.forEach(async e=>{const n=await new mw.Api().get({action:"query",list:"backlinks",bllimit:500,blnamespace:getCategory(e),bltitle:e.title}).catch((s,a)=>(mw.notify(`An error occurred while trying to get backlinks: ${a?.error.info??"Unknown error"} (${s})`,{type:"error"}),null));if(!n)return;const t=n.query.backlinks.length,i=document.querySelector(`#to-monitor-list-${e.id}`);if(!i)return mw.notify(`Failed to find element for ID "${e.id}"`);i.innerHTML=t===0?'<span style="color: #00733f">None</span>':`<b><span style="color: #bd2828">${t===500?"500+":t}</span></b>`}),r.transclusions.forEach(async e=>{const n=await new mw.Api().get({action:"query",list:"embeddedin",eilimit:500,einamespace:getCategory(e),eititle:e.title}).catch((s,a)=>(mw.notify(`An error occurred while trying to get transclusions: ${a?.error.info??"Unknown error"} (${s})`,{type:"error"}),null));if(!n)return;const t=n.query.embeddedin.length,i=document.querySelector(`#to-monitor-list-${e.id}`);if(!i)return mw.notify(`Failed to find element for ID "${e.id}"`);i.innerHTML=t===0?'<span style="color: #00733f">None</span>':`<b><span style="color: #bd2828">${t===500?"500+":t}</span></b>`}),mw.notify('Successfully added missing counts to "Stuff to monitor"',{type:"success"})})});function getCategory({namespace:o,notNamespace:l}){if(!o&&!l)return 0;if(o){const r=Object.entries(mw.config.get("wgFormattedNamespaces")).find(([,e])=>e===o);return r?Number.parseInt(r[0]):0}else return Object.entries(mw.config.get("wgFormattedNamespaces")).filter(([,r])=>l!==(r||"Article")).map(([r])=>Number.parseInt(r))}
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vc2NyaXB0cy90by1tb25pdG9yLWxpc3QudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IEFwaVF1ZXJ5QmFja2xpbmtzUGFyYW1zLCBBcGlRdWVyeVJldmlzaW9uc1BhcmFtcywgQXBpUXVlcnlTZWFyY2hQYXJhbXMgfSBmcm9tICd0eXBlcy1tZWRpYXdpa2kvYXBpX3BhcmFtcyc7XG5pbXBvcnQgeyBCYWNrbGlua3NSZXN1bHQsIEVtYmVkZGVkaW5SZXN1bHQsIE1lZGlhV2lraURhdGFFcnJvciwgUGFnZVJldmlzaW9uc1Jlc3VsdCwgU2VhcmNoUmVzdWx0IH0gZnJvbSAnLi4vZ2xvYmFsLXR5cGVzJztcblxuaW50ZXJmYWNlIFNlYXJjaERhdGEge1xuICAgIGNhdGVnb3JpZXM6IHsgaWQ6IHN0cmluZzsgY2F0ZWdvcnk6IHN0cmluZzsgbmFtZXNwYWNlPzogc3RyaW5nOyBub3ROYW1lc3BhY2U/OiBzdHJpbmcgfVtdO1xuICAgIHNlYXJjaGVzOiB7IGlkOiBzdHJpbmc7IHNlYXJjaDogc3RyaW5nOyBuYW1lc3BhY2U/OiBzdHJpbmc7IG5vdE5hbWVzcGFjZT86IHN0cmluZyB9W107XG4gICAgd2hhdExpbmtzSGVyZTogeyBpZDogc3RyaW5nOyB0aXRsZTogc3RyaW5nOyBuYW1lc3BhY2U/OiBzdHJpbmc7IG5vdE5hbWVzcGFjZT86IHN0cmluZyB9W107XG4gICAgdHJhbnNjbHVzaW9uczogeyBpZDogc3RyaW5nOyB0aXRsZTogc3RyaW5nOyBuYW1lc3BhY2U/OiBzdHJpbmc7IG5vdE5hbWVzcGFjZT86IHN0cmluZyB9W107XG59XG5cbm13LmxvYWRlci51c2luZyhbJ21lZGlhd2lraS51dGlsJ10sICgpID0+IHtcbiAgICBpZiAobXcuY29uZmlnLmdldCgnd2dQYWdlTmFtZScpICE9PSAnVXNlcjpFZWppdDQzJykgcmV0dXJuO1xuXG4gICAgY29uc3QgbGluayA9IG13LnV0aWwuYWRkUG9ydGxldExpbmsobXcuY29uZmlnLmdldCgnc2tpbicpID09PSAnbWluZXJ2YScgPyAncC10YicgOiAncC1jYWN0aW9ucycsICcjJywgJ0FkZCBjb3VudHMgdG8gbW9uaXRvcmluZyBsaXN0JywgJ2FkZC1tb25pdG9yaW5nLWNvdW50cycpITtcblxuICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBjb25zdCB0b0NoZWNrID0gSlNPTi5wYXJzZShcbiAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAoYXdhaXQgbmV3IG13LkFwaSgpLmdldCh7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ3F1ZXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dmVyc2lvbjogJzInLFxuICAgICAgICAgICAgICAgICAgICBwcm9wOiAncmV2aXNpb25zJyxcbiAgICAgICAgICAgICAgICAgICAgcnZwcm9wOiAnY29udGVudCcsXG4gICAgICAgICAgICAgICAgICAgIHJ2c2xvdHM6ICdtYWluJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGVzOiAnVXNlcjpFZWppdDQzL3NjcmlwdHMvdG8tbW9uaXRvci1saXN0Lmpzb24nLFxuICAgICAgICAgICAgICAgIH0gc2F0aXNmaWVzIEFwaVF1ZXJ5UmV2aXNpb25zUGFyYW1zKSkgYXMgUGFnZVJldmlzaW9uc1Jlc3VsdFxuICAgICAgICAgICAgKS5xdWVyeS5wYWdlc1swXS5yZXZpc2lvbnNbMF0uc2xvdHMubWFpbi5jb250ZW50LFxuICAgICAgICApIGFzIFNlYXJjaERhdGE7XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vbm8tYXJyYXktZm9yLWVhY2hcbiAgICAgICAgdG9DaGVjay5jYXRlZ29yaWVzLmZvckVhY2goYXN5bmMgKGNoZWNrKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXRhOiBTZWFyY2hSZXN1bHQgfCBudWxsID0gYXdhaXQgbmV3IG13LkFwaSgpXG4gICAgICAgICAgICAgICAgLmdldCh7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ3F1ZXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgbGlzdDogJ3NlYXJjaCcsXG4gICAgICAgICAgICAgICAgICAgIHNyaW5mbzogJ3RvdGFsaGl0cycsXG4gICAgICAgICAgICAgICAgICAgIHNybmFtZXNwYWNlOiBnZXRDYXRlZ29yeShjaGVjayksXG4gICAgICAgICAgICAgICAgICAgIHNyc2VhcmNoOiBgaW5jYXRlZ29yeTpcIiR7Y2hlY2suY2F0ZWdvcnl9XCJgLFxuICAgICAgICAgICAgICAgIH0gc2F0aXNmaWVzIEFwaVF1ZXJ5U2VhcmNoUGFyYW1zKVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3JDb2RlOiBzdHJpbmcsIGVycm9ySW5mbzogTWVkaWFXaWtpRGF0YUVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG13Lm5vdGlmeShgQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGdldCBjYXRlZ29yeSBtZW1iZXJzOiAke2Vycm9ySW5mbz8uZXJyb3IuaW5mbyA/PyAnVW5rbm93biBlcnJvcid9ICgke2Vycm9yQ29kZX0pYCwgeyB0eXBlOiAnZXJyb3InIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gKGRhdGEgYXMgU2VhcmNoUmVzdWx0KS5xdWVyeS5zZWFyY2hpbmZvLnRvdGFsaGl0cztcblxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCN0by1tb25pdG9yLWxpc3QtJHtjaGVjay5pZH1gKTtcbiAgICAgICAgICAgIGlmICghZWxlbWVudCkgcmV0dXJuIG13Lm5vdGlmeShgRmFpbGVkIHRvIGZpbmQgZWxlbWVudCBmb3IgSUQgXCIke2NoZWNrLmlkfVwiYCk7XG4gICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IGNvdW50ID09PSAwID8gJzxzcGFuIHN0eWxlPVwiY29sb3I6ICMwMDczM2ZcIj5Ob25lPC9zcGFuPicgOiBgPGI+PHNwYW4gc3R5bGU9XCJjb2xvcjogI2JkMjgyOFwiPiR7Y291bnQgPT09IDUwMCA/ICc1MDArJyA6IGNvdW50fTwvc3Bhbj48L2I+YDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vbm8tYXJyYXktZm9yLWVhY2hcbiAgICAgICAgdG9DaGVjay5zZWFyY2hlcy5mb3JFYWNoKGFzeW5jIChjaGVjaykgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0YTogU2VhcmNoUmVzdWx0IHwgbnVsbCA9IGF3YWl0IG5ldyBtdy5BcGkoKVxuICAgICAgICAgICAgICAgIC5nZXQoe1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdxdWVyeScsXG4gICAgICAgICAgICAgICAgICAgIGxpc3Q6ICdzZWFyY2gnLFxuICAgICAgICAgICAgICAgICAgICBzcmluZm86ICd0b3RhbGhpdHMnLFxuICAgICAgICAgICAgICAgICAgICBzcm5hbWVzcGFjZTogZ2V0Q2F0ZWdvcnkoY2hlY2spLFxuICAgICAgICAgICAgICAgICAgICBzcnNlYXJjaDogY2hlY2suc2VhcmNoLFxuICAgICAgICAgICAgICAgIH0gc2F0aXNmaWVzIEFwaVF1ZXJ5U2VhcmNoUGFyYW1zKVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3JDb2RlOiBzdHJpbmcsIGVycm9ySW5mbzogTWVkaWFXaWtpRGF0YUVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG13Lm5vdGlmeShgQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGdldCBzZWFyY2ggcmVzdWx0czogJHtlcnJvckluZm8/LmVycm9yLmluZm8gPz8gJ1Vua25vd24gZXJyb3InfSAoJHtlcnJvckNvZGV9KWAsIHsgdHlwZTogJ2Vycm9yJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBjb25zdCBjb3VudCA9IChkYXRhIGFzIFNlYXJjaFJlc3VsdCkucXVlcnkuc2VhcmNoaW5mby50b3RhbGhpdHM7XG5cbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjdG8tbW9uaXRvci1saXN0LSR7Y2hlY2suaWR9YCk7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybiBtdy5ub3RpZnkoYEZhaWxlZCB0byBmaW5kIGVsZW1lbnQgZm9yIElEIFwiJHtjaGVjay5pZH1cImApO1xuICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBjb3VudCA9PT0gMCA/ICc8c3BhbiBzdHlsZT1cImNvbG9yOiAjMDA3MzNmXCI+Tm9uZTwvc3Bhbj4nIDogYDxiPjxzcGFuIHN0eWxlPVwiY29sb3I6ICNiZDI4MjhcIj4ke2NvdW50LnRvTG9jYWxlU3RyaW5nKCl9PC9zcGFuPjwvYj5gO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9uby1hcnJheS1mb3ItZWFjaFxuICAgICAgICB0b0NoZWNrLndoYXRMaW5rc0hlcmUuZm9yRWFjaChhc3luYyAoY2hlY2spID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGE6IEJhY2tsaW5rc1Jlc3VsdCB8IG51bGwgPSBhd2FpdCBuZXcgbXcuQXBpKClcbiAgICAgICAgICAgICAgICAuZ2V0KHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAncXVlcnknLFxuICAgICAgICAgICAgICAgICAgICBsaXN0OiAnYmFja2xpbmtzJyxcbiAgICAgICAgICAgICAgICAgICAgYmxsaW1pdDogNTAwLFxuICAgICAgICAgICAgICAgICAgICBibG5hbWVzcGFjZTogZ2V0Q2F0ZWdvcnkoY2hlY2spLFxuICAgICAgICAgICAgICAgICAgICBibHRpdGxlOiBjaGVjay50aXRsZSxcbiAgICAgICAgICAgICAgICB9IHNhdGlzZmllcyBBcGlRdWVyeUJhY2tsaW5rc1BhcmFtcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yQ29kZTogc3RyaW5nLCBlcnJvckluZm86IE1lZGlhV2lraURhdGFFcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtdy5ub3RpZnkoYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byBnZXQgYmFja2xpbmtzOiAke2Vycm9ySW5mbz8uZXJyb3IuaW5mbyA/PyAnVW5rbm93biBlcnJvcid9ICgke2Vycm9yQ29kZX0pYCwgeyB0eXBlOiAnZXJyb3InIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gKGRhdGEgYXMgQmFja2xpbmtzUmVzdWx0KS5xdWVyeS5iYWNrbGlua3MubGVuZ3RoO1xuXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3RvLW1vbml0b3ItbGlzdC0ke2NoZWNrLmlkfWApO1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm4gbXcubm90aWZ5KGBGYWlsZWQgdG8gZmluZCBlbGVtZW50IGZvciBJRCBcIiR7Y2hlY2suaWR9XCJgKTtcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gY291bnQgPT09IDAgPyAnPHNwYW4gc3R5bGU9XCJjb2xvcjogIzAwNzMzZlwiPk5vbmU8L3NwYW4+JyA6IGA8Yj48c3BhbiBzdHlsZT1cImNvbG9yOiAjYmQyODI4XCI+JHtjb3VudCA9PT0gNTAwID8gJzUwMCsnIDogY291bnR9PC9zcGFuPjwvYj5gO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9uby1hcnJheS1mb3ItZWFjaFxuICAgICAgICB0b0NoZWNrLnRyYW5zY2x1c2lvbnMuZm9yRWFjaChhc3luYyAoY2hlY2spID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGE6IEVtYmVkZGVkaW5SZXN1bHQgfCBudWxsID0gYXdhaXQgbmV3IG13LkFwaSgpXG4gICAgICAgICAgICAgICAgLmdldCh7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ3F1ZXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgbGlzdDogJ2VtYmVkZGVkaW4nLFxuICAgICAgICAgICAgICAgICAgICBlaWxpbWl0OiA1MDAsXG4gICAgICAgICAgICAgICAgICAgIGVpbmFtZXNwYWNlOiBnZXRDYXRlZ29yeShjaGVjayksXG4gICAgICAgICAgICAgICAgICAgIGVpdGl0bGU6IGNoZWNrLnRpdGxlLFxuICAgICAgICAgICAgICAgIH0gc2F0aXNmaWVzIEFwaVF1ZXJ5QmFja2xpbmtzUGFyYW1zKVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3JDb2RlOiBzdHJpbmcsIGVycm9ySW5mbzogTWVkaWFXaWtpRGF0YUVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG13Lm5vdGlmeShgQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGdldCB0cmFuc2NsdXNpb25zOiAke2Vycm9ySW5mbz8uZXJyb3IuaW5mbyA/PyAnVW5rbm93biBlcnJvcid9ICgke2Vycm9yQ29kZX0pYCwgeyB0eXBlOiAnZXJyb3InIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gKGRhdGEgYXMgRW1iZWRkZWRpblJlc3VsdCkucXVlcnkuZW1iZWRkZWRpbi5sZW5ndGg7XG5cbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjdG8tbW9uaXRvci1saXN0LSR7Y2hlY2suaWR9YCk7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybiBtdy5ub3RpZnkoYEZhaWxlZCB0byBmaW5kIGVsZW1lbnQgZm9yIElEIFwiJHtjaGVjay5pZH1cImApO1xuICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBjb3VudCA9PT0gMCA/ICc8c3BhbiBzdHlsZT1cImNvbG9yOiAjMDA3MzNmXCI+Tm9uZTwvc3Bhbj4nIDogYDxiPjxzcGFuIHN0eWxlPVwiY29sb3I6ICNiZDI4MjhcIj4ke2NvdW50ID09PSA1MDAgPyAnNTAwKycgOiBjb3VudH08L3NwYW4+PC9iPmA7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG13Lm5vdGlmeSgnU3VjY2Vzc2Z1bGx5IGFkZGVkIG1pc3NpbmcgY291bnRzIHRvIFwiU3R1ZmYgdG8gbW9uaXRvclwiJywgeyB0eXBlOiAnc3VjY2VzcycgfSk7XG4gICAgfSk7XG59KTtcblxuLyoqXG4gKiBQYXJzZXMgdGhlIHNlYXJjaGVkIGNhdGVnb3JpZXMgZnJvbSB0aGUgY2hlY2sgb2JqZWN0LlxuICogQHBhcmFtIGNoZWNrIFRoZSBjaGVjayBvYmplY3QuXG4gKiBAcGFyYW0gY2hlY2submFtZXNwYWNlIFRoZSBuYW1lc3BhY2UgdG8gc2VhcmNoIGluLlxuICogQHBhcmFtIGNoZWNrLm5vdE5hbWVzcGFjZSBUaGUgbmFtZXNwYWNlIHRvIGV4Y2x1ZGUgZnJvbSB0aGUgc2VhcmNoLlxuICogQHJldHVybnMgVGhlIGNhdGVnb3J5IElEIG9yIGxpc3Qgb2YgY2F0ZWdvcnkgSURzIChzZXBhcmF0ZWQgYnkgJ3wnKS5cbiAqL1xuZnVuY3Rpb24gZ2V0Q2F0ZWdvcnkoeyBuYW1lc3BhY2UsIG5vdE5hbWVzcGFjZSB9OiB7IG5hbWVzcGFjZT86IHN0cmluZzsgbm90TmFtZXNwYWNlPzogc3RyaW5nIH0pIHtcbiAgICBpZiAoIW5hbWVzcGFjZSAmJiAhbm90TmFtZXNwYWNlKSByZXR1cm4gMDtcbiAgICBlbHNlIGlmIChuYW1lc3BhY2UpIHtcbiAgICAgICAgY29uc3QgZm91bmROYW1lc3BhY2UgPSBPYmplY3QuZW50cmllcyhtdy5jb25maWcuZ2V0KCd3Z0Zvcm1hdHRlZE5hbWVzcGFjZXMnKSkuZmluZCgoWywgbmFtZXNwYWNlTmFtZV0pID0+IG5hbWVzcGFjZU5hbWUgPT09IG5hbWVzcGFjZSk7XG5cbiAgICAgICAgcmV0dXJuIGZvdW5kTmFtZXNwYWNlID8gTnVtYmVyLnBhcnNlSW50KGZvdW5kTmFtZXNwYWNlWzBdKSA6IDA7XG4gICAgfSBlbHNlXG4gICAgICAgIHJldHVybiBPYmplY3QuZW50cmllcyhtdy5jb25maWcuZ2V0KCd3Z0Zvcm1hdHRlZE5hbWVzcGFjZXMnKSlcbiAgICAgICAgICAgIC5maWx0ZXIoKFssIG5hbWVzcGFjZU5hbWVdKSA9PiBub3ROYW1lc3BhY2UgIT09IChuYW1lc3BhY2VOYW1lIHx8ICdBcnRpY2xlJykpXG4gICAgICAgICAgICAubWFwKChbbmFtZXNwYWNlSWRdKSA9PiBOdW1iZXIucGFyc2VJbnQobmFtZXNwYWNlSWQpKTtcbn1cbiJdLAogICJtYXBwaW5ncyI6ICJhQVVBLEdBQUcsT0FBTyxNQUFNLENBQUMsZ0JBQWdCLEVBQUcsSUFBTSxDQUN0QyxHQUFJLEdBQUcsT0FBTyxJQUFJLFlBQVksSUFBTSxlQUFnQixPQUV2QyxHQUFHLEtBQUssZUFBZSxHQUFHLE9BQU8sSUFBSSxNQUFNLElBQU0sVUFBWSxPQUFTLGFBQWMsSUFBSyxnQ0FBaUMsdUJBQXVCLEVBRXpKLGlCQUFpQixRQUFTLE1BQU9BLEdBQVUsQ0FDNUNBLEVBQU0sZUFBZSxFQUVyQixNQUFNQyxFQUFVLEtBQUssT0FFWixNQUFNLElBQUksR0FBRyxJQUFJLEVBQUUsSUFBSSxDQUNwQixPQUFRLFFBQ1IsY0FBZSxJQUNmLEtBQU0sWUFD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
